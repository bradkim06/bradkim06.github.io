{"version":3,"file":"commons-741a26207ef48bcefa96.js","mappings":"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","sources":["webpack://bradkim06/./node_modules/lodash-es/_baseFindIndex.js","webpack://bradkim06/./node_modules/lodash-es/keys.js","webpack://bradkim06/./node_modules/lodash-es/isSymbol.js","webpack://bradkim06/./node_modules/@babel/runtime/helpers/interopRequireWildcard.js","webpack://bradkim06/./node_modules/lodash-es/flatten.js","webpack://bradkim06/./node_modules/lodash-es/_arrayPush.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/utils/useForkRef.js","webpack://bradkim06/./node_modules/lodash-es/map.js","webpack://bradkim06/./node_modules/lodash-es/_cacheHas.js","webpack://bradkim06/./node_modules/lodash-es/_baseToString.js","webpack://bradkim06/./node_modules/lodash-es/toString.js","webpack://bradkim06/./node_modules/lodash-es/_baseIsNaN.js","webpack://bradkim06/./node_modules/lodash-es/_strictIndexOf.js","webpack://bradkim06/./node_modules/lodash-es/_baseIndexOf.js","webpack://bradkim06/./node_modules/lodash-es/_arrayIncludes.js","webpack://bradkim06/./node_modules/lodash-es/_arrayIncludesWith.js","webpack://bradkim06/./node_modules/lodash-es/noop.js","webpack://bradkim06/./node_modules/lodash-es/_createSet.js","webpack://bradkim06/./node_modules/lodash-es/_baseUniq.js","webpack://bradkim06/./node_modules/lodash-es/union.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/graphlib/graph.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/styles/defaultTheme.js","webpack://bradkim06/./node_modules/lodash-es/defaults.js","webpack://bradkim06/./node_modules/@material-ui/icons/utils/createSvgIcon.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/utils/ownerDocument.js","webpack://bradkim06/./node_modules/lodash-es/_baseGet.js","webpack://bradkim06/./node_modules/lodash-es/_isFlattenable.js","webpack://bradkim06/./node_modules/lodash-es/_baseFlatten.js","webpack://bradkim06/./node_modules/lodash-es/_baseHasIn.js","webpack://bradkim06/./node_modules/lodash-es/hasIn.js","webpack://bradkim06/./node_modules/lodash-es/_castFunction.js","webpack://bradkim06/./node_modules/mdast-util-from-markdown/node_modules/mdast-util-to-string/lib/index.js","webpack://bradkim06/./node_modules/micromark-util-chunked/index.js","webpack://bradkim06/./node_modules/micromark-util-combine-extensions/index.js","webpack://bradkim06/./node_modules/micromark-util-character/lib/unicode-punctuation-regex.js","webpack://bradkim06/./node_modules/micromark-util-character/index.js","webpack://bradkim06/./node_modules/micromark-factory-space/index.js","webpack://bradkim06/./node_modules/micromark/lib/initialize/content.js","webpack://bradkim06/./node_modules/micromark/lib/initialize/document.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/blank-line.js","webpack://bradkim06/./node_modules/micromark-util-subtokenize/index.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/content.js","webpack://bradkim06/./node_modules/micromark/lib/initialize/flow.js","webpack://bradkim06/./node_modules/micromark/lib/initialize/text.js","webpack://bradkim06/./node_modules/micromark-util-resolve-all/index.js","webpack://bradkim06/./node_modules/micromark/lib/create-tokenizer.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/thematic-break.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/list.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/block-quote.js","webpack://bradkim06/./node_modules/micromark-factory-destination/index.js","webpack://bradkim06/./node_modules/micromark-factory-label/index.js","webpack://bradkim06/./node_modules/micromark-factory-title/index.js","webpack://bradkim06/./node_modules/micromark-factory-whitespace/index.js","webpack://bradkim06/./node_modules/micromark-util-normalize-identifier/index.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/definition.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/code-indented.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/heading-atx.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/setext-underline.js","webpack://bradkim06/./node_modules/micromark-util-html-tag-name/index.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/html-flow.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/code-fenced.js","webpack://bradkim06/./node_modules/decode-named-character-reference/index.dom.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/character-reference.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/character-escape.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/line-ending.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/label-end.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/label-start-image.js","webpack://bradkim06/./node_modules/micromark-util-classify-character/index.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/attention.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/autolink.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/html-text.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/label-start-link.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/hard-break-escape.js","webpack://bradkim06/./node_modules/micromark-core-commonmark/lib/code-text.js","webpack://bradkim06/./node_modules/micromark/lib/constructs.js","webpack://bradkim06/./node_modules/micromark/lib/parse.js","webpack://bradkim06/./node_modules/micromark/lib/preprocess.js","webpack://bradkim06/./node_modules/micromark-util-decode-numeric-character-reference/index.js","webpack://bradkim06/./node_modules/micromark-util-decode-string/index.js","webpack://bradkim06/./node_modules/unist-util-stringify-position/lib/index.js","webpack://bradkim06/./node_modules/mdast-util-from-markdown/lib/index.js","webpack://bradkim06/./node_modules/micromark/lib/postprocess.js","webpack://bradkim06/./node_modules/mermaid/dist/createText-2e5e7dd3.js","webpack://bradkim06/./node_modules/lodash-es/_isKey.js","webpack://bradkim06/./node_modules/lodash-es/forEach.js","webpack://bradkim06/./node_modules/@material-ui/styles/esm/getThemeProps/getThemeProps.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/utils/useEventCallback.js","webpack://bradkim06/./node_modules/react-transition-group/esm/utils/ChildMapping.js","webpack://bradkim06/./node_modules/react-transition-group/esm/TransitionGroup.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/ButtonBase/Ripple.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/ButtonBase/TouchRipple.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/ButtonBase/ButtonBase.js","webpack://bradkim06/./node_modules/lodash-es/_hasPath.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/utils/deprecatedPropType.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/utils/requirePropFactory.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/utils/unsupportedProp.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/utils/unstable_useId.js","webpack://bradkim06/./node_modules/lodash-es/_baseFilter.js","webpack://bradkim06/./node_modules/lodash-es/filter.js","webpack://bradkim06/./node_modules/lodash-es/_getSymbols.js","webpack://bradkim06/./node_modules/@material-ui/styles/esm/mergeClasses/mergeClasses.js","webpack://bradkim06/./node_modules/lodash-es/uniqueId.js","webpack://bradkim06/./node_modules/lodash-es/_toKey.js","webpack://bradkim06/./src/state/selectors.ts","webpack://bradkim06/./node_modules/lodash-es/_createBaseEach.js","webpack://bradkim06/./node_modules/lodash-es/_baseEach.js","webpack://bradkim06/./node_modules/is-in-browser/dist/module.js","webpack://bradkim06/./node_modules/jss/dist/jss.esm.js","webpack://bradkim06/./node_modules/@material-ui/styles/esm/makeStyles/multiKeyStore.js","webpack://bradkim06/./node_modules/@material-ui/styles/esm/createGenerateClassName/createGenerateClassName.js","webpack://bradkim06/./node_modules/jss-plugin-rule-value-function/dist/jss-plugin-rule-value-function.esm.js","webpack://bradkim06/./node_modules/jss-plugin-global/dist/jss-plugin-global.esm.js","webpack://bradkim06/./node_modules/jss-plugin-nested/dist/jss-plugin-nested.esm.js","webpack://bradkim06/./node_modules/hyphenate-style-name/index.js","webpack://bradkim06/./node_modules/jss-plugin-camel-case/dist/jss-plugin-camel-case.esm.js","webpack://bradkim06/./node_modules/jss-plugin-default-unit/dist/jss-plugin-default-unit.esm.js","webpack://bradkim06/./node_modules/css-vendor/dist/css-vendor.esm.js","webpack://bradkim06/./node_modules/jss-plugin-vendor-prefixer/dist/jss-plugin-vendor-prefixer.esm.js","webpack://bradkim06/./node_modules/jss-plugin-props-sort/dist/jss-plugin-props-sort.esm.js","webpack://bradkim06/./node_modules/@material-ui/styles/esm/StylesProvider/StylesProvider.js","webpack://bradkim06/./node_modules/@material-ui/styles/esm/jssPreset/jssPreset.js","webpack://bradkim06/./node_modules/@material-ui/styles/esm/makeStyles/indexCounter.js","webpack://bradkim06/./node_modules/@material-ui/styles/esm/getStylesCreator/noopTheme.js","webpack://bradkim06/./node_modules/@material-ui/styles/esm/makeStyles/makeStyles.js","webpack://bradkim06/./node_modules/@material-ui/styles/esm/getStylesCreator/getStylesCreator.js","webpack://bradkim06/./node_modules/@material-ui/styles/esm/withStyles/withStyles.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/styles/withStyles.js","webpack://bradkim06/./node_modules/lodash-es/_baseMap.js","webpack://bradkim06/./node_modules/clsx/dist/clsx.m.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/utils/setRef.js","webpack://bradkim06/./node_modules/lodash-es/_arraySome.js","webpack://bradkim06/./node_modules/lodash-es/_equalArrays.js","webpack://bradkim06/./node_modules/lodash-es/_mapToArray.js","webpack://bradkim06/./node_modules/lodash-es/_equalByTag.js","webpack://bradkim06/./node_modules/lodash-es/_equalObjects.js","webpack://bradkim06/./node_modules/lodash-es/_baseIsEqualDeep.js","webpack://bradkim06/./node_modules/lodash-es/_baseIsEqual.js","webpack://bradkim06/./node_modules/lodash-es/_baseIsMatch.js","webpack://bradkim06/./node_modules/lodash-es/_isStrictComparable.js","webpack://bradkim06/./node_modules/lodash-es/_getMatchData.js","webpack://bradkim06/./node_modules/lodash-es/_matchesStrictComparable.js","webpack://bradkim06/./node_modules/lodash-es/_baseMatches.js","webpack://bradkim06/./node_modules/lodash-es/get.js","webpack://bradkim06/./node_modules/lodash-es/_baseMatchesProperty.js","webpack://bradkim06/./node_modules/lodash-es/_basePropertyDeep.js","webpack://bradkim06/./node_modules/lodash-es/property.js","webpack://bradkim06/./node_modules/lodash-es/_baseIteratee.js","webpack://bradkim06/./node_modules/mermaid/dist/edges-e0da2a9e.js","webpack://bradkim06/./node_modules/lodash-es/_setCacheAdd.js","webpack://bradkim06/./node_modules/lodash-es/_setCacheHas.js","webpack://bradkim06/./node_modules/lodash-es/_SetCache.js","webpack://bradkim06/./node_modules/lodash-es/_baseSet.js","webpack://bradkim06/./node_modules/lodash-es/_basePickBy.js","webpack://bradkim06/./node_modules/lodash-es/_basePick.js","webpack://bradkim06/./node_modules/lodash-es/_flatRest.js","webpack://bradkim06/./node_modules/lodash-es/pick.js","webpack://bradkim06/./content/meta/config.js","webpack://bradkim06/./node_modules/lodash-es/_baseForOwn.js","webpack://bradkim06/./node_modules/lodash-es/_setToArray.js","webpack://bradkim06/./node_modules/lodash-es/stubArray.js","webpack://bradkim06/./node_modules/lodash-es/_arrayMap.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/utils/debounce.js","webpack://bradkim06/./node_modules/@babel/runtime/helpers/typeof.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/SvgIcon/SvgIcon.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/utils/createSvgIcon.js","webpack://bradkim06/./node_modules/lodash-es/_trimmedEndIndex.js","webpack://bradkim06/./node_modules/lodash-es/_baseTrim.js","webpack://bradkim06/./node_modules/lodash-es/toNumber.js","webpack://bradkim06/./node_modules/lodash-es/toFinite.js","webpack://bradkim06/./node_modules/react-transition-group/esm/TransitionGroupContext.js","webpack://bradkim06/./node_modules/lodash-es/_arrayEach.js","webpack://bradkim06/./node_modules/mermaid/dist/index-3862675e.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/utils/useControlled.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/utils/createChainedFunction.js","webpack://bradkim06/./node_modules/lodash-es/_baseValues.js","webpack://bradkim06/./node_modules/lodash-es/values.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/data/list.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/greedy-fas.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/acyclic.js","webpack://bradkim06/./node_modules/lodash-es/_baseExtremum.js","webpack://bradkim06/./node_modules/lodash-es/_baseGt.js","webpack://bradkim06/./node_modules/lodash-es/max.js","webpack://bradkim06/./node_modules/lodash-es/last.js","webpack://bradkim06/./node_modules/lodash-es/mapValues.js","webpack://bradkim06/./node_modules/lodash-es/_baseLt.js","webpack://bradkim06/./node_modules/lodash-es/min.js","webpack://bradkim06/./node_modules/lodash-es/now.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/util.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/add-border-segments.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/coordinate-system.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/normalize.js","webpack://bradkim06/./node_modules/lodash-es/minBy.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/rank/util.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/rank/feasible-tree.js","webpack://bradkim06/./node_modules/lodash-es/_createFind.js","webpack://bradkim06/./node_modules/lodash-es/toInteger.js","webpack://bradkim06/./node_modules/lodash-es/findIndex.js","webpack://bradkim06/./node_modules/lodash-es/find.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/graphlib/alg/dijkstra.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/graphlib/alg/floyd-warshall.js","webpack://bradkim06/./node_modules/lodash-es/_asciiSize.js","webpack://bradkim06/./node_modules/lodash-es/_hasUnicode.js","webpack://bradkim06/./node_modules/lodash-es/_unicodeSize.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/graphlib/alg/topsort.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/graphlib/alg/dfs.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/rank/network-simplex.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/graphlib/alg/postorder.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/graphlib/alg/preorder.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/rank/index.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/nesting-graph.js","webpack://bradkim06/./node_modules/lodash-es/cloneDeep.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/order/build-layer-graph.js","webpack://bradkim06/./node_modules/lodash-es/_baseZipObject.js","webpack://bradkim06/./node_modules/lodash-es/zipObject.js","webpack://bradkim06/./node_modules/lodash-es/_baseSortBy.js","webpack://bradkim06/./node_modules/lodash-es/_compareAscending.js","webpack://bradkim06/./node_modules/lodash-es/_compareMultiple.js","webpack://bradkim06/./node_modules/lodash-es/_baseOrderBy.js","webpack://bradkim06/./node_modules/lodash-es/sortBy.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/order/cross-count.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/order/resolve-conflicts.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/order/sort.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/order/sort-subgraph.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/order/barycenter.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/order/index.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/order/init-order.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/order/add-subgraph-constraints.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/parent-dummy-chains.js","webpack://bradkim06/./node_modules/lodash-es/forOwn.js","webpack://bradkim06/./node_modules/lodash-es/forIn.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/position/bk.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/position/index.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/dagre/layout.js","webpack://bradkim06/./node_modules/lodash-es/_memoizeCapped.js","webpack://bradkim06/./node_modules/lodash-es/_stringToPath.js","webpack://bradkim06/./node_modules/lodash-es/_castPath.js","webpack://bradkim06/./node_modules/lodash-es/_baseProperty.js","webpack://bradkim06/./node_modules/lodash-es/isUndefined.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/utils/useIsFocusVisible.js","webpack://bradkim06/./node_modules/lodash-es/_getAllKeys.js","webpack://bradkim06/./src/components/Query/LogoQuery.tsx","webpack://bradkim06/./node_modules/lodash-es/_baseHas.js","webpack://bradkim06/./node_modules/lodash-es/has.js","webpack://bradkim06/./node_modules/lodash-es/_baseAssign.js","webpack://bradkim06/./node_modules/lodash-es/_baseAssignIn.js","webpack://bradkim06/./node_modules/lodash-es/_copySymbols.js","webpack://bradkim06/./node_modules/lodash-es/_getSymbolsIn.js","webpack://bradkim06/./node_modules/lodash-es/_copySymbolsIn.js","webpack://bradkim06/./node_modules/lodash-es/_getAllKeysIn.js","webpack://bradkim06/./node_modules/lodash-es/_initCloneArray.js","webpack://bradkim06/./node_modules/lodash-es/_cloneDataView.js","webpack://bradkim06/./node_modules/lodash-es/_cloneRegExp.js","webpack://bradkim06/./node_modules/lodash-es/_cloneSymbol.js","webpack://bradkim06/./node_modules/lodash-es/_initCloneByTag.js","webpack://bradkim06/./node_modules/lodash-es/_baseIsMap.js","webpack://bradkim06/./node_modules/lodash-es/isMap.js","webpack://bradkim06/./node_modules/lodash-es/_baseIsSet.js","webpack://bradkim06/./node_modules/lodash-es/isSet.js","webpack://bradkim06/./node_modules/lodash-es/_baseClone.js","webpack://bradkim06/./node_modules/dagre-d3-es/src/graphlib/json.js","webpack://bradkim06/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://bradkim06/./node_modules/lodash-es/_baseGetAllKeys.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/utils/capitalize.js","webpack://bradkim06/./node_modules/lodash-es/_arrayReduce.js","webpack://bradkim06/./node_modules/lodash-es/_baseReduce.js","webpack://bradkim06/./node_modules/lodash-es/reduce.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/IconButton/IconButton.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/utils/ownerWindow.js","webpack://bradkim06/./node_modules/lodash-es/_baseRange.js","webpack://bradkim06/./node_modules/lodash-es/_createRange.js","webpack://bradkim06/./node_modules/lodash-es/range.js","webpack://bradkim06/./node_modules/lodash-es/clone.js","webpack://bradkim06/./node_modules/lodash-es/_arrayFilter.js","webpack://bradkim06/./node_modules/@material-ui/core/esm/utils/isMuiElement.js","webpack://bradkim06/./src/utils/shared.ts"],"sourcesContent":["/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n    index = fromIndex + (fromRight ? 1 : -1);\n  while (fromRight ? index-- : ++index < length) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\nexport default baseFindIndex;","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\nexport default keys;","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike(value) && baseGetTag(value) == symbolTag;\n}\nexport default isSymbol;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _getRequireWildcardCache(e) {\n  if (\"function\" != typeof WeakMap) return null;\n  var r = new WeakMap(),\n    t = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(e) {\n    return e ? t : r;\n  })(e);\n}\nfunction _interopRequireWildcard(e, r) {\n  if (!r && e && e.__esModule) return e;\n  if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return {\n    \"default\": e\n  };\n  var t = _getRequireWildcardCache(r);\n  if (t && t.has(e)) return t.get(e);\n  var n = {\n      __proto__: null\n    },\n    a = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) {\n    var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;\n    i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];\n  }\n  return n[\"default\"] = e, t && t.set(e, n), n;\n}\nmodule.exports = _interopRequireWildcard, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import baseFlatten from './_baseFlatten.js';\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\nexport default flatten;","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n    length = values.length,\n    offset = array.length;\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\nexport default arrayPush;","import * as React from 'react';\nimport setRef from './setRef';\nexport default function useForkRef(refA, refB) {\n  /**\n   * This will create a new function if the ref props change and are defined.\n   * This means react will call the old forkRef with `null` and the new forkRef\n   * with the ref. Cleanup naturally emerges from this behavior\n   */\n  return React.useMemo(function () {\n    if (refA == null && refB == null) {\n      return null;\n    }\n    return function (refValue) {\n      setRef(refA, refValue);\n      setRef(refB, refValue);\n    };\n  }, [refA, refB]);\n}","import arrayMap from './_arrayMap.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseMap from './_baseMap.js';\nimport isArray from './isArray.js';\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\nexport default map;","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\nexport default cacheHas;","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n  symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n}\nexport default baseToString;","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\nexport default toString;","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\nexport default baseIsNaN;","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n    length = array.length;\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\nexport default strictIndexOf;","import baseFindIndex from './_baseFindIndex.js';\nimport baseIsNaN from './_baseIsNaN.js';\nimport strictIndexOf from './_strictIndexOf.js';\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value ? strictIndexOf(array, value, fromIndex) : baseFindIndex(array, baseIsNaN, fromIndex);\n}\nexport default baseIndexOf;","import baseIndexOf from './_baseIndexOf.js';\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\nexport default arrayIncludes;","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n    length = array == null ? 0 : array.length;\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\nexport default arrayIncludesWith;","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\nexport default noop;","import Set from './_Set.js';\nimport noop from './noop.js';\nimport setToArray from './_setToArray.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && 1 / setToArray(new Set([, -0]))[1] == INFINITY) ? noop : function (values) {\n  return new Set(values);\n};\nexport default createSet;","import SetCache from './_SetCache.js';\nimport arrayIncludes from './_arrayIncludes.js';\nimport arrayIncludesWith from './_arrayIncludesWith.js';\nimport cacheHas from './_cacheHas.js';\nimport createSet from './_createSet.js';\nimport setToArray from './_setToArray.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n    includes = arrayIncludes,\n    length = array.length,\n    isCommon = true,\n    result = [],\n    seen = result;\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  } else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache();\n  } else {\n    seen = iteratee ? [] : result;\n  }\n  outer: while (++index < length) {\n    var value = array[index],\n      computed = iteratee ? iteratee(value) : value;\n    value = comparator || value !== 0 ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    } else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\nexport default baseUniq;","import baseFlatten from './_baseFlatten.js';\nimport baseRest from './_baseRest.js';\nimport baseUniq from './_baseUniq.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\n\n/**\n * Creates an array of unique values, in order, from all given arrays using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.union([2], [1, 2]);\n * // => [2, 1]\n */\nvar union = baseRest(function (arrays) {\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n});\nexport default union;","import * as _ from 'lodash-es';\nvar DEFAULT_EDGE_NAME = '\\x00';\nvar GRAPH_NODE = '\\x00';\nvar EDGE_KEY_DELIM = '\\x01';\n\n// Implementation notes:\n//\n//  * Node id query functions should return string ids for the nodes\n//  * Edge id query functions should return an \"edgeObj\", edge object, that is\n//    composed of enough information to uniquely identify an edge: {v, w, name}.\n//  * Internally we use an \"edgeId\", a stringified form of the edgeObj, to\n//    reference edges. This is because we need a performant way to look these\n//    edges up and, object properties, which have string keys, are the closest\n//    we're going to get to a performant hashtable in JavaScript.\n\n// Implementation notes:\n//\n//  * Node id query functions should return string ids for the nodes\n//  * Edge id query functions should return an \"edgeObj\", edge object, that is\n//    composed of enough information to uniquely identify an edge: {v, w, name}.\n//  * Internally we use an \"edgeId\", a stringified form of the edgeObj, to\n//    reference edges. This is because we need a performant way to look these\n//    edges up and, object properties, which have string keys, are the closest\n//    we're going to get to a performant hashtable in JavaScript.\nexport class Graph {\n  constructor() {\n    let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this._isDirected = _.has(opts, 'directed') ? opts.directed : true;\n    this._isMultigraph = _.has(opts, 'multigraph') ? opts.multigraph : false;\n    this._isCompound = _.has(opts, 'compound') ? opts.compound : false;\n\n    // Label for the graph itself\n    this._label = undefined;\n\n    // Defaults to be set when creating a new node\n    this._defaultNodeLabelFn = _.constant(undefined);\n\n    // Defaults to be set when creating a new edge\n    this._defaultEdgeLabelFn = _.constant(undefined);\n\n    // v -> label\n    this._nodes = {};\n    if (this._isCompound) {\n      // v -> parent\n      this._parent = {};\n\n      // v -> children\n      this._children = {};\n      this._children[GRAPH_NODE] = {};\n    }\n\n    // v -> edgeObj\n    this._in = {};\n\n    // u -> v -> Number\n    this._preds = {};\n\n    // v -> edgeObj\n    this._out = {};\n\n    // v -> w -> Number\n    this._sucs = {};\n\n    // e -> edgeObj\n    this._edgeObjs = {};\n\n    // e -> label\n    this._edgeLabels = {};\n  }\n  /* === Graph functions ========= */\n  isDirected() {\n    return this._isDirected;\n  }\n  isMultigraph() {\n    return this._isMultigraph;\n  }\n  isCompound() {\n    return this._isCompound;\n  }\n  setGraph(label) {\n    this._label = label;\n    return this;\n  }\n  graph() {\n    return this._label;\n  }\n  /* === Node functions ========== */\n  setDefaultNodeLabel(newDefault) {\n    if (!_.isFunction(newDefault)) {\n      newDefault = _.constant(newDefault);\n    }\n    this._defaultNodeLabelFn = newDefault;\n    return this;\n  }\n  nodeCount() {\n    return this._nodeCount;\n  }\n  nodes() {\n    return _.keys(this._nodes);\n  }\n  sources() {\n    var self = this;\n    return _.filter(this.nodes(), function (v) {\n      return _.isEmpty(self._in[v]);\n    });\n  }\n  sinks() {\n    var self = this;\n    return _.filter(this.nodes(), function (v) {\n      return _.isEmpty(self._out[v]);\n    });\n  }\n  setNodes(vs, value) {\n    var args = arguments;\n    var self = this;\n    _.each(vs, function (v) {\n      if (args.length > 1) {\n        self.setNode(v, value);\n      } else {\n        self.setNode(v);\n      }\n    });\n    return this;\n  }\n  setNode(v, value) {\n    if (_.has(this._nodes, v)) {\n      if (arguments.length > 1) {\n        this._nodes[v] = value;\n      }\n      return this;\n    }\n\n    // @ts-expect-error\n    this._nodes[v] = arguments.length > 1 ? value : this._defaultNodeLabelFn(v);\n    if (this._isCompound) {\n      this._parent[v] = GRAPH_NODE;\n      this._children[v] = {};\n      this._children[GRAPH_NODE][v] = true;\n    }\n    this._in[v] = {};\n    this._preds[v] = {};\n    this._out[v] = {};\n    this._sucs[v] = {};\n    ++this._nodeCount;\n    return this;\n  }\n  node(v) {\n    return this._nodes[v];\n  }\n  hasNode(v) {\n    return _.has(this._nodes, v);\n  }\n  removeNode(v) {\n    var self = this;\n    if (_.has(this._nodes, v)) {\n      var removeEdge = function (e) {\n        self.removeEdge(self._edgeObjs[e]);\n      };\n      delete this._nodes[v];\n      if (this._isCompound) {\n        this._removeFromParentsChildList(v);\n        delete this._parent[v];\n        _.each(this.children(v), function (child) {\n          self.setParent(child);\n        });\n        delete this._children[v];\n      }\n      _.each(_.keys(this._in[v]), removeEdge);\n      delete this._in[v];\n      delete this._preds[v];\n      _.each(_.keys(this._out[v]), removeEdge);\n      delete this._out[v];\n      delete this._sucs[v];\n      --this._nodeCount;\n    }\n    return this;\n  }\n  setParent(v, parent) {\n    if (!this._isCompound) {\n      throw new Error('Cannot set parent in a non-compound graph');\n    }\n    if (_.isUndefined(parent)) {\n      parent = GRAPH_NODE;\n    } else {\n      // Coerce parent to string\n      parent += '';\n      for (var ancestor = parent; !_.isUndefined(ancestor); ancestor = this.parent(ancestor)) {\n        if (ancestor === v) {\n          throw new Error('Setting ' + parent + ' as parent of ' + v + ' would create a cycle');\n        }\n      }\n      this.setNode(parent);\n    }\n    this.setNode(v);\n    this._removeFromParentsChildList(v);\n    this._parent[v] = parent;\n    this._children[parent][v] = true;\n    return this;\n  }\n  _removeFromParentsChildList(v) {\n    delete this._children[this._parent[v]][v];\n  }\n  parent(v) {\n    if (this._isCompound) {\n      var parent = this._parent[v];\n      if (parent !== GRAPH_NODE) {\n        return parent;\n      }\n    }\n  }\n  children(v) {\n    if (_.isUndefined(v)) {\n      v = GRAPH_NODE;\n    }\n    if (this._isCompound) {\n      var children = this._children[v];\n      if (children) {\n        return _.keys(children);\n      }\n    } else if (v === GRAPH_NODE) {\n      return this.nodes();\n    } else if (this.hasNode(v)) {\n      return [];\n    }\n  }\n  predecessors(v) {\n    var predsV = this._preds[v];\n    if (predsV) {\n      return _.keys(predsV);\n    }\n  }\n  successors(v) {\n    var sucsV = this._sucs[v];\n    if (sucsV) {\n      return _.keys(sucsV);\n    }\n  }\n  neighbors(v) {\n    var preds = this.predecessors(v);\n    if (preds) {\n      return _.union(preds, this.successors(v));\n    }\n  }\n  isLeaf(v) {\n    var neighbors;\n    if (this.isDirected()) {\n      neighbors = this.successors(v);\n    } else {\n      neighbors = this.neighbors(v);\n    }\n    return neighbors.length === 0;\n  }\n  filterNodes(filter) {\n    // @ts-expect-error\n    var copy = new this.constructor({\n      directed: this._isDirected,\n      multigraph: this._isMultigraph,\n      compound: this._isCompound\n    });\n    copy.setGraph(this.graph());\n    var self = this;\n    _.each(this._nodes, function (value, v) {\n      if (filter(v)) {\n        copy.setNode(v, value);\n      }\n    });\n    _.each(this._edgeObjs, function (e) {\n      // @ts-expect-error\n      if (copy.hasNode(e.v) && copy.hasNode(e.w)) {\n        copy.setEdge(e, self.edge(e));\n      }\n    });\n    var parents = {};\n    function findParent(v) {\n      var parent = self.parent(v);\n      if (parent === undefined || copy.hasNode(parent)) {\n        parents[v] = parent;\n        return parent;\n      } else if (parent in parents) {\n        return parents[parent];\n      } else {\n        return findParent(parent);\n      }\n    }\n    if (this._isCompound) {\n      _.each(copy.nodes(), function (v) {\n        copy.setParent(v, findParent(v));\n      });\n    }\n    return copy;\n  }\n  /* === Edge functions ========== */\n  setDefaultEdgeLabel(newDefault) {\n    if (!_.isFunction(newDefault)) {\n      newDefault = _.constant(newDefault);\n    }\n    this._defaultEdgeLabelFn = newDefault;\n    return this;\n  }\n  edgeCount() {\n    return this._edgeCount;\n  }\n  edges() {\n    return _.values(this._edgeObjs);\n  }\n  setPath(vs, value) {\n    var self = this;\n    var args = arguments;\n    _.reduce(vs, function (v, w) {\n      if (args.length > 1) {\n        self.setEdge(v, w, value);\n      } else {\n        self.setEdge(v, w);\n      }\n      return w;\n    });\n    return this;\n  }\n  /*\n   * setEdge(v, w, [value, [name]])\n   * setEdge({ v, w, [name] }, [value])\n   */\n  setEdge() {\n    var v, w, name, value;\n    var valueSpecified = false;\n    var arg0 = arguments[0];\n    if (typeof arg0 === 'object' && arg0 !== null && 'v' in arg0) {\n      v = arg0.v;\n      w = arg0.w;\n      name = arg0.name;\n      if (arguments.length === 2) {\n        value = arguments[1];\n        valueSpecified = true;\n      }\n    } else {\n      v = arg0;\n      w = arguments[1];\n      name = arguments[3];\n      if (arguments.length > 2) {\n        value = arguments[2];\n        valueSpecified = true;\n      }\n    }\n    v = '' + v;\n    w = '' + w;\n    if (!_.isUndefined(name)) {\n      name = '' + name;\n    }\n    var e = edgeArgsToId(this._isDirected, v, w, name);\n    if (_.has(this._edgeLabels, e)) {\n      if (valueSpecified) {\n        this._edgeLabels[e] = value;\n      }\n      return this;\n    }\n    if (!_.isUndefined(name) && !this._isMultigraph) {\n      throw new Error('Cannot set a named edge when isMultigraph = false');\n    }\n\n    // It didn't exist, so we need to create it.\n    // First ensure the nodes exist.\n    this.setNode(v);\n    this.setNode(w);\n\n    // @ts-expect-error\n    this._edgeLabels[e] = valueSpecified ? value : this._defaultEdgeLabelFn(v, w, name);\n    var edgeObj = edgeArgsToObj(this._isDirected, v, w, name);\n    // Ensure we add undirected edges in a consistent way.\n    v = edgeObj.v;\n    w = edgeObj.w;\n    Object.freeze(edgeObj);\n    this._edgeObjs[e] = edgeObj;\n    incrementOrInitEntry(this._preds[w], v);\n    incrementOrInitEntry(this._sucs[v], w);\n    this._in[w][e] = edgeObj;\n    this._out[v][e] = edgeObj;\n    this._edgeCount++;\n    return this;\n  }\n  edge(v, w, name) {\n    var e = arguments.length === 1 ? edgeObjToId(this._isDirected, arguments[0]) : edgeArgsToId(this._isDirected, v, w, name);\n    return this._edgeLabels[e];\n  }\n  hasEdge(v, w, name) {\n    var e = arguments.length === 1 ? edgeObjToId(this._isDirected, arguments[0]) : edgeArgsToId(this._isDirected, v, w, name);\n    return _.has(this._edgeLabels, e);\n  }\n  removeEdge(v, w, name) {\n    var e = arguments.length === 1 ? edgeObjToId(this._isDirected, arguments[0]) : edgeArgsToId(this._isDirected, v, w, name);\n    var edge = this._edgeObjs[e];\n    if (edge) {\n      v = edge.v;\n      w = edge.w;\n      delete this._edgeLabels[e];\n      delete this._edgeObjs[e];\n      decrementOrRemoveEntry(this._preds[w], v);\n      decrementOrRemoveEntry(this._sucs[v], w);\n      delete this._in[w][e];\n      delete this._out[v][e];\n      this._edgeCount--;\n    }\n    return this;\n  }\n  inEdges(v, u) {\n    var inV = this._in[v];\n    if (inV) {\n      var edges = _.values(inV);\n      if (!u) {\n        return edges;\n      }\n      return _.filter(edges, function (edge) {\n        return edge.v === u;\n      });\n    }\n  }\n  outEdges(v, w) {\n    var outV = this._out[v];\n    if (outV) {\n      var edges = _.values(outV);\n      if (!w) {\n        return edges;\n      }\n      return _.filter(edges, function (edge) {\n        return edge.w === w;\n      });\n    }\n  }\n  nodeEdges(v, w) {\n    var inEdges = this.inEdges(v, w);\n    if (inEdges) {\n      return inEdges.concat(this.outEdges(v, w));\n    }\n  }\n}\n\n/* Number of nodes in the graph. Should only be changed by the implementation. */\nGraph.prototype._nodeCount = 0;\n\n/* Number of edges in the graph. Should only be changed by the implementation. */\nGraph.prototype._edgeCount = 0;\nfunction incrementOrInitEntry(map, k) {\n  if (map[k]) {\n    map[k]++;\n  } else {\n    map[k] = 1;\n  }\n}\nfunction decrementOrRemoveEntry(map, k) {\n  if (! --map[k]) {\n    delete map[k];\n  }\n}\nfunction edgeArgsToId(isDirected, v_, w_, name) {\n  var v = '' + v_;\n  var w = '' + w_;\n  if (!isDirected && v > w) {\n    var tmp = v;\n    v = w;\n    w = tmp;\n  }\n  return v + EDGE_KEY_DELIM + w + EDGE_KEY_DELIM + (_.isUndefined(name) ? DEFAULT_EDGE_NAME : name);\n}\nfunction edgeArgsToObj(isDirected, v_, w_, name) {\n  var v = '' + v_;\n  var w = '' + w_;\n  if (!isDirected && v > w) {\n    var tmp = v;\n    v = w;\n    w = tmp;\n  }\n  var edgeObj = {\n    v: v,\n    w: w\n  };\n  if (name) {\n    edgeObj.name = name;\n  }\n  return edgeObj;\n}\nfunction edgeObjToId(isDirected, edgeObj) {\n  return edgeArgsToId(isDirected, edgeObj.v, edgeObj.w, edgeObj.name);\n}","import createTheme from './createTheme';\nvar defaultTheme = createTheme();\nexport default defaultTheme;","import baseRest from './_baseRest.js';\nimport eq from './eq.js';\nimport isIterateeCall from './_isIterateeCall.js';\nimport keysIn from './keysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = baseRest(function (object, sources) {\n  object = Object(object);\n  var index = -1;\n  var length = sources.length;\n  var guard = length > 2 ? sources[2] : undefined;\n  if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n    length = 1;\n  }\n  while (++index < length) {\n    var source = sources[index];\n    var props = keysIn(source);\n    var propsIndex = -1;\n    var propsLength = props.length;\n    while (++propsIndex < propsLength) {\n      var key = props[propsIndex];\n      var value = object[key];\n      if (value === undefined || eq(value, objectProto[key]) && !hasOwnProperty.call(object, key)) {\n        object[key] = source[key];\n      }\n    }\n  }\n  return object;\n});\nexport default defaults;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.createSvgIcon;\n  }\n});\nvar _utils = require(\"@material-ui/core/utils\");","export default function ownerDocument(node) {\n  return node && node.ownerDocument || document;\n}","import castPath from './_castPath.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n  var index = 0,\n    length = path.length;\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return index && index == length ? object : undefined;\n}\nexport default baseGet;","import Symbol from './_Symbol.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\nexport default isFlattenable;","import arrayPush from './_arrayPush.js';\nimport isFlattenable from './_isFlattenable.js';\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n    length = array.length;\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\nexport default baseFlatten;","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\nexport default baseHasIn;","import baseHasIn from './_baseHasIn.js';\nimport hasPath from './_hasPath.js';\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\nexport default hasIn;","import identity from './identity.js';\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\nexport default castFunction;","/**\n * @typedef {import('mdast').Root|import('mdast').Content} Node\n *\n * @typedef Options\n *   Configuration (optional).\n * @property {boolean | null | undefined} [includeImageAlt=true]\n *   Whether to use `alt` for `image`s.\n * @property {boolean | null | undefined} [includeHtml=true]\n *   Whether to use `value` of HTML.\n */\n\n/** @type {Options} */\nconst emptyOptions = {};\n\n/**\n * Get the text content of a node or list of nodes.\n *\n * Prefers the node’s plain-text fields, otherwise serializes its children,\n * and if the given value is an array, serialize the nodes in it.\n *\n * @param {unknown} value\n *   Thing to serialize, typically `Node`.\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n * @returns {string}\n *   Serialized `value`.\n */\nexport function toString(value, options) {\n  const settings = options || emptyOptions;\n  const includeImageAlt = typeof settings.includeImageAlt === 'boolean' ? settings.includeImageAlt : true;\n  const includeHtml = typeof settings.includeHtml === 'boolean' ? settings.includeHtml : true;\n  return one(value, includeImageAlt, includeHtml);\n}\n\n/**\n * One node or several nodes.\n *\n * @param {unknown} value\n *   Thing to serialize.\n * @param {boolean} includeImageAlt\n *   Include image `alt`s.\n * @param {boolean} includeHtml\n *   Include HTML.\n * @returns {string}\n *   Serialized node.\n */\nfunction one(value, includeImageAlt, includeHtml) {\n  if (node(value)) {\n    if ('value' in value) {\n      return value.type === 'html' && !includeHtml ? '' : value.value;\n    }\n    if (includeImageAlt && 'alt' in value && value.alt) {\n      return value.alt;\n    }\n    if ('children' in value) {\n      return all(value.children, includeImageAlt, includeHtml);\n    }\n  }\n  if (Array.isArray(value)) {\n    return all(value, includeImageAlt, includeHtml);\n  }\n  return '';\n}\n\n/**\n * Serialize a list of nodes.\n *\n * @param {Array<unknown>} values\n *   Thing to serialize.\n * @param {boolean} includeImageAlt\n *   Include image `alt`s.\n * @param {boolean} includeHtml\n *   Include HTML.\n * @returns {string}\n *   Serialized nodes.\n */\nfunction all(values, includeImageAlt, includeHtml) {\n  /** @type {Array<string>} */\n  const result = [];\n  let index = -1;\n  while (++index < values.length) {\n    result[index] = one(values[index], includeImageAlt, includeHtml);\n  }\n  return result.join('');\n}\n\n/**\n * Check if `value` looks like a node.\n *\n * @param {unknown} value\n *   Thing.\n * @returns {value is Node}\n *   Whether `value` is a node.\n */\nfunction node(value) {\n  return Boolean(value && typeof value === 'object');\n}","/**\n * Like `Array#splice`, but smarter for giant arrays.\n *\n * `Array#splice` takes all items to be inserted as individual argument which\n * causes a stack overflow in V8 when trying to insert 100k items for instance.\n *\n * Otherwise, this does not return the removed items, and takes `items` as an\n * array instead of rest parameters.\n *\n * @template {unknown} T\n *   Item type.\n * @param {Array<T>} list\n *   List to operate on.\n * @param {number} start\n *   Index to remove/insert at (can be negative).\n * @param {number} remove\n *   Number of items to remove.\n * @param {Array<T>} items\n *   Items to inject into `list`.\n * @returns {void}\n *   Nothing.\n */\nexport function splice(list, start, remove, items) {\n  const end = list.length;\n  let chunkStart = 0;\n  /** @type {Array<unknown>} */\n  let parameters;\n\n  // Make start between zero and `end` (included).\n  if (start < 0) {\n    start = -start > end ? 0 : end + start;\n  } else {\n    start = start > end ? end : start;\n  }\n  remove = remove > 0 ? remove : 0;\n\n  // No need to chunk the items if there’s only a couple (10k) items.\n  if (items.length < 10000) {\n    parameters = Array.from(items);\n    parameters.unshift(start, remove);\n    // @ts-expect-error Hush, it’s fine.\n    list.splice(...parameters);\n  } else {\n    // Delete `remove` items starting from `start`\n    if (remove) list.splice(start, remove);\n\n    // Insert the items in chunks to not cause stack overflows.\n    while (chunkStart < items.length) {\n      parameters = items.slice(chunkStart, chunkStart + 10000);\n      parameters.unshift(start, 0);\n      // @ts-expect-error Hush, it’s fine.\n      list.splice(...parameters);\n      chunkStart += 10000;\n      start += 10000;\n    }\n  }\n}\n\n/**\n * Append `items` (an array) at the end of `list` (another array).\n * When `list` was empty, returns `items` instead.\n *\n * This prevents a potentially expensive operation when `list` is empty,\n * and adds items in batches to prevent V8 from hanging.\n *\n * @template {unknown} T\n *   Item type.\n * @param {Array<T>} list\n *   List to operate on.\n * @param {Array<T>} items\n *   Items to add to `list`.\n * @returns {Array<T>}\n *   Either `list` or `items`.\n */\nexport function push(list, items) {\n  if (list.length > 0) {\n    splice(list, list.length, 0, items);\n    return list;\n  }\n  return items;\n}","/**\n * @typedef {import('micromark-util-types').Extension} Extension\n * @typedef {import('micromark-util-types').Handles} Handles\n * @typedef {import('micromark-util-types').HtmlExtension} HtmlExtension\n * @typedef {import('micromark-util-types').NormalizedExtension} NormalizedExtension\n */\n\nimport { splice } from 'micromark-util-chunked';\nconst hasOwnProperty = {}.hasOwnProperty;\n\n/**\n * Combine multiple syntax extensions into one.\n *\n * @param {Array<Extension>} extensions\n *   List of syntax extensions.\n * @returns {NormalizedExtension}\n *   A single combined extension.\n */\nexport function combineExtensions(extensions) {\n  /** @type {NormalizedExtension} */\n  const all = {};\n  let index = -1;\n  while (++index < extensions.length) {\n    syntaxExtension(all, extensions[index]);\n  }\n  return all;\n}\n\n/**\n * Merge `extension` into `all`.\n *\n * @param {NormalizedExtension} all\n *   Extension to merge into.\n * @param {Extension} extension\n *   Extension to merge.\n * @returns {void}\n */\nfunction syntaxExtension(all, extension) {\n  /** @type {keyof Extension} */\n  let hook;\n  for (hook in extension) {\n    const maybe = hasOwnProperty.call(all, hook) ? all[hook] : undefined;\n    /** @type {Record<string, unknown>} */\n    const left = maybe || (all[hook] = {});\n    /** @type {Record<string, unknown> | undefined} */\n    const right = extension[hook];\n    /** @type {string} */\n    let code;\n    if (right) {\n      for (code in right) {\n        if (!hasOwnProperty.call(left, code)) left[code] = [];\n        const value = right[code];\n        constructs(\n        // @ts-expect-error Looks like a list.\n        left[code], Array.isArray(value) ? value : value ? [value] : []);\n      }\n    }\n  }\n}\n\n/**\n * Merge `list` into `existing` (both lists of constructs).\n * Mutates `existing`.\n *\n * @param {Array<unknown>} existing\n * @param {Array<unknown>} list\n * @returns {void}\n */\nfunction constructs(existing, list) {\n  let index = -1;\n  /** @type {Array<unknown>} */\n  const before = [];\n  while (++index < list.length) {\n    // @ts-expect-error Looks like an object.\n    ;\n    (list[index].add === 'after' ? existing : before).push(list[index]);\n  }\n  splice(existing, 0, 0, before);\n}\n\n/**\n * Combine multiple HTML extensions into one.\n *\n * @param {Array<HtmlExtension>} htmlExtensions\n *   List of HTML extensions.\n * @returns {HtmlExtension}\n *   A single combined HTML extension.\n */\nexport function combineHtmlExtensions(htmlExtensions) {\n  /** @type {HtmlExtension} */\n  const handlers = {};\n  let index = -1;\n  while (++index < htmlExtensions.length) {\n    htmlExtension(handlers, htmlExtensions[index]);\n  }\n  return handlers;\n}\n\n/**\n * Merge `extension` into `all`.\n *\n * @param {HtmlExtension} all\n *   Extension to merge into.\n * @param {HtmlExtension} extension\n *   Extension to merge.\n * @returns {void}\n */\nfunction htmlExtension(all, extension) {\n  /** @type {keyof HtmlExtension} */\n  let hook;\n  for (hook in extension) {\n    const maybe = hasOwnProperty.call(all, hook) ? all[hook] : undefined;\n    const left = maybe || (all[hook] = {});\n    const right = extension[hook];\n    /** @type {keyof Handles} */\n    let type;\n    if (right) {\n      for (type in right) {\n        // @ts-expect-error assume document vs regular handler are managed correctly.\n        left[type] = right[type];\n      }\n    }\n  }\n}","// This module is generated by `script/`.\n//\n// CommonMark handles attention (emphasis, strong) markers based on what comes\n// before or after them.\n// One such difference is if those characters are Unicode punctuation.\n// This script is generated from the Unicode data.\n\n/**\n * Regular expression that matches a unicode punctuation character.\n */\nexport const unicodePunctuationRegex = /[!-\\/:-@\\[-`\\{-~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061D-\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C77\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1B7D\\u1B7E\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4F\\u2E52-\\u2E5D\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]/;","/**\n * @typedef {import('micromark-util-types').Code} Code\n */\n\nimport { unicodePunctuationRegex } from './lib/unicode-punctuation-regex.js';\n\n/**\n * Check whether the character code represents an ASCII alpha (`a` through `z`,\n * case insensitive).\n *\n * An **ASCII alpha** is an ASCII upper alpha or ASCII lower alpha.\n *\n * An **ASCII upper alpha** is a character in the inclusive range U+0041 (`A`)\n * to U+005A (`Z`).\n *\n * An **ASCII lower alpha** is a character in the inclusive range U+0061 (`a`)\n * to U+007A (`z`).\n *\n * @param code\n *   Code.\n * @returns\n *   Whether it matches.\n */\nexport const asciiAlpha = regexCheck(/[A-Za-z]/);\n\n/**\n * Check whether the character code represents an ASCII alphanumeric (`a`\n * through `z`, case insensitive, or `0` through `9`).\n *\n * An **ASCII alphanumeric** is an ASCII digit (see `asciiDigit`) or ASCII alpha\n * (see `asciiAlpha`).\n *\n * @param code\n *   Code.\n * @returns\n *   Whether it matches.\n */\nexport const asciiAlphanumeric = regexCheck(/[\\dA-Za-z]/);\n\n/**\n * Check whether the character code represents an ASCII atext.\n *\n * atext is an ASCII alphanumeric (see `asciiAlphanumeric`), or a character in\n * the inclusive ranges U+0023 NUMBER SIGN (`#`) to U+0027 APOSTROPHE (`'`),\n * U+002A ASTERISK (`*`), U+002B PLUS SIGN (`+`), U+002D DASH (`-`), U+002F\n * SLASH (`/`), U+003D EQUALS TO (`=`), U+003F QUESTION MARK (`?`), U+005E\n * CARET (`^`) to U+0060 GRAVE ACCENT (`` ` ``), or U+007B LEFT CURLY BRACE\n * (`{`) to U+007E TILDE (`~`).\n *\n * See:\n * **\\[RFC5322]**:\n * [Internet Message Format](https://tools.ietf.org/html/rfc5322).\n * P. Resnick.\n * IETF.\n *\n * @param code\n *   Code.\n * @returns\n *   Whether it matches.\n */\nexport const asciiAtext = regexCheck(/[#-'*+\\--9=?A-Z^-~]/);\n\n/**\n * Check whether a character code is an ASCII control character.\n *\n * An **ASCII control** is a character in the inclusive range U+0000 NULL (NUL)\n * to U+001F (US), or U+007F (DEL).\n *\n * @param {Code} code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport function asciiControl(code) {\n  return (\n    // Special whitespace codes (which have negative values), C0 and Control\n    // character DEL\n    code !== null && (code < 32 || code === 127)\n  );\n}\n\n/**\n * Check whether the character code represents an ASCII digit (`0` through `9`).\n *\n * An **ASCII digit** is a character in the inclusive range U+0030 (`0`) to\n * U+0039 (`9`).\n *\n * @param code\n *   Code.\n * @returns\n *   Whether it matches.\n */\nexport const asciiDigit = regexCheck(/\\d/);\n\n/**\n * Check whether the character code represents an ASCII hex digit (`a` through\n * `f`, case insensitive, or `0` through `9`).\n *\n * An **ASCII hex digit** is an ASCII digit (see `asciiDigit`), ASCII upper hex\n * digit, or an ASCII lower hex digit.\n *\n * An **ASCII upper hex digit** is a character in the inclusive range U+0041\n * (`A`) to U+0046 (`F`).\n *\n * An **ASCII lower hex digit** is a character in the inclusive range U+0061\n * (`a`) to U+0066 (`f`).\n *\n * @param code\n *   Code.\n * @returns\n *   Whether it matches.\n */\nexport const asciiHexDigit = regexCheck(/[\\dA-Fa-f]/);\n\n/**\n * Check whether the character code represents ASCII punctuation.\n *\n * An **ASCII punctuation** is a character in the inclusive ranges U+0021\n * EXCLAMATION MARK (`!`) to U+002F SLASH (`/`), U+003A COLON (`:`) to U+0040 AT\n * SIGN (`@`), U+005B LEFT SQUARE BRACKET (`[`) to U+0060 GRAVE ACCENT\n * (`` ` ``), or U+007B LEFT CURLY BRACE (`{`) to U+007E TILDE (`~`).\n *\n * @param code\n *   Code.\n * @returns\n *   Whether it matches.\n */\nexport const asciiPunctuation = regexCheck(/[!-/:-@[-`{-~]/);\n\n/**\n * Check whether a character code is a markdown line ending.\n *\n * A **markdown line ending** is the virtual characters M-0003 CARRIAGE RETURN\n * LINE FEED (CRLF), M-0004 LINE FEED (LF) and M-0005 CARRIAGE RETURN (CR).\n *\n * In micromark, the actual character U+000A LINE FEED (LF) and U+000D CARRIAGE\n * RETURN (CR) are replaced by these virtual characters depending on whether\n * they occurred together.\n *\n * @param {Code} code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport function markdownLineEnding(code) {\n  return code !== null && code < -2;\n}\n\n/**\n * Check whether a character code is a markdown line ending (see\n * `markdownLineEnding`) or markdown space (see `markdownSpace`).\n *\n * @param {Code} code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport function markdownLineEndingOrSpace(code) {\n  return code !== null && (code < 0 || code === 32);\n}\n\n/**\n * Check whether a character code is a markdown space.\n *\n * A **markdown space** is the concrete character U+0020 SPACE (SP) and the\n * virtual characters M-0001 VIRTUAL SPACE (VS) and M-0002 HORIZONTAL TAB (HT).\n *\n * In micromark, the actual character U+0009 CHARACTER TABULATION (HT) is\n * replaced by one M-0002 HORIZONTAL TAB (HT) and between 0 and 3 M-0001 VIRTUAL\n * SPACE (VS) characters, depending on the column at which the tab occurred.\n *\n * @param {Code} code\n *   Code.\n * @returns {boolean}\n *   Whether it matches.\n */\nexport function markdownSpace(code) {\n  return code === -2 || code === -1 || code === 32;\n}\n\n// Size note: removing ASCII from the regex and using `asciiPunctuation` here\n// In fact adds to the bundle size.\n/**\n * Check whether the character code represents Unicode punctuation.\n *\n * A **Unicode punctuation** is a character in the Unicode `Pc` (Punctuation,\n * Connector), `Pd` (Punctuation, Dash), `Pe` (Punctuation, Close), `Pf`\n * (Punctuation, Final quote), `Pi` (Punctuation, Initial quote), `Po`\n * (Punctuation, Other), or `Ps` (Punctuation, Open) categories, or an ASCII\n * punctuation (see `asciiPunctuation`).\n *\n * See:\n * **\\[UNICODE]**:\n * [The Unicode Standard](https://www.unicode.org/versions/).\n * Unicode Consortium.\n *\n * @param code\n *   Code.\n * @returns\n *   Whether it matches.\n */\nexport const unicodePunctuation = regexCheck(unicodePunctuationRegex);\n\n/**\n * Check whether the character code represents Unicode whitespace.\n *\n * Note that this does handle micromark specific markdown whitespace characters.\n * See `markdownLineEndingOrSpace` to check that.\n *\n * A **Unicode whitespace** is a character in the Unicode `Zs` (Separator,\n * Space) category, or U+0009 CHARACTER TABULATION (HT), U+000A LINE FEED (LF),\n * U+000C (FF), or U+000D CARRIAGE RETURN (CR) (**\\[UNICODE]**).\n *\n * See:\n * **\\[UNICODE]**:\n * [The Unicode Standard](https://www.unicode.org/versions/).\n * Unicode Consortium.\n *\n * @param code\n *   Code.\n * @returns\n *   Whether it matches.\n */\nexport const unicodeWhitespace = regexCheck(/\\s/);\n\n/**\n * Create a code check from a regex.\n *\n * @param {RegExp} regex\n * @returns {(code: Code) => boolean}\n */\nfunction regexCheck(regex) {\n  return check;\n\n  /**\n   * Check whether a code matches the bound regex.\n   *\n   * @param {Code} code\n   *   Character code.\n   * @returns {boolean}\n   *   Whether the character code matches the bound regex.\n   */\n  function check(code) {\n    return code !== null && regex.test(String.fromCharCode(code));\n  }\n}","/**\n * @typedef {import('micromark-util-types').Effects} Effects\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenType} TokenType\n */\n\nimport { markdownSpace } from 'micromark-util-character';\n\n// To do: implement `spaceOrTab`, `spaceOrTabMinMax`, `spaceOrTabWithOptions`.\n\n/**\n * Parse spaces and tabs.\n *\n * There is no `nok` parameter:\n *\n * *   spaces in markdown are often optional, in which case this factory can be\n *     used and `ok` will be switched to whether spaces were found or not\n * *   one line ending or space can be detected with `markdownSpace(code)` right\n *     before using `factorySpace`\n *\n * ###### Examples\n *\n * Where `␉` represents a tab (plus how much it expands) and `␠` represents a\n * single space.\n *\n * ```markdown\n * ␉\n * ␠␠␠␠\n * ␉␠\n * ```\n *\n * @param {Effects} effects\n *   Context.\n * @param {State} ok\n *   State switched to when successful.\n * @param {TokenType} type\n *   Type (`' \\t'`).\n * @param {number | undefined} [max=Infinity]\n *   Max (exclusive).\n * @returns\n *   Start state.\n */\nexport function factorySpace(effects, ok, type, max) {\n  const limit = max ? max - 1 : Number.POSITIVE_INFINITY;\n  let size = 0;\n  return start;\n\n  /** @type {State} */\n  function start(code) {\n    if (markdownSpace(code)) {\n      effects.enter(type);\n      return prefix(code);\n    }\n    return ok(code);\n  }\n\n  /** @type {State} */\n  function prefix(code) {\n    if (markdownSpace(code) && size++ < limit) {\n      effects.consume(code);\n      return prefix;\n    }\n    effects.exit(type);\n    return ok(code);\n  }\n}","/**\n * @typedef {import('micromark-util-types').InitialConstruct} InitialConstruct\n * @typedef {import('micromark-util-types').Initializer} Initializer\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').Token} Token\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding } from 'micromark-util-character';\n/** @type {InitialConstruct} */\nexport const content = {\n  tokenize: initializeContent\n};\n\n/**\n * @this {TokenizeContext}\n * @type {Initializer}\n */\nfunction initializeContent(effects) {\n  const contentStart = effects.attempt(this.parser.constructs.contentInitial, afterContentStartConstruct, paragraphInitial);\n  /** @type {Token} */\n  let previous;\n  return contentStart;\n\n  /** @type {State} */\n  function afterContentStartConstruct(code) {\n    if (code === null) {\n      effects.consume(code);\n      return;\n    }\n    effects.enter('lineEnding');\n    effects.consume(code);\n    effects.exit('lineEnding');\n    return factorySpace(effects, contentStart, 'linePrefix');\n  }\n\n  /** @type {State} */\n  function paragraphInitial(code) {\n    effects.enter('paragraph');\n    return lineStart(code);\n  }\n\n  /** @type {State} */\n  function lineStart(code) {\n    const token = effects.enter('chunkText', {\n      contentType: 'text',\n      previous\n    });\n    if (previous) {\n      previous.next = token;\n    }\n    previous = token;\n    return data(code);\n  }\n\n  /** @type {State} */\n  function data(code) {\n    if (code === null) {\n      effects.exit('chunkText');\n      effects.exit('paragraph');\n      effects.consume(code);\n      return;\n    }\n    if (markdownLineEnding(code)) {\n      effects.consume(code);\n      effects.exit('chunkText');\n      return lineStart;\n    }\n\n    // Data.\n    effects.consume(code);\n    return data;\n  }\n}","/**\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').ContainerState} ContainerState\n * @typedef {import('micromark-util-types').InitialConstruct} InitialConstruct\n * @typedef {import('micromark-util-types').Initializer} Initializer\n * @typedef {import('micromark-util-types').Point} Point\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').Token} Token\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\n/**\n * @typedef {[Construct, ContainerState]} StackItem\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding } from 'micromark-util-character';\nimport { splice } from 'micromark-util-chunked';\n/** @type {InitialConstruct} */\nexport const document = {\n  tokenize: initializeDocument\n};\n\n/** @type {Construct} */\nconst containerConstruct = {\n  tokenize: tokenizeContainer\n};\n\n/**\n * @this {TokenizeContext}\n * @type {Initializer}\n */\nfunction initializeDocument(effects) {\n  const self = this;\n  /** @type {Array<StackItem>} */\n  const stack = [];\n  let continued = 0;\n  /** @type {TokenizeContext | undefined} */\n  let childFlow;\n  /** @type {Token | undefined} */\n  let childToken;\n  /** @type {number} */\n  let lineStartOffset;\n  return start;\n\n  /** @type {State} */\n  function start(code) {\n    // First we iterate through the open blocks, starting with the root\n    // document, and descending through last children down to the last open\n    // block.\n    // Each block imposes a condition that the line must satisfy if the block is\n    // to remain open.\n    // For example, a block quote requires a `>` character.\n    // A paragraph requires a non-blank line.\n    // In this phase we may match all or just some of the open blocks.\n    // But we cannot close unmatched blocks yet, because we may have a lazy\n    // continuation line.\n    if (continued < stack.length) {\n      const item = stack[continued];\n      self.containerState = item[1];\n      return effects.attempt(item[0].continuation, documentContinue, checkNewContainers)(code);\n    }\n\n    // Done.\n    return checkNewContainers(code);\n  }\n\n  /** @type {State} */\n  function documentContinue(code) {\n    continued++;\n\n    // Note: this field is called `_closeFlow` but it also closes containers.\n    // Perhaps a good idea to rename it but it’s already used in the wild by\n    // extensions.\n    if (self.containerState._closeFlow) {\n      self.containerState._closeFlow = undefined;\n      if (childFlow) {\n        closeFlow();\n      }\n\n      // Note: this algorithm for moving events around is similar to the\n      // algorithm when dealing with lazy lines in `writeToChild`.\n      const indexBeforeExits = self.events.length;\n      let indexBeforeFlow = indexBeforeExits;\n      /** @type {Point | undefined} */\n      let point;\n\n      // Find the flow chunk.\n      while (indexBeforeFlow--) {\n        if (self.events[indexBeforeFlow][0] === 'exit' && self.events[indexBeforeFlow][1].type === 'chunkFlow') {\n          point = self.events[indexBeforeFlow][1].end;\n          break;\n        }\n      }\n      exitContainers(continued);\n\n      // Fix positions.\n      let index = indexBeforeExits;\n      while (index < self.events.length) {\n        self.events[index][1].end = Object.assign({}, point);\n        index++;\n      }\n\n      // Inject the exits earlier (they’re still also at the end).\n      splice(self.events, indexBeforeFlow + 1, 0, self.events.slice(indexBeforeExits));\n\n      // Discard the duplicate exits.\n      self.events.length = index;\n      return checkNewContainers(code);\n    }\n    return start(code);\n  }\n\n  /** @type {State} */\n  function checkNewContainers(code) {\n    // Next, after consuming the continuation markers for existing blocks, we\n    // look for new block starts (e.g. `>` for a block quote).\n    // If we encounter a new block start, we close any blocks unmatched in\n    // step 1 before creating the new block as a child of the last matched\n    // block.\n    if (continued === stack.length) {\n      // No need to `check` whether there’s a container, of `exitContainers`\n      // would be moot.\n      // We can instead immediately `attempt` to parse one.\n      if (!childFlow) {\n        return documentContinued(code);\n      }\n\n      // If we have concrete content, such as block HTML or fenced code,\n      // we can’t have containers “pierce” into them, so we can immediately\n      // start.\n      if (childFlow.currentConstruct && childFlow.currentConstruct.concrete) {\n        return flowStart(code);\n      }\n\n      // If we do have flow, it could still be a blank line,\n      // but we’d be interrupting it w/ a new container if there’s a current\n      // construct.\n      // To do: next major: remove `_gfmTableDynamicInterruptHack` (no longer\n      // needed in micromark-extension-gfm-table@1.0.6).\n      self.interrupt = Boolean(childFlow.currentConstruct && !childFlow._gfmTableDynamicInterruptHack);\n    }\n\n    // Check if there is a new container.\n    self.containerState = {};\n    return effects.check(containerConstruct, thereIsANewContainer, thereIsNoNewContainer)(code);\n  }\n\n  /** @type {State} */\n  function thereIsANewContainer(code) {\n    if (childFlow) closeFlow();\n    exitContainers(continued);\n    return documentContinued(code);\n  }\n\n  /** @type {State} */\n  function thereIsNoNewContainer(code) {\n    self.parser.lazy[self.now().line] = continued !== stack.length;\n    lineStartOffset = self.now().offset;\n    return flowStart(code);\n  }\n\n  /** @type {State} */\n  function documentContinued(code) {\n    // Try new containers.\n    self.containerState = {};\n    return effects.attempt(containerConstruct, containerContinue, flowStart)(code);\n  }\n\n  /** @type {State} */\n  function containerContinue(code) {\n    continued++;\n    stack.push([self.currentConstruct, self.containerState]);\n    // Try another.\n    return documentContinued(code);\n  }\n\n  /** @type {State} */\n  function flowStart(code) {\n    if (code === null) {\n      if (childFlow) closeFlow();\n      exitContainers(0);\n      effects.consume(code);\n      return;\n    }\n    childFlow = childFlow || self.parser.flow(self.now());\n    effects.enter('chunkFlow', {\n      contentType: 'flow',\n      previous: childToken,\n      _tokenizer: childFlow\n    });\n    return flowContinue(code);\n  }\n\n  /** @type {State} */\n  function flowContinue(code) {\n    if (code === null) {\n      writeToChild(effects.exit('chunkFlow'), true);\n      exitContainers(0);\n      effects.consume(code);\n      return;\n    }\n    if (markdownLineEnding(code)) {\n      effects.consume(code);\n      writeToChild(effects.exit('chunkFlow'));\n      // Get ready for the next line.\n      continued = 0;\n      self.interrupt = undefined;\n      return start;\n    }\n    effects.consume(code);\n    return flowContinue;\n  }\n\n  /**\n   * @param {Token} token\n   * @param {boolean | undefined} [eof]\n   * @returns {void}\n   */\n  function writeToChild(token, eof) {\n    const stream = self.sliceStream(token);\n    if (eof) stream.push(null);\n    token.previous = childToken;\n    if (childToken) childToken.next = token;\n    childToken = token;\n    childFlow.defineSkip(token.start);\n    childFlow.write(stream);\n\n    // Alright, so we just added a lazy line:\n    //\n    // ```markdown\n    // > a\n    // b.\n    //\n    // Or:\n    //\n    // > ~~~c\n    // d\n    //\n    // Or:\n    //\n    // > | e |\n    // f\n    // ```\n    //\n    // The construct in the second example (fenced code) does not accept lazy\n    // lines, so it marked itself as done at the end of its first line, and\n    // then the content construct parses `d`.\n    // Most constructs in markdown match on the first line: if the first line\n    // forms a construct, a non-lazy line can’t “unmake” it.\n    //\n    // The construct in the third example is potentially a GFM table, and\n    // those are *weird*.\n    // It *could* be a table, from the first line, if the following line\n    // matches a condition.\n    // In this case, that second line is lazy, which “unmakes” the first line\n    // and turns the whole into one content block.\n    //\n    // We’ve now parsed the non-lazy and the lazy line, and can figure out\n    // whether the lazy line started a new flow block.\n    // If it did, we exit the current containers between the two flow blocks.\n    if (self.parser.lazy[token.start.line]) {\n      let index = childFlow.events.length;\n      while (index--) {\n        if (\n        // The token starts before the line ending…\n        childFlow.events[index][1].start.offset < lineStartOffset && (\n        // …and either is not ended yet…\n        !childFlow.events[index][1].end ||\n        // …or ends after it.\n        childFlow.events[index][1].end.offset > lineStartOffset)) {\n          // Exit: there’s still something open, which means it’s a lazy line\n          // part of something.\n          return;\n        }\n      }\n\n      // Note: this algorithm for moving events around is similar to the\n      // algorithm when closing flow in `documentContinue`.\n      const indexBeforeExits = self.events.length;\n      let indexBeforeFlow = indexBeforeExits;\n      /** @type {boolean | undefined} */\n      let seen;\n      /** @type {Point | undefined} */\n      let point;\n\n      // Find the previous chunk (the one before the lazy line).\n      while (indexBeforeFlow--) {\n        if (self.events[indexBeforeFlow][0] === 'exit' && self.events[indexBeforeFlow][1].type === 'chunkFlow') {\n          if (seen) {\n            point = self.events[indexBeforeFlow][1].end;\n            break;\n          }\n          seen = true;\n        }\n      }\n      exitContainers(continued);\n\n      // Fix positions.\n      index = indexBeforeExits;\n      while (index < self.events.length) {\n        self.events[index][1].end = Object.assign({}, point);\n        index++;\n      }\n\n      // Inject the exits earlier (they’re still also at the end).\n      splice(self.events, indexBeforeFlow + 1, 0, self.events.slice(indexBeforeExits));\n\n      // Discard the duplicate exits.\n      self.events.length = index;\n    }\n  }\n\n  /**\n   * @param {number} size\n   * @returns {void}\n   */\n  function exitContainers(size) {\n    let index = stack.length;\n\n    // Exit open containers.\n    while (index-- > size) {\n      const entry = stack[index];\n      self.containerState = entry[1];\n      entry[0].exit.call(self, effects);\n    }\n    stack.length = size;\n  }\n  function closeFlow() {\n    childFlow.write([null]);\n    childToken = undefined;\n    childFlow = undefined;\n    self.containerState._closeFlow = undefined;\n  }\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeContainer(effects, ok, nok) {\n  // Always populated by defaults.\n\n  return factorySpace(effects, effects.attempt(this.parser.constructs.document, ok, nok), 'linePrefix', this.parser.constructs.disable.null.includes('codeIndented') ? undefined : 4);\n}","/**\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nexport const blankLine = {\n  tokenize: tokenizeBlankLine,\n  partial: true\n};\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeBlankLine(effects, ok, nok) {\n  return start;\n\n  /**\n   * Start of blank line.\n   *\n   * > 👉 **Note**: `␠` represents a space character.\n   *\n   * ```markdown\n   * > | ␠␠␊\n   *     ^\n   * > | ␊\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    return markdownSpace(code) ? factorySpace(effects, after, 'linePrefix')(code) : after(code);\n  }\n\n  /**\n   * At eof/eol, after optional whitespace.\n   *\n   * > 👉 **Note**: `␠` represents a space character.\n   *\n   * ```markdown\n   * > | ␠␠␊\n   *       ^\n   * > | ␊\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    return code === null || markdownLineEnding(code) ? ok(code) : nok(code);\n  }\n}","/**\n * @typedef {import('micromark-util-types').Chunk} Chunk\n * @typedef {import('micromark-util-types').Event} Event\n * @typedef {import('micromark-util-types').Token} Token\n */\n\nimport { splice } from 'micromark-util-chunked';\n/**\n * Tokenize subcontent.\n *\n * @param {Array<Event>} events\n *   List of events.\n * @returns {boolean}\n *   Whether subtokens were found.\n */\nexport function subtokenize(events) {\n  /** @type {Record<string, number>} */\n  const jumps = {};\n  let index = -1;\n  /** @type {Event} */\n  let event;\n  /** @type {number | undefined} */\n  let lineIndex;\n  /** @type {number} */\n  let otherIndex;\n  /** @type {Event} */\n  let otherEvent;\n  /** @type {Array<Event>} */\n  let parameters;\n  /** @type {Array<Event>} */\n  let subevents;\n  /** @type {boolean | undefined} */\n  let more;\n  while (++index < events.length) {\n    while (index in jumps) {\n      index = jumps[index];\n    }\n    event = events[index];\n\n    // Add a hook for the GFM tasklist extension, which needs to know if text\n    // is in the first content of a list item.\n    if (index && event[1].type === 'chunkFlow' && events[index - 1][1].type === 'listItemPrefix') {\n      subevents = event[1]._tokenizer.events;\n      otherIndex = 0;\n      if (otherIndex < subevents.length && subevents[otherIndex][1].type === 'lineEndingBlank') {\n        otherIndex += 2;\n      }\n      if (otherIndex < subevents.length && subevents[otherIndex][1].type === 'content') {\n        while (++otherIndex < subevents.length) {\n          if (subevents[otherIndex][1].type === 'content') {\n            break;\n          }\n          if (subevents[otherIndex][1].type === 'chunkText') {\n            subevents[otherIndex][1]._isInFirstContentOfListItem = true;\n            otherIndex++;\n          }\n        }\n      }\n    }\n\n    // Enter.\n    if (event[0] === 'enter') {\n      if (event[1].contentType) {\n        Object.assign(jumps, subcontent(events, index));\n        index = jumps[index];\n        more = true;\n      }\n    }\n    // Exit.\n    else if (event[1]._container) {\n      otherIndex = index;\n      lineIndex = undefined;\n      while (otherIndex--) {\n        otherEvent = events[otherIndex];\n        if (otherEvent[1].type === 'lineEnding' || otherEvent[1].type === 'lineEndingBlank') {\n          if (otherEvent[0] === 'enter') {\n            if (lineIndex) {\n              events[lineIndex][1].type = 'lineEndingBlank';\n            }\n            otherEvent[1].type = 'lineEnding';\n            lineIndex = otherIndex;\n          }\n        } else {\n          break;\n        }\n      }\n      if (lineIndex) {\n        // Fix position.\n        event[1].end = Object.assign({}, events[lineIndex][1].start);\n\n        // Switch container exit w/ line endings.\n        parameters = events.slice(lineIndex, index);\n        parameters.unshift(event);\n        splice(events, lineIndex, index - lineIndex + 1, parameters);\n      }\n    }\n  }\n  return !more;\n}\n\n/**\n * Tokenize embedded tokens.\n *\n * @param {Array<Event>} events\n * @param {number} eventIndex\n * @returns {Record<string, number>}\n */\nfunction subcontent(events, eventIndex) {\n  const token = events[eventIndex][1];\n  const context = events[eventIndex][2];\n  let startPosition = eventIndex - 1;\n  /** @type {Array<number>} */\n  const startPositions = [];\n  const tokenizer = token._tokenizer || context.parser[token.contentType](token.start);\n  const childEvents = tokenizer.events;\n  /** @type {Array<[number, number]>} */\n  const jumps = [];\n  /** @type {Record<string, number>} */\n  const gaps = {};\n  /** @type {Array<Chunk>} */\n  let stream;\n  /** @type {Token | undefined} */\n  let previous;\n  let index = -1;\n  /** @type {Token | undefined} */\n  let current = token;\n  let adjust = 0;\n  let start = 0;\n  const breaks = [start];\n\n  // Loop forward through the linked tokens to pass them in order to the\n  // subtokenizer.\n  while (current) {\n    // Find the position of the event for this token.\n    while (events[++startPosition][1] !== current) {\n      // Empty.\n    }\n    startPositions.push(startPosition);\n    if (!current._tokenizer) {\n      stream = context.sliceStream(current);\n      if (!current.next) {\n        stream.push(null);\n      }\n      if (previous) {\n        tokenizer.defineSkip(current.start);\n      }\n      if (current._isInFirstContentOfListItem) {\n        tokenizer._gfmTasklistFirstContentOfListItem = true;\n      }\n      tokenizer.write(stream);\n      if (current._isInFirstContentOfListItem) {\n        tokenizer._gfmTasklistFirstContentOfListItem = undefined;\n      }\n    }\n\n    // Unravel the next token.\n    previous = current;\n    current = current.next;\n  }\n\n  // Now, loop back through all events (and linked tokens), to figure out which\n  // parts belong where.\n  current = token;\n  while (++index < childEvents.length) {\n    if (\n    // Find a void token that includes a break.\n    childEvents[index][0] === 'exit' && childEvents[index - 1][0] === 'enter' && childEvents[index][1].type === childEvents[index - 1][1].type && childEvents[index][1].start.line !== childEvents[index][1].end.line) {\n      start = index + 1;\n      breaks.push(start);\n      // Help GC.\n      current._tokenizer = undefined;\n      current.previous = undefined;\n      current = current.next;\n    }\n  }\n\n  // Help GC.\n  tokenizer.events = [];\n\n  // If there’s one more token (which is the cases for lines that end in an\n  // EOF), that’s perfect: the last point we found starts it.\n  // If there isn’t then make sure any remaining content is added to it.\n  if (current) {\n    // Help GC.\n    current._tokenizer = undefined;\n    current.previous = undefined;\n  } else {\n    breaks.pop();\n  }\n\n  // Now splice the events from the subtokenizer into the current events,\n  // moving back to front so that splice indices aren’t affected.\n  index = breaks.length;\n  while (index--) {\n    const slice = childEvents.slice(breaks[index], breaks[index + 1]);\n    const start = startPositions.pop();\n    jumps.unshift([start, start + slice.length - 1]);\n    splice(events, start, 2, slice);\n  }\n  index = -1;\n  while (++index < jumps.length) {\n    gaps[adjust + jumps[index][0]] = adjust + jumps[index][1];\n    adjust += jumps[index][1] - jumps[index][0] - 1;\n  }\n  return gaps;\n}","/**\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').Resolver} Resolver\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').Token} Token\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding } from 'micromark-util-character';\nimport { subtokenize } from 'micromark-util-subtokenize';\n/**\n * No name because it must not be turned off.\n * @type {Construct}\n */\nexport const content = {\n  tokenize: tokenizeContent,\n  resolve: resolveContent\n};\n\n/** @type {Construct} */\nconst continuationConstruct = {\n  tokenize: tokenizeContinuation,\n  partial: true\n};\n\n/**\n * Content is transparent: it’s parsed right now. That way, definitions are also\n * parsed right now: before text in paragraphs (specifically, media) are parsed.\n *\n * @type {Resolver}\n */\nfunction resolveContent(events) {\n  subtokenize(events);\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeContent(effects, ok) {\n  /** @type {Token | undefined} */\n  let previous;\n  return chunkStart;\n\n  /**\n   * Before a content chunk.\n   *\n   * ```markdown\n   * > | abc\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function chunkStart(code) {\n    effects.enter('content');\n    previous = effects.enter('chunkContent', {\n      contentType: 'content'\n    });\n    return chunkInside(code);\n  }\n\n  /**\n   * In a content chunk.\n   *\n   * ```markdown\n   * > | abc\n   *     ^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function chunkInside(code) {\n    if (code === null) {\n      return contentEnd(code);\n    }\n\n    // To do: in `markdown-rs`, each line is parsed on its own, and everything\n    // is stitched together resolving.\n    if (markdownLineEnding(code)) {\n      return effects.check(continuationConstruct, contentContinue, contentEnd)(code);\n    }\n\n    // Data.\n    effects.consume(code);\n    return chunkInside;\n  }\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function contentEnd(code) {\n    effects.exit('chunkContent');\n    effects.exit('content');\n    return ok(code);\n  }\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function contentContinue(code) {\n    effects.consume(code);\n    effects.exit('chunkContent');\n    previous.next = effects.enter('chunkContent', {\n      contentType: 'content',\n      previous\n    });\n    previous = previous.next;\n    return chunkInside;\n  }\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeContinuation(effects, ok, nok) {\n  const self = this;\n  return startLookahead;\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function startLookahead(code) {\n    effects.exit('chunkContent');\n    effects.enter('lineEnding');\n    effects.consume(code);\n    effects.exit('lineEnding');\n    return factorySpace(effects, prefixed, 'linePrefix');\n  }\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function prefixed(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return nok(code);\n    }\n\n    // Always populated by defaults.\n\n    const tail = self.events[self.events.length - 1];\n    if (!self.parser.constructs.disable.null.includes('codeIndented') && tail && tail[1].type === 'linePrefix' && tail[2].sliceSerialize(tail[1], true).length >= 4) {\n      return ok(code);\n    }\n    return effects.interrupt(self.parser.constructs.flow, nok, ok)(code);\n  }\n}","/**\n * @typedef {import('micromark-util-types').InitialConstruct} InitialConstruct\n * @typedef {import('micromark-util-types').Initializer} Initializer\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n */\n\nimport { blankLine, content } from 'micromark-core-commonmark';\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding } from 'micromark-util-character';\n/** @type {InitialConstruct} */\nexport const flow = {\n  tokenize: initializeFlow\n};\n\n/**\n * @this {TokenizeContext}\n * @type {Initializer}\n */\nfunction initializeFlow(effects) {\n  const self = this;\n  const initial = effects.attempt(\n  // Try to parse a blank line.\n  blankLine, atBlankEnding,\n  // Try to parse initial flow (essentially, only code).\n  effects.attempt(this.parser.constructs.flowInitial, afterConstruct, factorySpace(effects, effects.attempt(this.parser.constructs.flow, afterConstruct, effects.attempt(content, afterConstruct)), 'linePrefix')));\n  return initial;\n\n  /** @type {State} */\n  function atBlankEnding(code) {\n    if (code === null) {\n      effects.consume(code);\n      return;\n    }\n    effects.enter('lineEndingBlank');\n    effects.consume(code);\n    effects.exit('lineEndingBlank');\n    self.currentConstruct = undefined;\n    return initial;\n  }\n\n  /** @type {State} */\n  function afterConstruct(code) {\n    if (code === null) {\n      effects.consume(code);\n      return;\n    }\n    effects.enter('lineEnding');\n    effects.consume(code);\n    effects.exit('lineEnding');\n    self.currentConstruct = undefined;\n    return initial;\n  }\n}","/**\n * @typedef {import('micromark-util-types').Code} Code\n * @typedef {import('micromark-util-types').InitialConstruct} InitialConstruct\n * @typedef {import('micromark-util-types').Initializer} Initializer\n * @typedef {import('micromark-util-types').Resolver} Resolver\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n */\n\nexport const resolver = {\n  resolveAll: createResolver()\n};\nexport const string = initializeFactory('string');\nexport const text = initializeFactory('text');\n\n/**\n * @param {'string' | 'text'} field\n * @returns {InitialConstruct}\n */\nfunction initializeFactory(field) {\n  return {\n    tokenize: initializeText,\n    resolveAll: createResolver(field === 'text' ? resolveAllLineSuffixes : undefined)\n  };\n\n  /**\n   * @this {TokenizeContext}\n   * @type {Initializer}\n   */\n  function initializeText(effects) {\n    const self = this;\n    const constructs = this.parser.constructs[field];\n    const text = effects.attempt(constructs, start, notText);\n    return start;\n\n    /** @type {State} */\n    function start(code) {\n      return atBreak(code) ? text(code) : notText(code);\n    }\n\n    /** @type {State} */\n    function notText(code) {\n      if (code === null) {\n        effects.consume(code);\n        return;\n      }\n      effects.enter('data');\n      effects.consume(code);\n      return data;\n    }\n\n    /** @type {State} */\n    function data(code) {\n      if (atBreak(code)) {\n        effects.exit('data');\n        return text(code);\n      }\n\n      // Data.\n      effects.consume(code);\n      return data;\n    }\n\n    /**\n     * @param {Code} code\n     * @returns {boolean}\n     */\n    function atBreak(code) {\n      if (code === null) {\n        return true;\n      }\n      const list = constructs[code];\n      let index = -1;\n      if (list) {\n        // Always populated by defaults.\n\n        while (++index < list.length) {\n          const item = list[index];\n          if (!item.previous || item.previous.call(self, self.previous)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    }\n  }\n}\n\n/**\n * @param {Resolver | undefined} [extraResolver]\n * @returns {Resolver}\n */\nfunction createResolver(extraResolver) {\n  return resolveAllText;\n\n  /** @type {Resolver} */\n  function resolveAllText(events, context) {\n    let index = -1;\n    /** @type {number | undefined} */\n    let enter;\n\n    // A rather boring computation (to merge adjacent `data` events) which\n    // improves mm performance by 29%.\n    while (++index <= events.length) {\n      if (enter === undefined) {\n        if (events[index] && events[index][1].type === 'data') {\n          enter = index;\n          index++;\n        }\n      } else if (!events[index] || events[index][1].type !== 'data') {\n        // Don’t do anything if there is one data token.\n        if (index !== enter + 2) {\n          events[enter][1].end = events[index - 1][1].end;\n          events.splice(enter + 2, index - enter - 2);\n          index = enter + 2;\n        }\n        enter = undefined;\n      }\n    }\n    return extraResolver ? extraResolver(events, context) : events;\n  }\n}\n\n/**\n * A rather ugly set of instructions which again looks at chunks in the input\n * stream.\n * The reason to do this here is that it is *much* faster to parse in reverse.\n * And that we can’t hook into `null` to split the line suffix before an EOF.\n * To do: figure out if we can make this into a clean utility, or even in core.\n * As it will be useful for GFMs literal autolink extension (and maybe even\n * tables?)\n *\n * @type {Resolver}\n */\nfunction resolveAllLineSuffixes(events, context) {\n  let eventIndex = 0; // Skip first.\n\n  while (++eventIndex <= events.length) {\n    if ((eventIndex === events.length || events[eventIndex][1].type === 'lineEnding') && events[eventIndex - 1][1].type === 'data') {\n      const data = events[eventIndex - 1][1];\n      const chunks = context.sliceStream(data);\n      let index = chunks.length;\n      let bufferIndex = -1;\n      let size = 0;\n      /** @type {boolean | undefined} */\n      let tabs;\n      while (index--) {\n        const chunk = chunks[index];\n        if (typeof chunk === 'string') {\n          bufferIndex = chunk.length;\n          while (chunk.charCodeAt(bufferIndex - 1) === 32) {\n            size++;\n            bufferIndex--;\n          }\n          if (bufferIndex) break;\n          bufferIndex = -1;\n        }\n        // Number\n        else if (chunk === -2) {\n          tabs = true;\n          size++;\n        } else if (chunk === -1) {\n          // Empty\n        } else {\n          // Replacement character, exit.\n          index++;\n          break;\n        }\n      }\n      if (size) {\n        const token = {\n          type: eventIndex === events.length || tabs || size < 2 ? 'lineSuffix' : 'hardBreakTrailing',\n          start: {\n            line: data.end.line,\n            column: data.end.column - size,\n            offset: data.end.offset - size,\n            _index: data.start._index + index,\n            _bufferIndex: index ? bufferIndex : data.start._bufferIndex + bufferIndex\n          },\n          end: Object.assign({}, data.end)\n        };\n        data.end = Object.assign({}, token.start);\n        if (data.start.offset === data.end.offset) {\n          Object.assign(data, token);\n        } else {\n          events.splice(eventIndex, 0, ['enter', token, context], ['exit', token, context]);\n          eventIndex += 2;\n        }\n      }\n      eventIndex++;\n    }\n  }\n  return events;\n}","/**\n * @typedef {import('micromark-util-types').Event} Event\n * @typedef {import('micromark-util-types').Resolver} Resolver\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n */\n\n/**\n * Call all `resolveAll`s.\n *\n * @param {Array<{resolveAll?: Resolver | undefined}>} constructs\n *   List of constructs, optionally with `resolveAll`s.\n * @param {Array<Event>} events\n *   List of events.\n * @param {TokenizeContext} context\n *   Context used by `tokenize`.\n * @returns {Array<Event>}\n *   Changed events.\n */\nexport function resolveAll(constructs, events, context) {\n  /** @type {Array<Resolver>} */\n  const called = [];\n  let index = -1;\n  while (++index < constructs.length) {\n    const resolve = constructs[index].resolveAll;\n    if (resolve && !called.includes(resolve)) {\n      events = resolve(events, context);\n      called.push(resolve);\n    }\n  }\n  return events;\n}","/**\n * @typedef {import('micromark-util-types').Chunk} Chunk\n * @typedef {import('micromark-util-types').Code} Code\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').ConstructRecord} ConstructRecord\n * @typedef {import('micromark-util-types').Effects} Effects\n * @typedef {import('micromark-util-types').InitialConstruct} InitialConstruct\n * @typedef {import('micromark-util-types').ParseContext} ParseContext\n * @typedef {import('micromark-util-types').Point} Point\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').Token} Token\n * @typedef {import('micromark-util-types').TokenType} TokenType\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n */\n\n/**\n * @callback Restore\n * @returns {void}\n *\n * @typedef Info\n * @property {Restore} restore\n * @property {number} from\n *\n * @callback ReturnHandle\n *   Handle a successful run.\n * @param {Construct} construct\n * @param {Info} info\n * @returns {void}\n */\n\nimport { markdownLineEnding } from 'micromark-util-character';\nimport { push, splice } from 'micromark-util-chunked';\nimport { resolveAll } from 'micromark-util-resolve-all';\n/**\n * Create a tokenizer.\n * Tokenizers deal with one type of data (e.g., containers, flow, text).\n * The parser is the object dealing with it all.\n * `initialize` works like other constructs, except that only its `tokenize`\n * function is used, in which case it doesn’t receive an `ok` or `nok`.\n * `from` can be given to set the point before the first character, although\n * when further lines are indented, they must be set with `defineSkip`.\n *\n * @param {ParseContext} parser\n * @param {InitialConstruct} initialize\n * @param {Omit<Point, '_bufferIndex' | '_index'> | undefined} [from]\n * @returns {TokenizeContext}\n */\nexport function createTokenizer(parser, initialize, from) {\n  /** @type {Point} */\n  let point = Object.assign(from ? Object.assign({}, from) : {\n    line: 1,\n    column: 1,\n    offset: 0\n  }, {\n    _index: 0,\n    _bufferIndex: -1\n  });\n  /** @type {Record<string, number>} */\n  const columnStart = {};\n  /** @type {Array<Construct>} */\n  const resolveAllConstructs = [];\n  /** @type {Array<Chunk>} */\n  let chunks = [];\n  /** @type {Array<Token>} */\n  let stack = [];\n  /** @type {boolean | undefined} */\n  let consumed = true;\n\n  /**\n   * Tools used for tokenizing.\n   *\n   * @type {Effects}\n   */\n  const effects = {\n    consume,\n    enter,\n    exit,\n    attempt: constructFactory(onsuccessfulconstruct),\n    check: constructFactory(onsuccessfulcheck),\n    interrupt: constructFactory(onsuccessfulcheck, {\n      interrupt: true\n    })\n  };\n\n  /**\n   * State and tools for resolving and serializing.\n   *\n   * @type {TokenizeContext}\n   */\n  const context = {\n    previous: null,\n    code: null,\n    containerState: {},\n    events: [],\n    parser,\n    sliceStream,\n    sliceSerialize,\n    now,\n    defineSkip,\n    write\n  };\n\n  /**\n   * The state function.\n   *\n   * @type {State | void}\n   */\n  let state = initialize.tokenize.call(context, effects);\n\n  /**\n   * Track which character we expect to be consumed, to catch bugs.\n   *\n   * @type {Code}\n   */\n  let expectedCode;\n  if (initialize.resolveAll) {\n    resolveAllConstructs.push(initialize);\n  }\n  return context;\n\n  /** @type {TokenizeContext['write']} */\n  function write(slice) {\n    chunks = push(chunks, slice);\n    main();\n\n    // Exit if we’re not done, resolve might change stuff.\n    if (chunks[chunks.length - 1] !== null) {\n      return [];\n    }\n    addResult(initialize, 0);\n\n    // Otherwise, resolve, and exit.\n    context.events = resolveAll(resolveAllConstructs, context.events, context);\n    return context.events;\n  }\n\n  //\n  // Tools.\n  //\n\n  /** @type {TokenizeContext['sliceSerialize']} */\n  function sliceSerialize(token, expandTabs) {\n    return serializeChunks(sliceStream(token), expandTabs);\n  }\n\n  /** @type {TokenizeContext['sliceStream']} */\n  function sliceStream(token) {\n    return sliceChunks(chunks, token);\n  }\n\n  /** @type {TokenizeContext['now']} */\n  function now() {\n    // This is a hot path, so we clone manually instead of `Object.assign({}, point)`\n    const {\n      line,\n      column,\n      offset,\n      _index,\n      _bufferIndex\n    } = point;\n    return {\n      line,\n      column,\n      offset,\n      _index,\n      _bufferIndex\n    };\n  }\n\n  /** @type {TokenizeContext['defineSkip']} */\n  function defineSkip(value) {\n    columnStart[value.line] = value.column;\n    accountForPotentialSkip();\n  }\n\n  //\n  // State management.\n  //\n\n  /**\n   * Main loop (note that `_index` and `_bufferIndex` in `point` are modified by\n   * `consume`).\n   * Here is where we walk through the chunks, which either include strings of\n   * several characters, or numerical character codes.\n   * The reason to do this in a loop instead of a call is so the stack can\n   * drain.\n   *\n   * @returns {void}\n   */\n  function main() {\n    /** @type {number} */\n    let chunkIndex;\n    while (point._index < chunks.length) {\n      const chunk = chunks[point._index];\n\n      // If we’re in a buffer chunk, loop through it.\n      if (typeof chunk === 'string') {\n        chunkIndex = point._index;\n        if (point._bufferIndex < 0) {\n          point._bufferIndex = 0;\n        }\n        while (point._index === chunkIndex && point._bufferIndex < chunk.length) {\n          go(chunk.charCodeAt(point._bufferIndex));\n        }\n      } else {\n        go(chunk);\n      }\n    }\n  }\n\n  /**\n   * Deal with one code.\n   *\n   * @param {Code} code\n   * @returns {void}\n   */\n  function go(code) {\n    consumed = undefined;\n    expectedCode = code;\n    state = state(code);\n  }\n\n  /** @type {Effects['consume']} */\n  function consume(code) {\n    if (markdownLineEnding(code)) {\n      point.line++;\n      point.column = 1;\n      point.offset += code === -3 ? 2 : 1;\n      accountForPotentialSkip();\n    } else if (code !== -1) {\n      point.column++;\n      point.offset++;\n    }\n\n    // Not in a string chunk.\n    if (point._bufferIndex < 0) {\n      point._index++;\n    } else {\n      point._bufferIndex++;\n\n      // At end of string chunk.\n      // @ts-expect-error Points w/ non-negative `_bufferIndex` reference\n      // strings.\n      if (point._bufferIndex === chunks[point._index].length) {\n        point._bufferIndex = -1;\n        point._index++;\n      }\n    }\n\n    // Expose the previous character.\n    context.previous = code;\n\n    // Mark as consumed.\n    consumed = true;\n  }\n\n  /** @type {Effects['enter']} */\n  function enter(type, fields) {\n    /** @type {Token} */\n    // @ts-expect-error Patch instead of assign required fields to help GC.\n    const token = fields || {};\n    token.type = type;\n    token.start = now();\n    context.events.push(['enter', token, context]);\n    stack.push(token);\n    return token;\n  }\n\n  /** @type {Effects['exit']} */\n  function exit(type) {\n    const token = stack.pop();\n    token.end = now();\n    context.events.push(['exit', token, context]);\n    return token;\n  }\n\n  /**\n   * Use results.\n   *\n   * @type {ReturnHandle}\n   */\n  function onsuccessfulconstruct(construct, info) {\n    addResult(construct, info.from);\n  }\n\n  /**\n   * Discard results.\n   *\n   * @type {ReturnHandle}\n   */\n  function onsuccessfulcheck(_, info) {\n    info.restore();\n  }\n\n  /**\n   * Factory to attempt/check/interrupt.\n   *\n   * @param {ReturnHandle} onreturn\n   * @param {{interrupt?: boolean | undefined} | undefined} [fields]\n   */\n  function constructFactory(onreturn, fields) {\n    return hook;\n\n    /**\n     * Handle either an object mapping codes to constructs, a list of\n     * constructs, or a single construct.\n     *\n     * @param {Array<Construct> | Construct | ConstructRecord} constructs\n     * @param {State} returnState\n     * @param {State | undefined} [bogusState]\n     * @returns {State}\n     */\n    function hook(constructs, returnState, bogusState) {\n      /** @type {Array<Construct>} */\n      let listOfConstructs;\n      /** @type {number} */\n      let constructIndex;\n      /** @type {Construct} */\n      let currentConstruct;\n      /** @type {Info} */\n      let info;\n      return Array.isArray(constructs) /* c8 ignore next 1 */ ? handleListOfConstructs(constructs) : 'tokenize' in constructs ?\n      // @ts-expect-error Looks like a construct.\n      handleListOfConstructs([constructs]) : handleMapOfConstructs(constructs);\n\n      /**\n       * Handle a list of construct.\n       *\n       * @param {ConstructRecord} map\n       * @returns {State}\n       */\n      function handleMapOfConstructs(map) {\n        return start;\n\n        /** @type {State} */\n        function start(code) {\n          const def = code !== null && map[code];\n          const all = code !== null && map.null;\n          const list = [\n          // To do: add more extension tests.\n          /* c8 ignore next 2 */\n          ...(Array.isArray(def) ? def : def ? [def] : []), ...(Array.isArray(all) ? all : all ? [all] : [])];\n          return handleListOfConstructs(list)(code);\n        }\n      }\n\n      /**\n       * Handle a list of construct.\n       *\n       * @param {Array<Construct>} list\n       * @returns {State}\n       */\n      function handleListOfConstructs(list) {\n        listOfConstructs = list;\n        constructIndex = 0;\n        if (list.length === 0) {\n          return bogusState;\n        }\n        return handleConstruct(list[constructIndex]);\n      }\n\n      /**\n       * Handle a single construct.\n       *\n       * @param {Construct} construct\n       * @returns {State}\n       */\n      function handleConstruct(construct) {\n        return start;\n\n        /** @type {State} */\n        function start(code) {\n          // To do: not needed to store if there is no bogus state, probably?\n          // Currently doesn’t work because `inspect` in document does a check\n          // w/o a bogus, which doesn’t make sense. But it does seem to help perf\n          // by not storing.\n          info = store();\n          currentConstruct = construct;\n          if (!construct.partial) {\n            context.currentConstruct = construct;\n          }\n\n          // Always populated by defaults.\n\n          if (construct.name && context.parser.constructs.disable.null.includes(construct.name)) {\n            return nok(code);\n          }\n          return construct.tokenize.call(\n          // If we do have fields, create an object w/ `context` as its\n          // prototype.\n          // This allows a “live binding”, which is needed for `interrupt`.\n          fields ? Object.assign(Object.create(context), fields) : context, effects, ok, nok)(code);\n        }\n      }\n\n      /** @type {State} */\n      function ok(code) {\n        consumed = true;\n        onreturn(currentConstruct, info);\n        return returnState;\n      }\n\n      /** @type {State} */\n      function nok(code) {\n        consumed = true;\n        info.restore();\n        if (++constructIndex < listOfConstructs.length) {\n          return handleConstruct(listOfConstructs[constructIndex]);\n        }\n        return bogusState;\n      }\n    }\n  }\n\n  /**\n   * @param {Construct} construct\n   * @param {number} from\n   * @returns {void}\n   */\n  function addResult(construct, from) {\n    if (construct.resolveAll && !resolveAllConstructs.includes(construct)) {\n      resolveAllConstructs.push(construct);\n    }\n    if (construct.resolve) {\n      splice(context.events, from, context.events.length - from, construct.resolve(context.events.slice(from), context));\n    }\n    if (construct.resolveTo) {\n      context.events = construct.resolveTo(context.events, context);\n    }\n  }\n\n  /**\n   * Store state.\n   *\n   * @returns {Info}\n   */\n  function store() {\n    const startPoint = now();\n    const startPrevious = context.previous;\n    const startCurrentConstruct = context.currentConstruct;\n    const startEventsIndex = context.events.length;\n    const startStack = Array.from(stack);\n    return {\n      restore,\n      from: startEventsIndex\n    };\n\n    /**\n     * Restore state.\n     *\n     * @returns {void}\n     */\n    function restore() {\n      point = startPoint;\n      context.previous = startPrevious;\n      context.currentConstruct = startCurrentConstruct;\n      context.events.length = startEventsIndex;\n      stack = startStack;\n      accountForPotentialSkip();\n    }\n  }\n\n  /**\n   * Move the current point a bit forward in the line when it’s on a column\n   * skip.\n   *\n   * @returns {void}\n   */\n  function accountForPotentialSkip() {\n    if (point.line in columnStart && point.column < 2) {\n      point.column = columnStart[point.line];\n      point.offset += columnStart[point.line] - 1;\n    }\n  }\n}\n\n/**\n * Get the chunks from a slice of chunks in the range of a token.\n *\n * @param {Array<Chunk>} chunks\n * @param {Pick<Token, 'end' | 'start'>} token\n * @returns {Array<Chunk>}\n */\nfunction sliceChunks(chunks, token) {\n  const startIndex = token.start._index;\n  const startBufferIndex = token.start._bufferIndex;\n  const endIndex = token.end._index;\n  const endBufferIndex = token.end._bufferIndex;\n  /** @type {Array<Chunk>} */\n  let view;\n  if (startIndex === endIndex) {\n    // @ts-expect-error `_bufferIndex` is used on string chunks.\n    view = [chunks[startIndex].slice(startBufferIndex, endBufferIndex)];\n  } else {\n    view = chunks.slice(startIndex, endIndex);\n    if (startBufferIndex > -1) {\n      const head = view[0];\n      if (typeof head === 'string') {\n        view[0] = head.slice(startBufferIndex);\n      } else {\n        view.shift();\n      }\n    }\n    if (endBufferIndex > 0) {\n      // @ts-expect-error `_bufferIndex` is used on string chunks.\n      view.push(chunks[endIndex].slice(0, endBufferIndex));\n    }\n  }\n  return view;\n}\n\n/**\n * Get the string value of a slice of chunks.\n *\n * @param {Array<Chunk>} chunks\n * @param {boolean | undefined} [expandTabs=false]\n * @returns {string}\n */\nfunction serializeChunks(chunks, expandTabs) {\n  let index = -1;\n  /** @type {Array<string>} */\n  const result = [];\n  /** @type {boolean | undefined} */\n  let atTab;\n  while (++index < chunks.length) {\n    const chunk = chunks[index];\n    /** @type {string} */\n    let value;\n    if (typeof chunk === 'string') {\n      value = chunk;\n    } else switch (chunk) {\n      case -5:\n        {\n          value = '\\r';\n          break;\n        }\n      case -4:\n        {\n          value = '\\n';\n          break;\n        }\n      case -3:\n        {\n          value = '\\r' + '\\n';\n          break;\n        }\n      case -2:\n        {\n          value = expandTabs ? ' ' : '\\t';\n          break;\n        }\n      case -1:\n        {\n          if (!expandTabs && atTab) continue;\n          value = ' ';\n          break;\n        }\n      default:\n        {\n          // Currently only replacement character.\n          value = String.fromCharCode(chunk);\n        }\n    }\n    atTab = chunk === -2;\n    result.push(value);\n  }\n  return result.join('');\n}","/**\n * @typedef {import('micromark-util-types').Code} Code\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nexport const thematicBreak = {\n  name: 'thematicBreak',\n  tokenize: tokenizeThematicBreak\n};\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeThematicBreak(effects, ok, nok) {\n  let size = 0;\n  /** @type {NonNullable<Code>} */\n  let marker;\n  return start;\n\n  /**\n   * Start of thematic break.\n   *\n   * ```markdown\n   * > | ***\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter('thematicBreak');\n    // To do: parse indent like `markdown-rs`.\n    return before(code);\n  }\n\n  /**\n   * After optional whitespace, at marker.\n   *\n   * ```markdown\n   * > | ***\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function before(code) {\n    marker = code;\n    return atBreak(code);\n  }\n\n  /**\n   * After something, before something else.\n   *\n   * ```markdown\n   * > | ***\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function atBreak(code) {\n    if (code === marker) {\n      effects.enter('thematicBreakSequence');\n      return sequence(code);\n    }\n    if (size >= 3 && (code === null || markdownLineEnding(code))) {\n      effects.exit('thematicBreak');\n      return ok(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * In sequence.\n   *\n   * ```markdown\n   * > | ***\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function sequence(code) {\n    if (code === marker) {\n      effects.consume(code);\n      size++;\n      return sequence;\n    }\n    effects.exit('thematicBreakSequence');\n    return markdownSpace(code) ? factorySpace(effects, atBreak, 'whitespace')(code) : atBreak(code);\n  }\n}","/**\n * @typedef {import('micromark-util-types').Code} Code\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').ContainerState} ContainerState\n * @typedef {import('micromark-util-types').Exiter} Exiter\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { asciiDigit, markdownSpace } from 'micromark-util-character';\nimport { blankLine } from './blank-line.js';\nimport { thematicBreak } from './thematic-break.js';\n\n/** @type {Construct} */\nexport const list = {\n  name: 'list',\n  tokenize: tokenizeListStart,\n  continuation: {\n    tokenize: tokenizeListContinuation\n  },\n  exit: tokenizeListEnd\n};\n\n/** @type {Construct} */\nconst listItemPrefixWhitespaceConstruct = {\n  tokenize: tokenizeListItemPrefixWhitespace,\n  partial: true\n};\n\n/** @type {Construct} */\nconst indentConstruct = {\n  tokenize: tokenizeIndent,\n  partial: true\n};\n\n// To do: `markdown-rs` parses list items on their own and later stitches them\n// together.\n\n/**\n * @type {Tokenizer}\n * @this {TokenizeContext}\n */\nfunction tokenizeListStart(effects, ok, nok) {\n  const self = this;\n  const tail = self.events[self.events.length - 1];\n  let initialSize = tail && tail[1].type === 'linePrefix' ? tail[2].sliceSerialize(tail[1], true).length : 0;\n  let size = 0;\n  return start;\n\n  /** @type {State} */\n  function start(code) {\n    const kind = self.containerState.type || (code === 42 || code === 43 || code === 45 ? 'listUnordered' : 'listOrdered');\n    if (kind === 'listUnordered' ? !self.containerState.marker || code === self.containerState.marker : asciiDigit(code)) {\n      if (!self.containerState.type) {\n        self.containerState.type = kind;\n        effects.enter(kind, {\n          _container: true\n        });\n      }\n      if (kind === 'listUnordered') {\n        effects.enter('listItemPrefix');\n        return code === 42 || code === 45 ? effects.check(thematicBreak, nok, atMarker)(code) : atMarker(code);\n      }\n      if (!self.interrupt || code === 49) {\n        effects.enter('listItemPrefix');\n        effects.enter('listItemValue');\n        return inside(code);\n      }\n    }\n    return nok(code);\n  }\n\n  /** @type {State} */\n  function inside(code) {\n    if (asciiDigit(code) && ++size < 10) {\n      effects.consume(code);\n      return inside;\n    }\n    if ((!self.interrupt || size < 2) && (self.containerState.marker ? code === self.containerState.marker : code === 41 || code === 46)) {\n      effects.exit('listItemValue');\n      return atMarker(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * @type {State}\n   **/\n  function atMarker(code) {\n    effects.enter('listItemMarker');\n    effects.consume(code);\n    effects.exit('listItemMarker');\n    self.containerState.marker = self.containerState.marker || code;\n    return effects.check(blankLine,\n    // Can’t be empty when interrupting.\n    self.interrupt ? nok : onBlank, effects.attempt(listItemPrefixWhitespaceConstruct, endOfPrefix, otherPrefix));\n  }\n\n  /** @type {State} */\n  function onBlank(code) {\n    self.containerState.initialBlankLine = true;\n    initialSize++;\n    return endOfPrefix(code);\n  }\n\n  /** @type {State} */\n  function otherPrefix(code) {\n    if (markdownSpace(code)) {\n      effects.enter('listItemPrefixWhitespace');\n      effects.consume(code);\n      effects.exit('listItemPrefixWhitespace');\n      return endOfPrefix;\n    }\n    return nok(code);\n  }\n\n  /** @type {State} */\n  function endOfPrefix(code) {\n    self.containerState.size = initialSize + self.sliceSerialize(effects.exit('listItemPrefix'), true).length;\n    return ok(code);\n  }\n}\n\n/**\n * @type {Tokenizer}\n * @this {TokenizeContext}\n */\nfunction tokenizeListContinuation(effects, ok, nok) {\n  const self = this;\n  self.containerState._closeFlow = undefined;\n  return effects.check(blankLine, onBlank, notBlank);\n\n  /** @type {State} */\n  function onBlank(code) {\n    self.containerState.furtherBlankLines = self.containerState.furtherBlankLines || self.containerState.initialBlankLine;\n\n    // We have a blank line.\n    // Still, try to consume at most the items size.\n    return factorySpace(effects, ok, 'listItemIndent', self.containerState.size + 1)(code);\n  }\n\n  /** @type {State} */\n  function notBlank(code) {\n    if (self.containerState.furtherBlankLines || !markdownSpace(code)) {\n      self.containerState.furtherBlankLines = undefined;\n      self.containerState.initialBlankLine = undefined;\n      return notInCurrentItem(code);\n    }\n    self.containerState.furtherBlankLines = undefined;\n    self.containerState.initialBlankLine = undefined;\n    return effects.attempt(indentConstruct, ok, notInCurrentItem)(code);\n  }\n\n  /** @type {State} */\n  function notInCurrentItem(code) {\n    // While we do continue, we signal that the flow should be closed.\n    self.containerState._closeFlow = true;\n    // As we’re closing flow, we’re no longer interrupting.\n    self.interrupt = undefined;\n    // Always populated by defaults.\n\n    return factorySpace(effects, effects.attempt(list, ok, nok), 'linePrefix', self.parser.constructs.disable.null.includes('codeIndented') ? undefined : 4)(code);\n  }\n}\n\n/**\n * @type {Tokenizer}\n * @this {TokenizeContext}\n */\nfunction tokenizeIndent(effects, ok, nok) {\n  const self = this;\n  return factorySpace(effects, afterPrefix, 'listItemIndent', self.containerState.size + 1);\n\n  /** @type {State} */\n  function afterPrefix(code) {\n    const tail = self.events[self.events.length - 1];\n    return tail && tail[1].type === 'listItemIndent' && tail[2].sliceSerialize(tail[1], true).length === self.containerState.size ? ok(code) : nok(code);\n  }\n}\n\n/**\n * @type {Exiter}\n * @this {TokenizeContext}\n */\nfunction tokenizeListEnd(effects) {\n  effects.exit(this.containerState.type);\n}\n\n/**\n * @type {Tokenizer}\n * @this {TokenizeContext}\n */\nfunction tokenizeListItemPrefixWhitespace(effects, ok, nok) {\n  const self = this;\n\n  // Always populated by defaults.\n\n  return factorySpace(effects, afterPrefix, 'listItemPrefixWhitespace', self.parser.constructs.disable.null.includes('codeIndented') ? undefined : 4 + 1);\n\n  /** @type {State} */\n  function afterPrefix(code) {\n    const tail = self.events[self.events.length - 1];\n    return !markdownSpace(code) && tail && tail[1].type === 'listItemPrefixWhitespace' ? ok(code) : nok(code);\n  }\n}","/**\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').Exiter} Exiter\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nexport const blockQuote = {\n  name: 'blockQuote',\n  tokenize: tokenizeBlockQuoteStart,\n  continuation: {\n    tokenize: tokenizeBlockQuoteContinuation\n  },\n  exit\n};\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeBlockQuoteStart(effects, ok, nok) {\n  const self = this;\n  return start;\n\n  /**\n   * Start of block quote.\n   *\n   * ```markdown\n   * > | > a\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    if (code === 62) {\n      const state = self.containerState;\n      if (!state.open) {\n        effects.enter('blockQuote', {\n          _container: true\n        });\n        state.open = true;\n      }\n      effects.enter('blockQuotePrefix');\n      effects.enter('blockQuoteMarker');\n      effects.consume(code);\n      effects.exit('blockQuoteMarker');\n      return after;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `>`, before optional whitespace.\n   *\n   * ```markdown\n   * > | > a\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    if (markdownSpace(code)) {\n      effects.enter('blockQuotePrefixWhitespace');\n      effects.consume(code);\n      effects.exit('blockQuotePrefixWhitespace');\n      effects.exit('blockQuotePrefix');\n      return ok;\n    }\n    effects.exit('blockQuotePrefix');\n    return ok(code);\n  }\n}\n\n/**\n * Start of block quote continuation.\n *\n * ```markdown\n *   | > a\n * > | > b\n *     ^\n * ```\n *\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeBlockQuoteContinuation(effects, ok, nok) {\n  const self = this;\n  return contStart;\n\n  /**\n   * Start of block quote continuation.\n   *\n   * Also used to parse the first block quote opening.\n   *\n   * ```markdown\n   *   | > a\n   * > | > b\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function contStart(code) {\n    if (markdownSpace(code)) {\n      // Always populated by defaults.\n\n      return factorySpace(effects, contBefore, 'linePrefix', self.parser.constructs.disable.null.includes('codeIndented') ? undefined : 4)(code);\n    }\n    return contBefore(code);\n  }\n\n  /**\n   * At `>`, after optional whitespace.\n   *\n   * Also used to parse the first block quote opening.\n   *\n   * ```markdown\n   *   | > a\n   * > | > b\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function contBefore(code) {\n    return effects.attempt(blockQuote, ok, nok)(code);\n  }\n}\n\n/** @type {Exiter} */\nfunction exit(effects) {\n  effects.exit('blockQuote');\n}","/**\n * @typedef {import('micromark-util-types').Effects} Effects\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenType} TokenType\n */\n\nimport { asciiControl, markdownLineEndingOrSpace, markdownLineEnding } from 'micromark-util-character';\n/**\n * Parse destinations.\n *\n * ###### Examples\n *\n * ```markdown\n * <a>\n * <a\\>b>\n * <a b>\n * <a)>\n * a\n * a\\)b\n * a(b)c\n * a(b)\n * ```\n *\n * @param {Effects} effects\n *   Context.\n * @param {State} ok\n *   State switched to when successful.\n * @param {State} nok\n *   State switched to when unsuccessful.\n * @param {TokenType} type\n *   Type for whole (`<a>` or `b`).\n * @param {TokenType} literalType\n *   Type when enclosed (`<a>`).\n * @param {TokenType} literalMarkerType\n *   Type for enclosing (`<` and `>`).\n * @param {TokenType} rawType\n *   Type when not enclosed (`b`).\n * @param {TokenType} stringType\n *   Type for the value (`a` or `b`).\n * @param {number | undefined} [max=Infinity]\n *   Depth of nested parens (inclusive).\n * @returns {State}\n *   Start state.\n */ // eslint-disable-next-line max-params\nexport function factoryDestination(effects, ok, nok, type, literalType, literalMarkerType, rawType, stringType, max) {\n  const limit = max || Number.POSITIVE_INFINITY;\n  let balance = 0;\n  return start;\n\n  /**\n   * Start of destination.\n   *\n   * ```markdown\n   * > | <aa>\n   *     ^\n   * > | aa\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    if (code === 60) {\n      effects.enter(type);\n      effects.enter(literalType);\n      effects.enter(literalMarkerType);\n      effects.consume(code);\n      effects.exit(literalMarkerType);\n      return enclosedBefore;\n    }\n\n    // ASCII control, space, closing paren.\n    if (code === null || code === 32 || code === 41 || asciiControl(code)) {\n      return nok(code);\n    }\n    effects.enter(type);\n    effects.enter(rawType);\n    effects.enter(stringType);\n    effects.enter('chunkString', {\n      contentType: 'string'\n    });\n    return raw(code);\n  }\n\n  /**\n   * After `<`, at an enclosed destination.\n   *\n   * ```markdown\n   * > | <aa>\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function enclosedBefore(code) {\n    if (code === 62) {\n      effects.enter(literalMarkerType);\n      effects.consume(code);\n      effects.exit(literalMarkerType);\n      effects.exit(literalType);\n      effects.exit(type);\n      return ok;\n    }\n    effects.enter(stringType);\n    effects.enter('chunkString', {\n      contentType: 'string'\n    });\n    return enclosed(code);\n  }\n\n  /**\n   * In enclosed destination.\n   *\n   * ```markdown\n   * > | <aa>\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function enclosed(code) {\n    if (code === 62) {\n      effects.exit('chunkString');\n      effects.exit(stringType);\n      return enclosedBefore(code);\n    }\n    if (code === null || code === 60 || markdownLineEnding(code)) {\n      return nok(code);\n    }\n    effects.consume(code);\n    return code === 92 ? enclosedEscape : enclosed;\n  }\n\n  /**\n   * After `\\`, at a special character.\n   *\n   * ```markdown\n   * > | <a\\*a>\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function enclosedEscape(code) {\n    if (code === 60 || code === 62 || code === 92) {\n      effects.consume(code);\n      return enclosed;\n    }\n    return enclosed(code);\n  }\n\n  /**\n   * In raw destination.\n   *\n   * ```markdown\n   * > | aa\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function raw(code) {\n    if (!balance && (code === null || code === 41 || markdownLineEndingOrSpace(code))) {\n      effects.exit('chunkString');\n      effects.exit(stringType);\n      effects.exit(rawType);\n      effects.exit(type);\n      return ok(code);\n    }\n    if (balance < limit && code === 40) {\n      effects.consume(code);\n      balance++;\n      return raw;\n    }\n    if (code === 41) {\n      effects.consume(code);\n      balance--;\n      return raw;\n    }\n\n    // ASCII control (but *not* `\\0`) and space and `(`.\n    // Note: in `markdown-rs`, `\\0` exists in codes, in `micromark-js` it\n    // doesn’t.\n    if (code === null || code === 32 || code === 40 || asciiControl(code)) {\n      return nok(code);\n    }\n    effects.consume(code);\n    return code === 92 ? rawEscape : raw;\n  }\n\n  /**\n   * After `\\`, at special character.\n   *\n   * ```markdown\n   * > | a\\*a\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function rawEscape(code) {\n    if (code === 40 || code === 41 || code === 92) {\n      effects.consume(code);\n      return raw;\n    }\n    return raw(code);\n  }\n}","/**\n * @typedef {import('micromark-util-types').Effects} Effects\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').TokenType} TokenType\n */\n\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/**\n * Parse labels.\n *\n * > 👉 **Note**: labels in markdown are capped at 999 characters in the string.\n *\n * ###### Examples\n *\n * ```markdown\n * [a]\n * [a\n * b]\n * [a\\]b]\n * ```\n *\n * @this {TokenizeContext}\n *   Tokenize context.\n * @param {Effects} effects\n *   Context.\n * @param {State} ok\n *   State switched to when successful.\n * @param {State} nok\n *   State switched to when unsuccessful.\n * @param {TokenType} type\n *   Type of the whole label (`[a]`).\n * @param {TokenType} markerType\n *   Type for the markers (`[` and `]`).\n * @param {TokenType} stringType\n *   Type for the identifier (`a`).\n * @returns {State}\n *   Start state.\n */ // eslint-disable-next-line max-params\nexport function factoryLabel(effects, ok, nok, type, markerType, stringType) {\n  const self = this;\n  let size = 0;\n  /** @type {boolean} */\n  let seen;\n  return start;\n\n  /**\n   * Start of label.\n   *\n   * ```markdown\n   * > | [a]\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter(type);\n    effects.enter(markerType);\n    effects.consume(code);\n    effects.exit(markerType);\n    effects.enter(stringType);\n    return atBreak;\n  }\n\n  /**\n   * In label, at something, before something else.\n   *\n   * ```markdown\n   * > | [a]\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function atBreak(code) {\n    if (size > 999 || code === null || code === 91 || code === 93 && !seen ||\n    // To do: remove in the future once we’ve switched from\n    // `micromark-extension-footnote` to `micromark-extension-gfm-footnote`,\n    // which doesn’t need this.\n    // Hidden footnotes hook.\n    /* c8 ignore next 3 */\n    code === 94 && !size && '_hiddenFootnoteSupport' in self.parser.constructs) {\n      return nok(code);\n    }\n    if (code === 93) {\n      effects.exit(stringType);\n      effects.enter(markerType);\n      effects.consume(code);\n      effects.exit(markerType);\n      effects.exit(type);\n      return ok;\n    }\n\n    // To do: indent? Link chunks and EOLs together?\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding');\n      effects.consume(code);\n      effects.exit('lineEnding');\n      return atBreak;\n    }\n    effects.enter('chunkString', {\n      contentType: 'string'\n    });\n    return labelInside(code);\n  }\n\n  /**\n   * In label, in text.\n   *\n   * ```markdown\n   * > | [a]\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function labelInside(code) {\n    if (code === null || code === 91 || code === 93 || markdownLineEnding(code) || size++ > 999) {\n      effects.exit('chunkString');\n      return atBreak(code);\n    }\n    effects.consume(code);\n    if (!seen) seen = !markdownSpace(code);\n    return code === 92 ? labelEscape : labelInside;\n  }\n\n  /**\n   * After `\\`, at a special character.\n   *\n   * ```markdown\n   * > | [a\\*a]\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function labelEscape(code) {\n    if (code === 91 || code === 92 || code === 93) {\n      effects.consume(code);\n      size++;\n      return labelInside;\n    }\n    return labelInside(code);\n  }\n}","/**\n * @typedef {import('micromark-util-types').Code} Code\n * @typedef {import('micromark-util-types').Effects} Effects\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenType} TokenType\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding } from 'micromark-util-character';\n/**\n * Parse titles.\n *\n * ###### Examples\n *\n * ```markdown\n * \"a\"\n * 'b'\n * (c)\n * \"a\n * b\"\n * 'a\n *     b'\n * (a\\)b)\n * ```\n *\n * @param {Effects} effects\n *   Context.\n * @param {State} ok\n *   State switched to when successful.\n * @param {State} nok\n *   State switched to when unsuccessful.\n * @param {TokenType} type\n *   Type of the whole title (`\"a\"`, `'b'`, `(c)`).\n * @param {TokenType} markerType\n *   Type for the markers (`\"`, `'`, `(`, and `)`).\n * @param {TokenType} stringType\n *   Type for the value (`a`).\n * @returns {State}\n *   Start state.\n */ // eslint-disable-next-line max-params\nexport function factoryTitle(effects, ok, nok, type, markerType, stringType) {\n  /** @type {NonNullable<Code>} */\n  let marker;\n  return start;\n\n  /**\n   * Start of title.\n   *\n   * ```markdown\n   * > | \"a\"\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    if (code === 34 || code === 39 || code === 40) {\n      effects.enter(type);\n      effects.enter(markerType);\n      effects.consume(code);\n      effects.exit(markerType);\n      marker = code === 40 ? 41 : code;\n      return begin;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After opening marker.\n   *\n   * This is also used at the closing marker.\n   *\n   * ```markdown\n   * > | \"a\"\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function begin(code) {\n    if (code === marker) {\n      effects.enter(markerType);\n      effects.consume(code);\n      effects.exit(markerType);\n      effects.exit(type);\n      return ok;\n    }\n    effects.enter(stringType);\n    return atBreak(code);\n  }\n\n  /**\n   * At something, before something else.\n   *\n   * ```markdown\n   * > | \"a\"\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function atBreak(code) {\n    if (code === marker) {\n      effects.exit(stringType);\n      return begin(marker);\n    }\n    if (code === null) {\n      return nok(code);\n    }\n\n    // Note: blank lines can’t exist in content.\n    if (markdownLineEnding(code)) {\n      // To do: use `space_or_tab_eol_with_options`, connect.\n      effects.enter('lineEnding');\n      effects.consume(code);\n      effects.exit('lineEnding');\n      return factorySpace(effects, atBreak, 'linePrefix');\n    }\n    effects.enter('chunkString', {\n      contentType: 'string'\n    });\n    return inside(code);\n  }\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function inside(code) {\n    if (code === marker || code === null || markdownLineEnding(code)) {\n      effects.exit('chunkString');\n      return atBreak(code);\n    }\n    effects.consume(code);\n    return code === 92 ? escape : inside;\n  }\n\n  /**\n   * After `\\`, at a special character.\n   *\n   * ```markdown\n   * > | \"a\\*b\"\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function escape(code) {\n    if (code === marker || code === 92) {\n      effects.consume(code);\n      return inside;\n    }\n    return inside(code);\n  }\n}","/**\n * @typedef {import('micromark-util-types').Effects} Effects\n * @typedef {import('micromark-util-types').State} State\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/**\n * Parse spaces and tabs.\n *\n * There is no `nok` parameter:\n *\n * *   line endings or spaces in markdown are often optional, in which case this\n *     factory can be used and `ok` will be switched to whether spaces were found\n *     or not\n * *   one line ending or space can be detected with\n *     `markdownLineEndingOrSpace(code)` right before using `factoryWhitespace`\n *\n * @param {Effects} effects\n *   Context.\n * @param {State} ok\n *   State switched to when successful.\n * @returns\n *   Start state.\n */\nexport function factoryWhitespace(effects, ok) {\n  /** @type {boolean} */\n  let seen;\n  return start;\n\n  /** @type {State} */\n  function start(code) {\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding');\n      effects.consume(code);\n      effects.exit('lineEnding');\n      seen = true;\n      return start;\n    }\n    if (markdownSpace(code)) {\n      return factorySpace(effects, start, seen ? 'linePrefix' : 'lineSuffix')(code);\n    }\n    return ok(code);\n  }\n}","/**\n * Normalize an identifier (as found in references, definitions).\n *\n * Collapses markdown whitespace, trim, and then lower- and uppercase.\n *\n * Some characters are considered “uppercase”, such as U+03F4 (`ϴ`), but if their\n * lowercase counterpart (U+03B8 (`θ`)) is uppercased will result in a different\n * uppercase character (U+0398 (`Θ`)).\n * So, to get a canonical form, we perform both lower- and uppercase.\n *\n * Using uppercase last makes sure keys will never interact with default\n * prototypal values (such as `constructor`): nothing in the prototype of\n * `Object` is uppercase.\n *\n * @param {string} value\n *   Identifier to normalize.\n * @returns {string}\n *   Normalized identifier.\n */\nexport function normalizeIdentifier(value) {\n  return value\n  // Collapse markdown whitespace.\n  .replace(/[\\t\\n\\r ]+/g, ' ')\n  // Trim.\n  .replace(/^ | $/g, '')\n  // Some characters are considered “uppercase”, but if their lowercase\n  // counterpart is uppercased will result in a different uppercase\n  // character.\n  // Hence, to get that form, we perform both lower- and uppercase.\n  // Upper case makes sure keys will not interact with default prototypal\n  // methods: no method is uppercase.\n  .toLowerCase().toUpperCase();\n}","/**\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { factoryDestination } from 'micromark-factory-destination';\nimport { factoryLabel } from 'micromark-factory-label';\nimport { factorySpace } from 'micromark-factory-space';\nimport { factoryTitle } from 'micromark-factory-title';\nimport { factoryWhitespace } from 'micromark-factory-whitespace';\nimport { markdownLineEnding, markdownLineEndingOrSpace, markdownSpace } from 'micromark-util-character';\nimport { normalizeIdentifier } from 'micromark-util-normalize-identifier';\n/** @type {Construct} */\nexport const definition = {\n  name: 'definition',\n  tokenize: tokenizeDefinition\n};\n\n/** @type {Construct} */\nconst titleBefore = {\n  tokenize: tokenizeTitleBefore,\n  partial: true\n};\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeDefinition(effects, ok, nok) {\n  const self = this;\n  /** @type {string} */\n  let identifier;\n  return start;\n\n  /**\n   * At start of a definition.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    // Do not interrupt paragraphs (but do follow definitions).\n    // To do: do `interrupt` the way `markdown-rs` does.\n    // To do: parse whitespace the way `markdown-rs` does.\n    effects.enter('definition');\n    return before(code);\n  }\n\n  /**\n   * After optional whitespace, at `[`.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function before(code) {\n    // To do: parse whitespace the way `markdown-rs` does.\n\n    return factoryLabel.call(self, effects, labelAfter,\n    // Note: we don’t need to reset the way `markdown-rs` does.\n    nok, 'definitionLabel', 'definitionLabelMarker', 'definitionLabelString')(code);\n  }\n\n  /**\n   * After label.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function labelAfter(code) {\n    identifier = normalizeIdentifier(self.sliceSerialize(self.events[self.events.length - 1][1]).slice(1, -1));\n    if (code === 58) {\n      effects.enter('definitionMarker');\n      effects.consume(code);\n      effects.exit('definitionMarker');\n      return markerAfter;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After marker.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function markerAfter(code) {\n    // Note: whitespace is optional.\n    return markdownLineEndingOrSpace(code) ? factoryWhitespace(effects, destinationBefore)(code) : destinationBefore(code);\n  }\n\n  /**\n   * Before destination.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function destinationBefore(code) {\n    return factoryDestination(effects, destinationAfter,\n    // Note: we don’t need to reset the way `markdown-rs` does.\n    nok, 'definitionDestination', 'definitionDestinationLiteral', 'definitionDestinationLiteralMarker', 'definitionDestinationRaw', 'definitionDestinationString')(code);\n  }\n\n  /**\n   * After destination.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function destinationAfter(code) {\n    return effects.attempt(titleBefore, after, after)(code);\n  }\n\n  /**\n   * After definition.\n   *\n   * ```markdown\n   * > | [a]: b\n   *           ^\n   * > | [a]: b \"c\"\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    return markdownSpace(code) ? factorySpace(effects, afterWhitespace, 'whitespace')(code) : afterWhitespace(code);\n  }\n\n  /**\n   * After definition, after optional whitespace.\n   *\n   * ```markdown\n   * > | [a]: b\n   *           ^\n   * > | [a]: b \"c\"\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function afterWhitespace(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('definition');\n\n      // Note: we don’t care about uniqueness.\n      // It’s likely that that doesn’t happen very frequently.\n      // It is more likely that it wastes precious time.\n      self.parser.defined.push(identifier);\n\n      // To do: `markdown-rs` interrupt.\n      // // You’d be interrupting.\n      // tokenizer.interrupt = true\n      return ok(code);\n    }\n    return nok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeTitleBefore(effects, ok, nok) {\n  return titleBefore;\n\n  /**\n   * After destination, at whitespace.\n   *\n   * ```markdown\n   * > | [a]: b\n   *           ^\n   * > | [a]: b \"c\"\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function titleBefore(code) {\n    return markdownLineEndingOrSpace(code) ? factoryWhitespace(effects, beforeMarker)(code) : nok(code);\n  }\n\n  /**\n   * At title.\n   *\n   * ```markdown\n   *   | [a]: b\n   * > | \"c\"\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function beforeMarker(code) {\n    return factoryTitle(effects, titleAfter, nok, 'definitionTitle', 'definitionTitleMarker', 'definitionTitleString')(code);\n  }\n\n  /**\n   * After title.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function titleAfter(code) {\n    return markdownSpace(code) ? factorySpace(effects, titleAfterOptionalWhitespace, 'whitespace')(code) : titleAfterOptionalWhitespace(code);\n  }\n\n  /**\n   * After title, after optional whitespace.\n   *\n   * ```markdown\n   * > | [a]: b \"c\"\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function titleAfterOptionalWhitespace(code) {\n    return code === null || markdownLineEnding(code) ? ok(code) : nok(code);\n  }\n}","/**\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nexport const codeIndented = {\n  name: 'codeIndented',\n  tokenize: tokenizeCodeIndented\n};\n\n/** @type {Construct} */\nconst furtherStart = {\n  tokenize: tokenizeFurtherStart,\n  partial: true\n};\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeCodeIndented(effects, ok, nok) {\n  const self = this;\n  return start;\n\n  /**\n   * Start of code (indented).\n   *\n   * > **Parsing note**: it is not needed to check if this first line is a\n   * > filled line (that it has a non-whitespace character), because blank lines\n   * > are parsed already, so we never run into that.\n   *\n   * ```markdown\n   * > |     aaa\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    // To do: manually check if interrupting like `markdown-rs`.\n\n    effects.enter('codeIndented');\n    // To do: use an improved `space_or_tab` function like `markdown-rs`,\n    // so that we can drop the next state.\n    return factorySpace(effects, afterPrefix, 'linePrefix', 4 + 1)(code);\n  }\n\n  /**\n   * At start, after 1 or 4 spaces.\n   *\n   * ```markdown\n   * > |     aaa\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function afterPrefix(code) {\n    const tail = self.events[self.events.length - 1];\n    return tail && tail[1].type === 'linePrefix' && tail[2].sliceSerialize(tail[1], true).length >= 4 ? atBreak(code) : nok(code);\n  }\n\n  /**\n   * At a break.\n   *\n   * ```markdown\n   * > |     aaa\n   *         ^  ^\n   * ```\n   *\n   * @type {State}\n   */\n  function atBreak(code) {\n    if (code === null) {\n      return after(code);\n    }\n    if (markdownLineEnding(code)) {\n      return effects.attempt(furtherStart, atBreak, after)(code);\n    }\n    effects.enter('codeFlowValue');\n    return inside(code);\n  }\n\n  /**\n   * In code content.\n   *\n   * ```markdown\n   * > |     aaa\n   *         ^^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function inside(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('codeFlowValue');\n      return atBreak(code);\n    }\n    effects.consume(code);\n    return inside;\n  }\n\n  /** @type {State} */\n  function after(code) {\n    effects.exit('codeIndented');\n    // To do: allow interrupting like `markdown-rs`.\n    // Feel free to interrupt.\n    // tokenizer.interrupt = false\n    return ok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeFurtherStart(effects, ok, nok) {\n  const self = this;\n  return furtherStart;\n\n  /**\n   * At eol, trying to parse another indent.\n   *\n   * ```markdown\n   * > |     aaa\n   *            ^\n   *   |     bbb\n   * ```\n   *\n   * @type {State}\n   */\n  function furtherStart(code) {\n    // To do: improve `lazy` / `pierce` handling.\n    // If this is a lazy line, it can’t be code.\n    if (self.parser.lazy[self.now().line]) {\n      return nok(code);\n    }\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding');\n      effects.consume(code);\n      effects.exit('lineEnding');\n      return furtherStart;\n    }\n\n    // To do: the code here in `micromark-js` is a bit different from\n    // `markdown-rs` because there it can attempt spaces.\n    // We can’t yet.\n    //\n    // To do: use an improved `space_or_tab` function like `markdown-rs`,\n    // so that we can drop the next state.\n    return factorySpace(effects, afterPrefix, 'linePrefix', 4 + 1)(code);\n  }\n\n  /**\n   * At start, after 1 or 4 spaces.\n   *\n   * ```markdown\n   * > |     aaa\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function afterPrefix(code) {\n    const tail = self.events[self.events.length - 1];\n    return tail && tail[1].type === 'linePrefix' && tail[2].sliceSerialize(tail[1], true).length >= 4 ? ok(code) : markdownLineEnding(code) ? furtherStart(code) : nok(code);\n  }\n}","/**\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').Resolver} Resolver\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').Token} Token\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownLineEndingOrSpace, markdownSpace } from 'micromark-util-character';\nimport { splice } from 'micromark-util-chunked';\n/** @type {Construct} */\nexport const headingAtx = {\n  name: 'headingAtx',\n  tokenize: tokenizeHeadingAtx,\n  resolve: resolveHeadingAtx\n};\n\n/** @type {Resolver} */\nfunction resolveHeadingAtx(events, context) {\n  let contentEnd = events.length - 2;\n  let contentStart = 3;\n  /** @type {Token} */\n  let content;\n  /** @type {Token} */\n  let text;\n\n  // Prefix whitespace, part of the opening.\n  if (events[contentStart][1].type === 'whitespace') {\n    contentStart += 2;\n  }\n\n  // Suffix whitespace, part of the closing.\n  if (contentEnd - 2 > contentStart && events[contentEnd][1].type === 'whitespace') {\n    contentEnd -= 2;\n  }\n  if (events[contentEnd][1].type === 'atxHeadingSequence' && (contentStart === contentEnd - 1 || contentEnd - 4 > contentStart && events[contentEnd - 2][1].type === 'whitespace')) {\n    contentEnd -= contentStart + 1 === contentEnd ? 2 : 4;\n  }\n  if (contentEnd > contentStart) {\n    content = {\n      type: 'atxHeadingText',\n      start: events[contentStart][1].start,\n      end: events[contentEnd][1].end\n    };\n    text = {\n      type: 'chunkText',\n      start: events[contentStart][1].start,\n      end: events[contentEnd][1].end,\n      contentType: 'text'\n    };\n    splice(events, contentStart, contentEnd - contentStart + 1, [['enter', content, context], ['enter', text, context], ['exit', text, context], ['exit', content, context]]);\n  }\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeHeadingAtx(effects, ok, nok) {\n  let size = 0;\n  return start;\n\n  /**\n   * Start of a heading (atx).\n   *\n   * ```markdown\n   * > | ## aa\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    // To do: parse indent like `markdown-rs`.\n    effects.enter('atxHeading');\n    return before(code);\n  }\n\n  /**\n   * After optional whitespace, at `#`.\n   *\n   * ```markdown\n   * > | ## aa\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function before(code) {\n    effects.enter('atxHeadingSequence');\n    return sequenceOpen(code);\n  }\n\n  /**\n   * In opening sequence.\n   *\n   * ```markdown\n   * > | ## aa\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function sequenceOpen(code) {\n    if (code === 35 && size++ < 6) {\n      effects.consume(code);\n      return sequenceOpen;\n    }\n\n    // Always at least one `#`.\n    if (code === null || markdownLineEndingOrSpace(code)) {\n      effects.exit('atxHeadingSequence');\n      return atBreak(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * After something, before something else.\n   *\n   * ```markdown\n   * > | ## aa\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function atBreak(code) {\n    if (code === 35) {\n      effects.enter('atxHeadingSequence');\n      return sequenceFurther(code);\n    }\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('atxHeading');\n      // To do: interrupt like `markdown-rs`.\n      // // Feel free to interrupt.\n      // tokenizer.interrupt = false\n      return ok(code);\n    }\n    if (markdownSpace(code)) {\n      return factorySpace(effects, atBreak, 'whitespace')(code);\n    }\n\n    // To do: generate `data` tokens, add the `text` token later.\n    // Needs edit map, see: `markdown.rs`.\n    effects.enter('atxHeadingText');\n    return data(code);\n  }\n\n  /**\n   * In further sequence (after whitespace).\n   *\n   * Could be normal “visible” hashes in the heading or a final sequence.\n   *\n   * ```markdown\n   * > | ## aa ##\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function sequenceFurther(code) {\n    if (code === 35) {\n      effects.consume(code);\n      return sequenceFurther;\n    }\n    effects.exit('atxHeadingSequence');\n    return atBreak(code);\n  }\n\n  /**\n   * In text.\n   *\n   * ```markdown\n   * > | ## aa\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function data(code) {\n    if (code === null || code === 35 || markdownLineEndingOrSpace(code)) {\n      effects.exit('atxHeadingText');\n      return atBreak(code);\n    }\n    effects.consume(code);\n    return data;\n  }\n}","/**\n * @typedef {import('micromark-util-types').Code} Code\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').Resolver} Resolver\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nexport const setextUnderline = {\n  name: 'setextUnderline',\n  tokenize: tokenizeSetextUnderline,\n  resolveTo: resolveToSetextUnderline\n};\n\n/** @type {Resolver} */\nfunction resolveToSetextUnderline(events, context) {\n  // To do: resolve like `markdown-rs`.\n  let index = events.length;\n  /** @type {number | undefined} */\n  let content;\n  /** @type {number | undefined} */\n  let text;\n  /** @type {number | undefined} */\n  let definition;\n\n  // Find the opening of the content.\n  // It’ll always exist: we don’t tokenize if it isn’t there.\n  while (index--) {\n    if (events[index][0] === 'enter') {\n      if (events[index][1].type === 'content') {\n        content = index;\n        break;\n      }\n      if (events[index][1].type === 'paragraph') {\n        text = index;\n      }\n    }\n    // Exit\n    else {\n      if (events[index][1].type === 'content') {\n        // Remove the content end (if needed we’ll add it later)\n        events.splice(index, 1);\n      }\n      if (!definition && events[index][1].type === 'definition') {\n        definition = index;\n      }\n    }\n  }\n  const heading = {\n    type: 'setextHeading',\n    start: Object.assign({}, events[text][1].start),\n    end: Object.assign({}, events[events.length - 1][1].end)\n  };\n\n  // Change the paragraph to setext heading text.\n  events[text][1].type = 'setextHeadingText';\n\n  // If we have definitions in the content, we’ll keep on having content,\n  // but we need move it.\n  if (definition) {\n    events.splice(text, 0, ['enter', heading, context]);\n    events.splice(definition + 1, 0, ['exit', events[content][1], context]);\n    events[content][1].end = Object.assign({}, events[definition][1].end);\n  } else {\n    events[content][1] = heading;\n  }\n\n  // Add the heading exit at the end.\n  events.push(['exit', heading, context]);\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeSetextUnderline(effects, ok, nok) {\n  const self = this;\n  /** @type {NonNullable<Code>} */\n  let marker;\n  return start;\n\n  /**\n   * At start of heading (setext) underline.\n   *\n   * ```markdown\n   *   | aa\n   * > | ==\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    let index = self.events.length;\n    /** @type {boolean | undefined} */\n    let paragraph;\n    // Find an opening.\n    while (index--) {\n      // Skip enter/exit of line ending, line prefix, and content.\n      // We can now either have a definition or a paragraph.\n      if (self.events[index][1].type !== 'lineEnding' && self.events[index][1].type !== 'linePrefix' && self.events[index][1].type !== 'content') {\n        paragraph = self.events[index][1].type === 'paragraph';\n        break;\n      }\n    }\n\n    // To do: handle lazy/pierce like `markdown-rs`.\n    // To do: parse indent like `markdown-rs`.\n    if (!self.parser.lazy[self.now().line] && (self.interrupt || paragraph)) {\n      effects.enter('setextHeadingLine');\n      marker = code;\n      return before(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * After optional whitespace, at `-` or `=`.\n   *\n   * ```markdown\n   *   | aa\n   * > | ==\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function before(code) {\n    effects.enter('setextHeadingLineSequence');\n    return inside(code);\n  }\n\n  /**\n   * In sequence.\n   *\n   * ```markdown\n   *   | aa\n   * > | ==\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function inside(code) {\n    if (code === marker) {\n      effects.consume(code);\n      return inside;\n    }\n    effects.exit('setextHeadingLineSequence');\n    return markdownSpace(code) ? factorySpace(effects, after, 'lineSuffix')(code) : after(code);\n  }\n\n  /**\n   * After sequence, after optional whitespace.\n   *\n   * ```markdown\n   *   | aa\n   * > | ==\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('setextHeadingLine');\n      return ok(code);\n    }\n    return nok(code);\n  }\n}","/**\n * List of lowercase HTML “block” tag names.\n *\n * The list, when parsing HTML (flow), results in more relaxed rules (condition\n * 6).\n * Because they are known blocks, the HTML-like syntax doesn’t have to be\n * strictly parsed.\n * For tag names not in this list, a more strict algorithm (condition 7) is used\n * to detect whether the HTML-like syntax is seen as HTML (flow) or not.\n *\n * This is copied from:\n * <https://spec.commonmark.org/0.30/#html-blocks>.\n *\n * > 👉 **Note**: `search` was added in `CommonMark@0.31`.\n */\nexport const htmlBlockNames = ['address', 'article', 'aside', 'base', 'basefont', 'blockquote', 'body', 'caption', 'center', 'col', 'colgroup', 'dd', 'details', 'dialog', 'dir', 'div', 'dl', 'dt', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'frame', 'frameset', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hr', 'html', 'iframe', 'legend', 'li', 'link', 'main', 'menu', 'menuitem', 'nav', 'noframes', 'ol', 'optgroup', 'option', 'p', 'param', 'search', 'section', 'summary', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'title', 'tr', 'track', 'ul'];\n\n/**\n * List of lowercase HTML “raw” tag names.\n *\n * The list, when parsing HTML (flow), results in HTML that can include lines\n * without exiting, until a closing tag also in this list is found (condition\n * 1).\n *\n * This module is copied from:\n * <https://spec.commonmark.org/0.30/#html-blocks>.\n *\n * > 👉 **Note**: `textarea` was added in `CommonMark@0.30`.\n */\nexport const htmlRawNames = ['pre', 'script', 'style', 'textarea'];","/**\n * @typedef {import('micromark-util-types').Code} Code\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').Resolver} Resolver\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { asciiAlpha, asciiAlphanumeric, markdownLineEnding, markdownLineEndingOrSpace, markdownSpace } from 'micromark-util-character';\nimport { htmlBlockNames, htmlRawNames } from 'micromark-util-html-tag-name';\nimport { blankLine } from './blank-line.js';\n\n/** @type {Construct} */\nexport const htmlFlow = {\n  name: 'htmlFlow',\n  tokenize: tokenizeHtmlFlow,\n  resolveTo: resolveToHtmlFlow,\n  concrete: true\n};\n\n/** @type {Construct} */\nconst blankLineBefore = {\n  tokenize: tokenizeBlankLineBefore,\n  partial: true\n};\nconst nonLazyContinuationStart = {\n  tokenize: tokenizeNonLazyContinuationStart,\n  partial: true\n};\n\n/** @type {Resolver} */\nfunction resolveToHtmlFlow(events) {\n  let index = events.length;\n  while (index--) {\n    if (events[index][0] === 'enter' && events[index][1].type === 'htmlFlow') {\n      break;\n    }\n  }\n  if (index > 1 && events[index - 2][1].type === 'linePrefix') {\n    // Add the prefix start to the HTML token.\n    events[index][1].start = events[index - 2][1].start;\n    // Add the prefix start to the HTML line token.\n    events[index + 1][1].start = events[index - 2][1].start;\n    // Remove the line prefix.\n    events.splice(index - 2, 2);\n  }\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeHtmlFlow(effects, ok, nok) {\n  const self = this;\n  /** @type {number} */\n  let marker;\n  /** @type {boolean} */\n  let closingTag;\n  /** @type {string} */\n  let buffer;\n  /** @type {number} */\n  let index;\n  /** @type {Code} */\n  let markerB;\n  return start;\n\n  /**\n   * Start of HTML (flow).\n   *\n   * ```markdown\n   * > | <x />\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    // To do: parse indent like `markdown-rs`.\n    return before(code);\n  }\n\n  /**\n   * At `<`, after optional whitespace.\n   *\n   * ```markdown\n   * > | <x />\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function before(code) {\n    effects.enter('htmlFlow');\n    effects.enter('htmlFlowData');\n    effects.consume(code);\n    return open;\n  }\n\n  /**\n   * After `<`, at tag name or other stuff.\n   *\n   * ```markdown\n   * > | <x />\n   *      ^\n   * > | <!doctype>\n   *      ^\n   * > | <!--xxx-->\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function open(code) {\n    if (code === 33) {\n      effects.consume(code);\n      return declarationOpen;\n    }\n    if (code === 47) {\n      effects.consume(code);\n      closingTag = true;\n      return tagCloseStart;\n    }\n    if (code === 63) {\n      effects.consume(code);\n      marker = 3;\n      // To do:\n      // tokenizer.concrete = true\n      // To do: use `markdown-rs` style interrupt.\n      // While we’re in an instruction instead of a declaration, we’re on a `?`\n      // right now, so we do need to search for `>`, similar to declarations.\n      return self.interrupt ? ok : continuationDeclarationInside;\n    }\n\n    // ASCII alphabetical.\n    if (asciiAlpha(code)) {\n      effects.consume(code);\n      // @ts-expect-error: not null.\n      buffer = String.fromCharCode(code);\n      return tagName;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `<!`, at declaration, comment, or CDATA.\n   *\n   * ```markdown\n   * > | <!doctype>\n   *       ^\n   * > | <!--xxx-->\n   *       ^\n   * > | <![CDATA[>&<]]>\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function declarationOpen(code) {\n    if (code === 45) {\n      effects.consume(code);\n      marker = 2;\n      return commentOpenInside;\n    }\n    if (code === 91) {\n      effects.consume(code);\n      marker = 5;\n      index = 0;\n      return cdataOpenInside;\n    }\n\n    // ASCII alphabetical.\n    if (asciiAlpha(code)) {\n      effects.consume(code);\n      marker = 4;\n      // // Do not form containers.\n      // tokenizer.concrete = true\n      return self.interrupt ? ok : continuationDeclarationInside;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `<!-`, inside a comment, at another `-`.\n   *\n   * ```markdown\n   * > | <!--xxx-->\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function commentOpenInside(code) {\n    if (code === 45) {\n      effects.consume(code);\n      // // Do not form containers.\n      // tokenizer.concrete = true\n      return self.interrupt ? ok : continuationDeclarationInside;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `<![`, inside CDATA, expecting `CDATA[`.\n   *\n   * ```markdown\n   * > | <![CDATA[>&<]]>\n   *        ^^^^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function cdataOpenInside(code) {\n    const value = 'CDATA[';\n    if (code === value.charCodeAt(index++)) {\n      effects.consume(code);\n      if (index === value.length) {\n        // // Do not form containers.\n        // tokenizer.concrete = true\n        return self.interrupt ? ok : continuation;\n      }\n      return cdataOpenInside;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `</`, in closing tag, at tag name.\n   *\n   * ```markdown\n   * > | </x>\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagCloseStart(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code);\n      // @ts-expect-error: not null.\n      buffer = String.fromCharCode(code);\n      return tagName;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In tag name.\n   *\n   * ```markdown\n   * > | <ab>\n   *      ^^\n   * > | </ab>\n   *       ^^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagName(code) {\n    if (code === null || code === 47 || code === 62 || markdownLineEndingOrSpace(code)) {\n      const slash = code === 47;\n      const name = buffer.toLowerCase();\n      if (!slash && !closingTag && htmlRawNames.includes(name)) {\n        marker = 1;\n        // // Do not form containers.\n        // tokenizer.concrete = true\n        return self.interrupt ? ok(code) : continuation(code);\n      }\n      if (htmlBlockNames.includes(buffer.toLowerCase())) {\n        marker = 6;\n        if (slash) {\n          effects.consume(code);\n          return basicSelfClosing;\n        }\n\n        // // Do not form containers.\n        // tokenizer.concrete = true\n        return self.interrupt ? ok(code) : continuation(code);\n      }\n      marker = 7;\n      // Do not support complete HTML when interrupting.\n      return self.interrupt && !self.parser.lazy[self.now().line] ? nok(code) : closingTag ? completeClosingTagAfter(code) : completeAttributeNameBefore(code);\n    }\n\n    // ASCII alphanumerical and `-`.\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code);\n      buffer += String.fromCharCode(code);\n      return tagName;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After closing slash of a basic tag name.\n   *\n   * ```markdown\n   * > | <div/>\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function basicSelfClosing(code) {\n    if (code === 62) {\n      effects.consume(code);\n      // // Do not form containers.\n      // tokenizer.concrete = true\n      return self.interrupt ? ok : continuation;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After closing slash of a complete tag name.\n   *\n   * ```markdown\n   * > | <x/>\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeClosingTagAfter(code) {\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return completeClosingTagAfter;\n    }\n    return completeEnd(code);\n  }\n\n  /**\n   * At an attribute name.\n   *\n   * At first, this state is used after a complete tag name, after whitespace,\n   * where it expects optional attributes or the end of the tag.\n   * It is also reused after attributes, when expecting more optional\n   * attributes.\n   *\n   * ```markdown\n   * > | <a />\n   *        ^\n   * > | <a :b>\n   *        ^\n   * > | <a _b>\n   *        ^\n   * > | <a b>\n   *        ^\n   * > | <a >\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeNameBefore(code) {\n    if (code === 47) {\n      effects.consume(code);\n      return completeEnd;\n    }\n\n    // ASCII alphanumerical and `:` and `_`.\n    if (code === 58 || code === 95 || asciiAlpha(code)) {\n      effects.consume(code);\n      return completeAttributeName;\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return completeAttributeNameBefore;\n    }\n    return completeEnd(code);\n  }\n\n  /**\n   * In attribute name.\n   *\n   * ```markdown\n   * > | <a :b>\n   *         ^\n   * > | <a _b>\n   *         ^\n   * > | <a b>\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeName(code) {\n    // ASCII alphanumerical and `-`, `.`, `:`, and `_`.\n    if (code === 45 || code === 46 || code === 58 || code === 95 || asciiAlphanumeric(code)) {\n      effects.consume(code);\n      return completeAttributeName;\n    }\n    return completeAttributeNameAfter(code);\n  }\n\n  /**\n   * After attribute name, at an optional initializer, the end of the tag, or\n   * whitespace.\n   *\n   * ```markdown\n   * > | <a b>\n   *         ^\n   * > | <a b=c>\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeNameAfter(code) {\n    if (code === 61) {\n      effects.consume(code);\n      return completeAttributeValueBefore;\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return completeAttributeNameAfter;\n    }\n    return completeAttributeNameBefore(code);\n  }\n\n  /**\n   * Before unquoted, double quoted, or single quoted attribute value, allowing\n   * whitespace.\n   *\n   * ```markdown\n   * > | <a b=c>\n   *          ^\n   * > | <a b=\"c\">\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeValueBefore(code) {\n    if (code === null || code === 60 || code === 61 || code === 62 || code === 96) {\n      return nok(code);\n    }\n    if (code === 34 || code === 39) {\n      effects.consume(code);\n      markerB = code;\n      return completeAttributeValueQuoted;\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return completeAttributeValueBefore;\n    }\n    return completeAttributeValueUnquoted(code);\n  }\n\n  /**\n   * In double or single quoted attribute value.\n   *\n   * ```markdown\n   * > | <a b=\"c\">\n   *           ^\n   * > | <a b='c'>\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeValueQuoted(code) {\n    if (code === markerB) {\n      effects.consume(code);\n      markerB = null;\n      return completeAttributeValueQuotedAfter;\n    }\n    if (code === null || markdownLineEnding(code)) {\n      return nok(code);\n    }\n    effects.consume(code);\n    return completeAttributeValueQuoted;\n  }\n\n  /**\n   * In unquoted attribute value.\n   *\n   * ```markdown\n   * > | <a b=c>\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeValueUnquoted(code) {\n    if (code === null || code === 34 || code === 39 || code === 47 || code === 60 || code === 61 || code === 62 || code === 96 || markdownLineEndingOrSpace(code)) {\n      return completeAttributeNameAfter(code);\n    }\n    effects.consume(code);\n    return completeAttributeValueUnquoted;\n  }\n\n  /**\n   * After double or single quoted attribute value, before whitespace or the\n   * end of the tag.\n   *\n   * ```markdown\n   * > | <a b=\"c\">\n   *            ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAttributeValueQuotedAfter(code) {\n    if (code === 47 || code === 62 || markdownSpace(code)) {\n      return completeAttributeNameBefore(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * In certain circumstances of a complete tag where only an `>` is allowed.\n   *\n   * ```markdown\n   * > | <a b=\"c\">\n   *             ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeEnd(code) {\n    if (code === 62) {\n      effects.consume(code);\n      return completeAfter;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `>` in a complete tag.\n   *\n   * ```markdown\n   * > | <x>\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function completeAfter(code) {\n    if (code === null || markdownLineEnding(code)) {\n      // // Do not form containers.\n      // tokenizer.concrete = true\n      return continuation(code);\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return completeAfter;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In continuation of any HTML kind.\n   *\n   * ```markdown\n   * > | <!--xxx-->\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuation(code) {\n    if (code === 45 && marker === 2) {\n      effects.consume(code);\n      return continuationCommentInside;\n    }\n    if (code === 60 && marker === 1) {\n      effects.consume(code);\n      return continuationRawTagOpen;\n    }\n    if (code === 62 && marker === 4) {\n      effects.consume(code);\n      return continuationClose;\n    }\n    if (code === 63 && marker === 3) {\n      effects.consume(code);\n      return continuationDeclarationInside;\n    }\n    if (code === 93 && marker === 5) {\n      effects.consume(code);\n      return continuationCdataInside;\n    }\n    if (markdownLineEnding(code) && (marker === 6 || marker === 7)) {\n      effects.exit('htmlFlowData');\n      return effects.check(blankLineBefore, continuationAfter, continuationStart)(code);\n    }\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('htmlFlowData');\n      return continuationStart(code);\n    }\n    effects.consume(code);\n    return continuation;\n  }\n\n  /**\n   * In continuation, at eol.\n   *\n   * ```markdown\n   * > | <x>\n   *        ^\n   *   | asd\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationStart(code) {\n    return effects.check(nonLazyContinuationStart, continuationStartNonLazy, continuationAfter)(code);\n  }\n\n  /**\n   * In continuation, at eol, before non-lazy content.\n   *\n   * ```markdown\n   * > | <x>\n   *        ^\n   *   | asd\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationStartNonLazy(code) {\n    effects.enter('lineEnding');\n    effects.consume(code);\n    effects.exit('lineEnding');\n    return continuationBefore;\n  }\n\n  /**\n   * In continuation, before non-lazy content.\n   *\n   * ```markdown\n   *   | <x>\n   * > | asd\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationBefore(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return continuationStart(code);\n    }\n    effects.enter('htmlFlowData');\n    return continuation(code);\n  }\n\n  /**\n   * In comment continuation, after one `-`, expecting another.\n   *\n   * ```markdown\n   * > | <!--xxx-->\n   *             ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationCommentInside(code) {\n    if (code === 45) {\n      effects.consume(code);\n      return continuationDeclarationInside;\n    }\n    return continuation(code);\n  }\n\n  /**\n   * In raw continuation, after `<`, at `/`.\n   *\n   * ```markdown\n   * > | <script>console.log(1)</script>\n   *                            ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationRawTagOpen(code) {\n    if (code === 47) {\n      effects.consume(code);\n      buffer = '';\n      return continuationRawEndTag;\n    }\n    return continuation(code);\n  }\n\n  /**\n   * In raw continuation, after `</`, in a raw tag name.\n   *\n   * ```markdown\n   * > | <script>console.log(1)</script>\n   *                             ^^^^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationRawEndTag(code) {\n    if (code === 62) {\n      const name = buffer.toLowerCase();\n      if (htmlRawNames.includes(name)) {\n        effects.consume(code);\n        return continuationClose;\n      }\n      return continuation(code);\n    }\n    if (asciiAlpha(code) && buffer.length < 8) {\n      effects.consume(code);\n      // @ts-expect-error: not null.\n      buffer += String.fromCharCode(code);\n      return continuationRawEndTag;\n    }\n    return continuation(code);\n  }\n\n  /**\n   * In cdata continuation, after `]`, expecting `]>`.\n   *\n   * ```markdown\n   * > | <![CDATA[>&<]]>\n   *                  ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationCdataInside(code) {\n    if (code === 93) {\n      effects.consume(code);\n      return continuationDeclarationInside;\n    }\n    return continuation(code);\n  }\n\n  /**\n   * In declaration or instruction continuation, at `>`.\n   *\n   * ```markdown\n   * > | <!-->\n   *         ^\n   * > | <?>\n   *       ^\n   * > | <!q>\n   *        ^\n   * > | <!--ab-->\n   *             ^\n   * > | <![CDATA[>&<]]>\n   *                   ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationDeclarationInside(code) {\n    if (code === 62) {\n      effects.consume(code);\n      return continuationClose;\n    }\n\n    // More dashes.\n    if (code === 45 && marker === 2) {\n      effects.consume(code);\n      return continuationDeclarationInside;\n    }\n    return continuation(code);\n  }\n\n  /**\n   * In closed continuation: everything we get until the eol/eof is part of it.\n   *\n   * ```markdown\n   * > | <!doctype>\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationClose(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('htmlFlowData');\n      return continuationAfter(code);\n    }\n    effects.consume(code);\n    return continuationClose;\n  }\n\n  /**\n   * Done.\n   *\n   * ```markdown\n   * > | <!doctype>\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function continuationAfter(code) {\n    effects.exit('htmlFlow');\n    // // Feel free to interrupt.\n    // tokenizer.interrupt = false\n    // // No longer concrete.\n    // tokenizer.concrete = false\n    return ok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeNonLazyContinuationStart(effects, ok, nok) {\n  const self = this;\n  return start;\n\n  /**\n   * At eol, before continuation.\n   *\n   * ```markdown\n   * > | * ```js\n   *            ^\n   *   | b\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding');\n      effects.consume(code);\n      effects.exit('lineEnding');\n      return after;\n    }\n    return nok(code);\n  }\n\n  /**\n   * A continuation.\n   *\n   * ```markdown\n   *   | * ```js\n   * > | b\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    return self.parser.lazy[self.now().line] ? nok(code) : ok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeBlankLineBefore(effects, ok, nok) {\n  return start;\n\n  /**\n   * Before eol, expecting blank line.\n   *\n   * ```markdown\n   * > | <div>\n   *          ^\n   *   |\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter('lineEnding');\n    effects.consume(code);\n    effects.exit('lineEnding');\n    return effects.attempt(blankLine, ok, nok);\n  }\n}","/**\n * @typedef {import('micromark-util-types').Code} Code\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding, markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nconst nonLazyContinuation = {\n  tokenize: tokenizeNonLazyContinuation,\n  partial: true\n};\n\n/** @type {Construct} */\nexport const codeFenced = {\n  name: 'codeFenced',\n  tokenize: tokenizeCodeFenced,\n  concrete: true\n};\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeCodeFenced(effects, ok, nok) {\n  const self = this;\n  /** @type {Construct} */\n  const closeStart = {\n    tokenize: tokenizeCloseStart,\n    partial: true\n  };\n  let initialPrefix = 0;\n  let sizeOpen = 0;\n  /** @type {NonNullable<Code>} */\n  let marker;\n  return start;\n\n  /**\n   * Start of code.\n   *\n   * ```markdown\n   * > | ~~~js\n   *     ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    // To do: parse whitespace like `markdown-rs`.\n    return beforeSequenceOpen(code);\n  }\n\n  /**\n   * In opening fence, after prefix, at sequence.\n   *\n   * ```markdown\n   * > | ~~~js\n   *     ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function beforeSequenceOpen(code) {\n    const tail = self.events[self.events.length - 1];\n    initialPrefix = tail && tail[1].type === 'linePrefix' ? tail[2].sliceSerialize(tail[1], true).length : 0;\n    marker = code;\n    effects.enter('codeFenced');\n    effects.enter('codeFencedFence');\n    effects.enter('codeFencedFenceSequence');\n    return sequenceOpen(code);\n  }\n\n  /**\n   * In opening fence sequence.\n   *\n   * ```markdown\n   * > | ~~~js\n   *      ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function sequenceOpen(code) {\n    if (code === marker) {\n      sizeOpen++;\n      effects.consume(code);\n      return sequenceOpen;\n    }\n    if (sizeOpen < 3) {\n      return nok(code);\n    }\n    effects.exit('codeFencedFenceSequence');\n    return markdownSpace(code) ? factorySpace(effects, infoBefore, 'whitespace')(code) : infoBefore(code);\n  }\n\n  /**\n   * In opening fence, after the sequence (and optional whitespace), before info.\n   *\n   * ```markdown\n   * > | ~~~js\n   *        ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function infoBefore(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('codeFencedFence');\n      return self.interrupt ? ok(code) : effects.check(nonLazyContinuation, atNonLazyBreak, after)(code);\n    }\n    effects.enter('codeFencedFenceInfo');\n    effects.enter('chunkString', {\n      contentType: 'string'\n    });\n    return info(code);\n  }\n\n  /**\n   * In info.\n   *\n   * ```markdown\n   * > | ~~~js\n   *        ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function info(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('chunkString');\n      effects.exit('codeFencedFenceInfo');\n      return infoBefore(code);\n    }\n    if (markdownSpace(code)) {\n      effects.exit('chunkString');\n      effects.exit('codeFencedFenceInfo');\n      return factorySpace(effects, metaBefore, 'whitespace')(code);\n    }\n    if (code === 96 && code === marker) {\n      return nok(code);\n    }\n    effects.consume(code);\n    return info;\n  }\n\n  /**\n   * In opening fence, after info and whitespace, before meta.\n   *\n   * ```markdown\n   * > | ~~~js eval\n   *           ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function metaBefore(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return infoBefore(code);\n    }\n    effects.enter('codeFencedFenceMeta');\n    effects.enter('chunkString', {\n      contentType: 'string'\n    });\n    return meta(code);\n  }\n\n  /**\n   * In meta.\n   *\n   * ```markdown\n   * > | ~~~js eval\n   *           ^\n   *   | alert(1)\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function meta(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('chunkString');\n      effects.exit('codeFencedFenceMeta');\n      return infoBefore(code);\n    }\n    if (code === 96 && code === marker) {\n      return nok(code);\n    }\n    effects.consume(code);\n    return meta;\n  }\n\n  /**\n   * At eol/eof in code, before a non-lazy closing fence or content.\n   *\n   * ```markdown\n   * > | ~~~js\n   *          ^\n   * > | alert(1)\n   *             ^\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function atNonLazyBreak(code) {\n    return effects.attempt(closeStart, after, contentBefore)(code);\n  }\n\n  /**\n   * Before code content, not a closing fence, at eol.\n   *\n   * ```markdown\n   *   | ~~~js\n   * > | alert(1)\n   *             ^\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function contentBefore(code) {\n    effects.enter('lineEnding');\n    effects.consume(code);\n    effects.exit('lineEnding');\n    return contentStart;\n  }\n\n  /**\n   * Before code content, not a closing fence.\n   *\n   * ```markdown\n   *   | ~~~js\n   * > | alert(1)\n   *     ^\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function contentStart(code) {\n    return initialPrefix > 0 && markdownSpace(code) ? factorySpace(effects, beforeContentChunk, 'linePrefix', initialPrefix + 1)(code) : beforeContentChunk(code);\n  }\n\n  /**\n   * Before code content, after optional prefix.\n   *\n   * ```markdown\n   *   | ~~~js\n   * > | alert(1)\n   *     ^\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function beforeContentChunk(code) {\n    if (code === null || markdownLineEnding(code)) {\n      return effects.check(nonLazyContinuation, atNonLazyBreak, after)(code);\n    }\n    effects.enter('codeFlowValue');\n    return contentChunk(code);\n  }\n\n  /**\n   * In code content.\n   *\n   * ```markdown\n   *   | ~~~js\n   * > | alert(1)\n   *     ^^^^^^^^\n   *   | ~~~\n   * ```\n   *\n   * @type {State}\n   */\n  function contentChunk(code) {\n    if (code === null || markdownLineEnding(code)) {\n      effects.exit('codeFlowValue');\n      return beforeContentChunk(code);\n    }\n    effects.consume(code);\n    return contentChunk;\n  }\n\n  /**\n   * After code.\n   *\n   * ```markdown\n   *   | ~~~js\n   *   | alert(1)\n   * > | ~~~\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    effects.exit('codeFenced');\n    return ok(code);\n  }\n\n  /**\n   * @this {TokenizeContext}\n   * @type {Tokenizer}\n   */\n  function tokenizeCloseStart(effects, ok, nok) {\n    let size = 0;\n    return startBefore;\n\n    /**\n     *\n     *\n     * @type {State}\n     */\n    function startBefore(code) {\n      effects.enter('lineEnding');\n      effects.consume(code);\n      effects.exit('lineEnding');\n      return start;\n    }\n\n    /**\n     * Before closing fence, at optional whitespace.\n     *\n     * ```markdown\n     *   | ~~~js\n     *   | alert(1)\n     * > | ~~~\n     *     ^\n     * ```\n     *\n     * @type {State}\n     */\n    function start(code) {\n      // Always populated by defaults.\n\n      // To do: `enter` here or in next state?\n      effects.enter('codeFencedFence');\n      return markdownSpace(code) ? factorySpace(effects, beforeSequenceClose, 'linePrefix', self.parser.constructs.disable.null.includes('codeIndented') ? undefined : 4)(code) : beforeSequenceClose(code);\n    }\n\n    /**\n     * In closing fence, after optional whitespace, at sequence.\n     *\n     * ```markdown\n     *   | ~~~js\n     *   | alert(1)\n     * > | ~~~\n     *     ^\n     * ```\n     *\n     * @type {State}\n     */\n    function beforeSequenceClose(code) {\n      if (code === marker) {\n        effects.enter('codeFencedFenceSequence');\n        return sequenceClose(code);\n      }\n      return nok(code);\n    }\n\n    /**\n     * In closing fence sequence.\n     *\n     * ```markdown\n     *   | ~~~js\n     *   | alert(1)\n     * > | ~~~\n     *     ^\n     * ```\n     *\n     * @type {State}\n     */\n    function sequenceClose(code) {\n      if (code === marker) {\n        size++;\n        effects.consume(code);\n        return sequenceClose;\n      }\n      if (size >= sizeOpen) {\n        effects.exit('codeFencedFenceSequence');\n        return markdownSpace(code) ? factorySpace(effects, sequenceCloseAfter, 'whitespace')(code) : sequenceCloseAfter(code);\n      }\n      return nok(code);\n    }\n\n    /**\n     * After closing fence sequence, after optional whitespace.\n     *\n     * ```markdown\n     *   | ~~~js\n     *   | alert(1)\n     * > | ~~~\n     *        ^\n     * ```\n     *\n     * @type {State}\n     */\n    function sequenceCloseAfter(code) {\n      if (code === null || markdownLineEnding(code)) {\n        effects.exit('codeFencedFence');\n        return ok(code);\n      }\n      return nok(code);\n    }\n  }\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeNonLazyContinuation(effects, ok, nok) {\n  const self = this;\n  return start;\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function start(code) {\n    if (code === null) {\n      return nok(code);\n    }\n    effects.enter('lineEnding');\n    effects.consume(code);\n    effects.exit('lineEnding');\n    return lineStart;\n  }\n\n  /**\n   *\n   *\n   * @type {State}\n   */\n  function lineStart(code) {\n    return self.parser.lazy[self.now().line] ? nok(code) : ok(code);\n  }\n}","/// <reference lib=\"dom\" />\n\n/* eslint-env browser */\n\nconst element = document.createElement('i');\n\n/**\n * @param {string} value\n * @returns {string|false}\n */\nexport function decodeNamedCharacterReference(value) {\n  const characterReference = '&' + value + ';';\n  element.innerHTML = characterReference;\n  const char = element.textContent;\n\n  // Some named character references do not require the closing semicolon\n  // (`&not`, for instance), which leads to situations where parsing the assumed\n  // named reference of `&notit;` will result in the string `¬it;`.\n  // When we encounter a trailing semicolon after parsing, and the character\n  // reference to decode was not a semicolon (`&semi;`), we can assume that the\n  // matching was not complete.\n  // @ts-expect-error: TypeScript is wrong that `textContent` on elements can\n  // yield `null`.\n  if (char.charCodeAt(char.length - 1) === 59 /* `;` */ && value !== 'semi') {\n    return false;\n  }\n\n  // If the decoded string is equal to the input, the character reference was\n  // not valid.\n  // @ts-expect-error: TypeScript is wrong that `textContent` on elements can\n  // yield `null`.\n  return char === characterReference ? false : char;\n}","/**\n * @typedef {import('micromark-util-types').Code} Code\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { decodeNamedCharacterReference } from 'decode-named-character-reference';\nimport { asciiAlphanumeric, asciiDigit, asciiHexDigit } from 'micromark-util-character';\n/** @type {Construct} */\nexport const characterReference = {\n  name: 'characterReference',\n  tokenize: tokenizeCharacterReference\n};\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeCharacterReference(effects, ok, nok) {\n  const self = this;\n  let size = 0;\n  /** @type {number} */\n  let max;\n  /** @type {(code: Code) => boolean} */\n  let test;\n  return start;\n\n  /**\n   * Start of character reference.\n   *\n   * ```markdown\n   * > | a&amp;b\n   *      ^\n   * > | a&#123;b\n   *      ^\n   * > | a&#x9;b\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter('characterReference');\n    effects.enter('characterReferenceMarker');\n    effects.consume(code);\n    effects.exit('characterReferenceMarker');\n    return open;\n  }\n\n  /**\n   * After `&`, at `#` for numeric references or alphanumeric for named\n   * references.\n   *\n   * ```markdown\n   * > | a&amp;b\n   *       ^\n   * > | a&#123;b\n   *       ^\n   * > | a&#x9;b\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function open(code) {\n    if (code === 35) {\n      effects.enter('characterReferenceMarkerNumeric');\n      effects.consume(code);\n      effects.exit('characterReferenceMarkerNumeric');\n      return numeric;\n    }\n    effects.enter('characterReferenceValue');\n    max = 31;\n    test = asciiAlphanumeric;\n    return value(code);\n  }\n\n  /**\n   * After `#`, at `x` for hexadecimals or digit for decimals.\n   *\n   * ```markdown\n   * > | a&#123;b\n   *        ^\n   * > | a&#x9;b\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function numeric(code) {\n    if (code === 88 || code === 120) {\n      effects.enter('characterReferenceMarkerHexadecimal');\n      effects.consume(code);\n      effects.exit('characterReferenceMarkerHexadecimal');\n      effects.enter('characterReferenceValue');\n      max = 6;\n      test = asciiHexDigit;\n      return value;\n    }\n    effects.enter('characterReferenceValue');\n    max = 7;\n    test = asciiDigit;\n    return value(code);\n  }\n\n  /**\n   * After markers (`&#x`, `&#`, or `&`), in value, before `;`.\n   *\n   * The character reference kind defines what and how many characters are\n   * allowed.\n   *\n   * ```markdown\n   * > | a&amp;b\n   *       ^^^\n   * > | a&#123;b\n   *        ^^^\n   * > | a&#x9;b\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function value(code) {\n    if (code === 59 && size) {\n      const token = effects.exit('characterReferenceValue');\n      if (test === asciiAlphanumeric && !decodeNamedCharacterReference(self.sliceSerialize(token))) {\n        return nok(code);\n      }\n\n      // To do: `markdown-rs` uses a different name:\n      // `CharacterReferenceMarkerSemi`.\n      effects.enter('characterReferenceMarker');\n      effects.consume(code);\n      effects.exit('characterReferenceMarker');\n      effects.exit('characterReference');\n      return ok;\n    }\n    if (test(code) && size++ < max) {\n      effects.consume(code);\n      return value;\n    }\n    return nok(code);\n  }\n}","/**\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { asciiPunctuation } from 'micromark-util-character';\n/** @type {Construct} */\nexport const characterEscape = {\n  name: 'characterEscape',\n  tokenize: tokenizeCharacterEscape\n};\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeCharacterEscape(effects, ok, nok) {\n  return start;\n\n  /**\n   * Start of character escape.\n   *\n   * ```markdown\n   * > | a\\*b\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter('characterEscape');\n    effects.enter('escapeMarker');\n    effects.consume(code);\n    effects.exit('escapeMarker');\n    return inside;\n  }\n\n  /**\n   * After `\\`, at punctuation.\n   *\n   * ```markdown\n   * > | a\\*b\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function inside(code) {\n    // ASCII punctuation.\n    if (asciiPunctuation(code)) {\n      effects.enter('characterEscapeValue');\n      effects.consume(code);\n      effects.exit('characterEscapeValue');\n      effects.exit('characterEscape');\n      return ok;\n    }\n    return nok(code);\n  }\n}","/**\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { markdownLineEnding } from 'micromark-util-character';\n/** @type {Construct} */\nexport const lineEnding = {\n  name: 'lineEnding',\n  tokenize: tokenizeLineEnding\n};\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeLineEnding(effects, ok) {\n  return start;\n\n  /** @type {State} */\n  function start(code) {\n    effects.enter('lineEnding');\n    effects.consume(code);\n    effects.exit('lineEnding');\n    return factorySpace(effects, ok, 'linePrefix');\n  }\n}","/**\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').Event} Event\n * @typedef {import('micromark-util-types').Resolver} Resolver\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').Token} Token\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { factoryDestination } from 'micromark-factory-destination';\nimport { factoryLabel } from 'micromark-factory-label';\nimport { factoryTitle } from 'micromark-factory-title';\nimport { factoryWhitespace } from 'micromark-factory-whitespace';\nimport { markdownLineEndingOrSpace } from 'micromark-util-character';\nimport { push, splice } from 'micromark-util-chunked';\nimport { normalizeIdentifier } from 'micromark-util-normalize-identifier';\nimport { resolveAll } from 'micromark-util-resolve-all';\n/** @type {Construct} */\nexport const labelEnd = {\n  name: 'labelEnd',\n  tokenize: tokenizeLabelEnd,\n  resolveTo: resolveToLabelEnd,\n  resolveAll: resolveAllLabelEnd\n};\n\n/** @type {Construct} */\nconst resourceConstruct = {\n  tokenize: tokenizeResource\n};\n/** @type {Construct} */\nconst referenceFullConstruct = {\n  tokenize: tokenizeReferenceFull\n};\n/** @type {Construct} */\nconst referenceCollapsedConstruct = {\n  tokenize: tokenizeReferenceCollapsed\n};\n\n/** @type {Resolver} */\nfunction resolveAllLabelEnd(events) {\n  let index = -1;\n  while (++index < events.length) {\n    const token = events[index][1];\n    if (token.type === 'labelImage' || token.type === 'labelLink' || token.type === 'labelEnd') {\n      // Remove the marker.\n      events.splice(index + 1, token.type === 'labelImage' ? 4 : 2);\n      token.type = 'data';\n      index++;\n    }\n  }\n  return events;\n}\n\n/** @type {Resolver} */\nfunction resolveToLabelEnd(events, context) {\n  let index = events.length;\n  let offset = 0;\n  /** @type {Token} */\n  let token;\n  /** @type {number | undefined} */\n  let open;\n  /** @type {number | undefined} */\n  let close;\n  /** @type {Array<Event>} */\n  let media;\n\n  // Find an opening.\n  while (index--) {\n    token = events[index][1];\n    if (open) {\n      // If we see another link, or inactive link label, we’ve been here before.\n      if (token.type === 'link' || token.type === 'labelLink' && token._inactive) {\n        break;\n      }\n\n      // Mark other link openings as inactive, as we can’t have links in\n      // links.\n      if (events[index][0] === 'enter' && token.type === 'labelLink') {\n        token._inactive = true;\n      }\n    } else if (close) {\n      if (events[index][0] === 'enter' && (token.type === 'labelImage' || token.type === 'labelLink') && !token._balanced) {\n        open = index;\n        if (token.type !== 'labelLink') {\n          offset = 2;\n          break;\n        }\n      }\n    } else if (token.type === 'labelEnd') {\n      close = index;\n    }\n  }\n  const group = {\n    type: events[open][1].type === 'labelLink' ? 'link' : 'image',\n    start: Object.assign({}, events[open][1].start),\n    end: Object.assign({}, events[events.length - 1][1].end)\n  };\n  const label = {\n    type: 'label',\n    start: Object.assign({}, events[open][1].start),\n    end: Object.assign({}, events[close][1].end)\n  };\n  const text = {\n    type: 'labelText',\n    start: Object.assign({}, events[open + offset + 2][1].end),\n    end: Object.assign({}, events[close - 2][1].start)\n  };\n  media = [['enter', group, context], ['enter', label, context]];\n\n  // Opening marker.\n  media = push(media, events.slice(open + 1, open + offset + 3));\n\n  // Text open.\n  media = push(media, [['enter', text, context]]);\n\n  // Always populated by defaults.\n\n  // Between.\n  media = push(media, resolveAll(context.parser.constructs.insideSpan.null, events.slice(open + offset + 4, close - 3), context));\n\n  // Text close, marker close, label close.\n  media = push(media, [['exit', text, context], events[close - 2], events[close - 1], ['exit', label, context]]);\n\n  // Reference, resource, or so.\n  media = push(media, events.slice(close + 1));\n\n  // Media close.\n  media = push(media, [['exit', group, context]]);\n  splice(events, open, events.length, media);\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeLabelEnd(effects, ok, nok) {\n  const self = this;\n  let index = self.events.length;\n  /** @type {Token} */\n  let labelStart;\n  /** @type {boolean} */\n  let defined;\n\n  // Find an opening.\n  while (index--) {\n    if ((self.events[index][1].type === 'labelImage' || self.events[index][1].type === 'labelLink') && !self.events[index][1]._balanced) {\n      labelStart = self.events[index][1];\n      break;\n    }\n  }\n  return start;\n\n  /**\n   * Start of label end.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *       ^\n   * > | [a][b] c\n   *       ^\n   * > | [a][] b\n   *       ^\n   * > | [a] b\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    // If there is not an okay opening.\n    if (!labelStart) {\n      return nok(code);\n    }\n\n    // If the corresponding label (link) start is marked as inactive,\n    // it means we’d be wrapping a link, like this:\n    //\n    // ```markdown\n    // > | a [b [c](d) e](f) g.\n    //                  ^\n    // ```\n    //\n    // We can’t have that, so it’s just balanced brackets.\n    if (labelStart._inactive) {\n      return labelEndNok(code);\n    }\n    defined = self.parser.defined.includes(normalizeIdentifier(self.sliceSerialize({\n      start: labelStart.end,\n      end: self.now()\n    })));\n    effects.enter('labelEnd');\n    effects.enter('labelMarker');\n    effects.consume(code);\n    effects.exit('labelMarker');\n    effects.exit('labelEnd');\n    return after;\n  }\n\n  /**\n   * After `]`.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *       ^\n   * > | [a][b] c\n   *       ^\n   * > | [a][] b\n   *       ^\n   * > | [a] b\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    // Note: `markdown-rs` also parses GFM footnotes here, which for us is in\n    // an extension.\n\n    // Resource (`[asd](fgh)`)?\n    if (code === 40) {\n      return effects.attempt(resourceConstruct, labelEndOk, defined ? labelEndOk : labelEndNok)(code);\n    }\n\n    // Full (`[asd][fgh]`) or collapsed (`[asd][]`) reference?\n    if (code === 91) {\n      return effects.attempt(referenceFullConstruct, labelEndOk, defined ? referenceNotFull : labelEndNok)(code);\n    }\n\n    // Shortcut (`[asd]`) reference?\n    return defined ? labelEndOk(code) : labelEndNok(code);\n  }\n\n  /**\n   * After `]`, at `[`, but not at a full reference.\n   *\n   * > 👉 **Note**: we only get here if the label is defined.\n   *\n   * ```markdown\n   * > | [a][] b\n   *        ^\n   * > | [a] b\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function referenceNotFull(code) {\n    return effects.attempt(referenceCollapsedConstruct, labelEndOk, labelEndNok)(code);\n  }\n\n  /**\n   * Done, we found something.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *           ^\n   * > | [a][b] c\n   *           ^\n   * > | [a][] b\n   *          ^\n   * > | [a] b\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function labelEndOk(code) {\n    // Note: `markdown-rs` does a bunch of stuff here.\n    return ok(code);\n  }\n\n  /**\n   * Done, it’s nothing.\n   *\n   * There was an okay opening, but we didn’t match anything.\n   *\n   * ```markdown\n   * > | [a](b c\n   *        ^\n   * > | [a][b c\n   *        ^\n   * > | [a] b\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function labelEndNok(code) {\n    labelStart._balanced = true;\n    return nok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeResource(effects, ok, nok) {\n  return resourceStart;\n\n  /**\n   * At a resource.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceStart(code) {\n    effects.enter('resource');\n    effects.enter('resourceMarker');\n    effects.consume(code);\n    effects.exit('resourceMarker');\n    return resourceBefore;\n  }\n\n  /**\n   * In resource, after `(`, at optional whitespace.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceBefore(code) {\n    return markdownLineEndingOrSpace(code) ? factoryWhitespace(effects, resourceOpen)(code) : resourceOpen(code);\n  }\n\n  /**\n   * In resource, after optional whitespace, at `)` or a destination.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceOpen(code) {\n    if (code === 41) {\n      return resourceEnd(code);\n    }\n    return factoryDestination(effects, resourceDestinationAfter, resourceDestinationMissing, 'resourceDestination', 'resourceDestinationLiteral', 'resourceDestinationLiteralMarker', 'resourceDestinationRaw', 'resourceDestinationString', 32)(code);\n  }\n\n  /**\n   * In resource, after destination, at optional whitespace.\n   *\n   * ```markdown\n   * > | [a](b) c\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceDestinationAfter(code) {\n    return markdownLineEndingOrSpace(code) ? factoryWhitespace(effects, resourceBetween)(code) : resourceEnd(code);\n  }\n\n  /**\n   * At invalid destination.\n   *\n   * ```markdown\n   * > | [a](<<) b\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceDestinationMissing(code) {\n    return nok(code);\n  }\n\n  /**\n   * In resource, after destination and whitespace, at `(` or title.\n   *\n   * ```markdown\n   * > | [a](b ) c\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceBetween(code) {\n    if (code === 34 || code === 39 || code === 40) {\n      return factoryTitle(effects, resourceTitleAfter, nok, 'resourceTitle', 'resourceTitleMarker', 'resourceTitleString')(code);\n    }\n    return resourceEnd(code);\n  }\n\n  /**\n   * In resource, after title, at optional whitespace.\n   *\n   * ```markdown\n   * > | [a](b \"c\") d\n   *              ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceTitleAfter(code) {\n    return markdownLineEndingOrSpace(code) ? factoryWhitespace(effects, resourceEnd)(code) : resourceEnd(code);\n  }\n\n  /**\n   * In resource, at `)`.\n   *\n   * ```markdown\n   * > | [a](b) d\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function resourceEnd(code) {\n    if (code === 41) {\n      effects.enter('resourceMarker');\n      effects.consume(code);\n      effects.exit('resourceMarker');\n      effects.exit('resource');\n      return ok;\n    }\n    return nok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeReferenceFull(effects, ok, nok) {\n  const self = this;\n  return referenceFull;\n\n  /**\n   * In a reference (full), at the `[`.\n   *\n   * ```markdown\n   * > | [a][b] d\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function referenceFull(code) {\n    return factoryLabel.call(self, effects, referenceFullAfter, referenceFullMissing, 'reference', 'referenceMarker', 'referenceString')(code);\n  }\n\n  /**\n   * In a reference (full), after `]`.\n   *\n   * ```markdown\n   * > | [a][b] d\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function referenceFullAfter(code) {\n    return self.parser.defined.includes(normalizeIdentifier(self.sliceSerialize(self.events[self.events.length - 1][1]).slice(1, -1))) ? ok(code) : nok(code);\n  }\n\n  /**\n   * In reference (full) that was missing.\n   *\n   * ```markdown\n   * > | [a][b d\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function referenceFullMissing(code) {\n    return nok(code);\n  }\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeReferenceCollapsed(effects, ok, nok) {\n  return referenceCollapsedStart;\n\n  /**\n   * In reference (collapsed), at `[`.\n   *\n   * > 👉 **Note**: we only get here if the label is defined.\n   *\n   * ```markdown\n   * > | [a][] d\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function referenceCollapsedStart(code) {\n    // We only attempt a collapsed label if there’s a `[`.\n\n    effects.enter('reference');\n    effects.enter('referenceMarker');\n    effects.consume(code);\n    effects.exit('referenceMarker');\n    return referenceCollapsedOpen;\n  }\n\n  /**\n   * In reference (collapsed), at `]`.\n   *\n   * > 👉 **Note**: we only get here if the label is defined.\n   *\n   * ```markdown\n   * > | [a][] d\n   *         ^\n   * ```\n   *\n   *  @type {State}\n   */\n  function referenceCollapsedOpen(code) {\n    if (code === 93) {\n      effects.enter('referenceMarker');\n      effects.consume(code);\n      effects.exit('referenceMarker');\n      effects.exit('reference');\n      return ok;\n    }\n    return nok(code);\n  }\n}","/**\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { labelEnd } from './label-end.js';\n\n/** @type {Construct} */\nexport const labelStartImage = {\n  name: 'labelStartImage',\n  tokenize: tokenizeLabelStartImage,\n  resolveAll: labelEnd.resolveAll\n};\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeLabelStartImage(effects, ok, nok) {\n  const self = this;\n  return start;\n\n  /**\n   * Start of label (image) start.\n   *\n   * ```markdown\n   * > | a ![b] c\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter('labelImage');\n    effects.enter('labelImageMarker');\n    effects.consume(code);\n    effects.exit('labelImageMarker');\n    return open;\n  }\n\n  /**\n   * After `!`, at `[`.\n   *\n   * ```markdown\n   * > | a ![b] c\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function open(code) {\n    if (code === 91) {\n      effects.enter('labelMarker');\n      effects.consume(code);\n      effects.exit('labelMarker');\n      effects.exit('labelImage');\n      return after;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `![`.\n   *\n   * ```markdown\n   * > | a ![b] c\n   *         ^\n   * ```\n   *\n   * This is needed in because, when GFM footnotes are enabled, images never\n   * form when started with a `^`.\n   * Instead, links form:\n   *\n   * ```markdown\n   * ![^a](b)\n   *\n   * ![^a][b]\n   *\n   * [b]: c\n   * ```\n   *\n   * ```html\n   * <p>!<a href=\\\"b\\\">^a</a></p>\n   * <p>!<a href=\\\"c\\\">^a</a></p>\n   * ```\n   *\n   * @type {State}\n   */\n  function after(code) {\n    // To do: use a new field to do this, this is still needed for\n    // `micromark-extension-gfm-footnote`, but the `label-start-link`\n    // behavior isn’t.\n    // Hidden footnotes hook.\n    /* c8 ignore next 3 */\n    return code === 94 && '_hiddenFootnoteSupport' in self.parser.constructs ? nok(code) : ok(code);\n  }\n}","/**\n * @typedef {import('micromark-util-types').Code} Code\n */\n\nimport { markdownLineEndingOrSpace, unicodePunctuation, unicodeWhitespace } from 'micromark-util-character';\n/**\n * Classify whether a code represents whitespace, punctuation, or something\n * else.\n *\n * Used for attention (emphasis, strong), whose sequences can open or close\n * based on the class of surrounding characters.\n *\n * > 👉 **Note**: eof (`null`) is seen as whitespace.\n *\n * @param {Code} code\n *   Code.\n * @returns {typeof constants.characterGroupWhitespace | typeof constants.characterGroupPunctuation | undefined}\n *   Group.\n */\nexport function classifyCharacter(code) {\n  if (code === null || markdownLineEndingOrSpace(code) || unicodeWhitespace(code)) {\n    return 1;\n  }\n  if (unicodePunctuation(code)) {\n    return 2;\n  }\n}","/**\n * @typedef {import('micromark-util-types').Code} Code\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').Event} Event\n * @typedef {import('micromark-util-types').Point} Point\n * @typedef {import('micromark-util-types').Resolver} Resolver\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').Token} Token\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { push, splice } from 'micromark-util-chunked';\nimport { classifyCharacter } from 'micromark-util-classify-character';\nimport { resolveAll } from 'micromark-util-resolve-all';\n/** @type {Construct} */\nexport const attention = {\n  name: 'attention',\n  tokenize: tokenizeAttention,\n  resolveAll: resolveAllAttention\n};\n\n/**\n * Take all events and resolve attention to emphasis or strong.\n *\n * @type {Resolver}\n */\nfunction resolveAllAttention(events, context) {\n  let index = -1;\n  /** @type {number} */\n  let open;\n  /** @type {Token} */\n  let group;\n  /** @type {Token} */\n  let text;\n  /** @type {Token} */\n  let openingSequence;\n  /** @type {Token} */\n  let closingSequence;\n  /** @type {number} */\n  let use;\n  /** @type {Array<Event>} */\n  let nextEvents;\n  /** @type {number} */\n  let offset;\n\n  // Walk through all events.\n  //\n  // Note: performance of this is fine on an mb of normal markdown, but it’s\n  // a bottleneck for malicious stuff.\n  while (++index < events.length) {\n    // Find a token that can close.\n    if (events[index][0] === 'enter' && events[index][1].type === 'attentionSequence' && events[index][1]._close) {\n      open = index;\n\n      // Now walk back to find an opener.\n      while (open--) {\n        // Find a token that can open the closer.\n        if (events[open][0] === 'exit' && events[open][1].type === 'attentionSequence' && events[open][1]._open &&\n        // If the markers are the same:\n        context.sliceSerialize(events[open][1]).charCodeAt(0) === context.sliceSerialize(events[index][1]).charCodeAt(0)) {\n          // If the opening can close or the closing can open,\n          // and the close size *is not* a multiple of three,\n          // but the sum of the opening and closing size *is* multiple of three,\n          // then don’t match.\n          if ((events[open][1]._close || events[index][1]._open) && (events[index][1].end.offset - events[index][1].start.offset) % 3 && !((events[open][1].end.offset - events[open][1].start.offset + events[index][1].end.offset - events[index][1].start.offset) % 3)) {\n            continue;\n          }\n\n          // Number of markers to use from the sequence.\n          use = events[open][1].end.offset - events[open][1].start.offset > 1 && events[index][1].end.offset - events[index][1].start.offset > 1 ? 2 : 1;\n          const start = Object.assign({}, events[open][1].end);\n          const end = Object.assign({}, events[index][1].start);\n          movePoint(start, -use);\n          movePoint(end, use);\n          openingSequence = {\n            type: use > 1 ? 'strongSequence' : 'emphasisSequence',\n            start,\n            end: Object.assign({}, events[open][1].end)\n          };\n          closingSequence = {\n            type: use > 1 ? 'strongSequence' : 'emphasisSequence',\n            start: Object.assign({}, events[index][1].start),\n            end\n          };\n          text = {\n            type: use > 1 ? 'strongText' : 'emphasisText',\n            start: Object.assign({}, events[open][1].end),\n            end: Object.assign({}, events[index][1].start)\n          };\n          group = {\n            type: use > 1 ? 'strong' : 'emphasis',\n            start: Object.assign({}, openingSequence.start),\n            end: Object.assign({}, closingSequence.end)\n          };\n          events[open][1].end = Object.assign({}, openingSequence.start);\n          events[index][1].start = Object.assign({}, closingSequence.end);\n          nextEvents = [];\n\n          // If there are more markers in the opening, add them before.\n          if (events[open][1].end.offset - events[open][1].start.offset) {\n            nextEvents = push(nextEvents, [['enter', events[open][1], context], ['exit', events[open][1], context]]);\n          }\n\n          // Opening.\n          nextEvents = push(nextEvents, [['enter', group, context], ['enter', openingSequence, context], ['exit', openingSequence, context], ['enter', text, context]]);\n\n          // Always populated by defaults.\n\n          // Between.\n          nextEvents = push(nextEvents, resolveAll(context.parser.constructs.insideSpan.null, events.slice(open + 1, index), context));\n\n          // Closing.\n          nextEvents = push(nextEvents, [['exit', text, context], ['enter', closingSequence, context], ['exit', closingSequence, context], ['exit', group, context]]);\n\n          // If there are more markers in the closing, add them after.\n          if (events[index][1].end.offset - events[index][1].start.offset) {\n            offset = 2;\n            nextEvents = push(nextEvents, [['enter', events[index][1], context], ['exit', events[index][1], context]]);\n          } else {\n            offset = 0;\n          }\n          splice(events, open - 1, index - open + 3, nextEvents);\n          index = open + nextEvents.length - offset - 2;\n          break;\n        }\n      }\n    }\n  }\n\n  // Remove remaining sequences.\n  index = -1;\n  while (++index < events.length) {\n    if (events[index][1].type === 'attentionSequence') {\n      events[index][1].type = 'data';\n    }\n  }\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeAttention(effects, ok) {\n  const attentionMarkers = this.parser.constructs.attentionMarkers.null;\n  const previous = this.previous;\n  const before = classifyCharacter(previous);\n\n  /** @type {NonNullable<Code>} */\n  let marker;\n  return start;\n\n  /**\n   * Before a sequence.\n   *\n   * ```markdown\n   * > | **\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    marker = code;\n    effects.enter('attentionSequence');\n    return inside(code);\n  }\n\n  /**\n   * In a sequence.\n   *\n   * ```markdown\n   * > | **\n   *     ^^\n   * ```\n   *\n   * @type {State}\n   */\n  function inside(code) {\n    if (code === marker) {\n      effects.consume(code);\n      return inside;\n    }\n    const token = effects.exit('attentionSequence');\n\n    // To do: next major: move this to resolver, just like `markdown-rs`.\n    const after = classifyCharacter(code);\n\n    // Always populated by defaults.\n\n    const open = !after || after === 2 && before || attentionMarkers.includes(code);\n    const close = !before || before === 2 && after || attentionMarkers.includes(previous);\n    token._open = Boolean(marker === 42 ? open : open && (before || !close));\n    token._close = Boolean(marker === 42 ? close : close && (after || !open));\n    return ok(code);\n  }\n}\n\n/**\n * Move a point a bit.\n *\n * Note: `move` only works inside lines! It’s not possible to move past other\n * chunks (replacement characters, tabs, or line endings).\n *\n * @param {Point} point\n * @param {number} offset\n * @returns {void}\n */\nfunction movePoint(point, offset) {\n  point.column += offset;\n  point.offset += offset;\n  point._bufferIndex += offset;\n}","/**\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { asciiAlpha, asciiAlphanumeric, asciiAtext, asciiControl } from 'micromark-util-character';\n/** @type {Construct} */\nexport const autolink = {\n  name: 'autolink',\n  tokenize: tokenizeAutolink\n};\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeAutolink(effects, ok, nok) {\n  let size = 0;\n  return start;\n\n  /**\n   * Start of an autolink.\n   *\n   * ```markdown\n   * > | a<https://example.com>b\n   *      ^\n   * > | a<user@example.com>b\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter('autolink');\n    effects.enter('autolinkMarker');\n    effects.consume(code);\n    effects.exit('autolinkMarker');\n    effects.enter('autolinkProtocol');\n    return open;\n  }\n\n  /**\n   * After `<`, at protocol or atext.\n   *\n   * ```markdown\n   * > | a<https://example.com>b\n   *       ^\n   * > | a<user@example.com>b\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function open(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code);\n      return schemeOrEmailAtext;\n    }\n    return emailAtext(code);\n  }\n\n  /**\n   * At second byte of protocol or atext.\n   *\n   * ```markdown\n   * > | a<https://example.com>b\n   *        ^\n   * > | a<user@example.com>b\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function schemeOrEmailAtext(code) {\n    // ASCII alphanumeric and `+`, `-`, and `.`.\n    if (code === 43 || code === 45 || code === 46 || asciiAlphanumeric(code)) {\n      // Count the previous alphabetical from `open` too.\n      size = 1;\n      return schemeInsideOrEmailAtext(code);\n    }\n    return emailAtext(code);\n  }\n\n  /**\n   * In ambiguous protocol or atext.\n   *\n   * ```markdown\n   * > | a<https://example.com>b\n   *        ^\n   * > | a<user@example.com>b\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function schemeInsideOrEmailAtext(code) {\n    if (code === 58) {\n      effects.consume(code);\n      size = 0;\n      return urlInside;\n    }\n\n    // ASCII alphanumeric and `+`, `-`, and `.`.\n    if ((code === 43 || code === 45 || code === 46 || asciiAlphanumeric(code)) && size++ < 32) {\n      effects.consume(code);\n      return schemeInsideOrEmailAtext;\n    }\n    size = 0;\n    return emailAtext(code);\n  }\n\n  /**\n   * After protocol, in URL.\n   *\n   * ```markdown\n   * > | a<https://example.com>b\n   *             ^\n   * ```\n   *\n   * @type {State}\n   */\n  function urlInside(code) {\n    if (code === 62) {\n      effects.exit('autolinkProtocol');\n      effects.enter('autolinkMarker');\n      effects.consume(code);\n      effects.exit('autolinkMarker');\n      effects.exit('autolink');\n      return ok;\n    }\n\n    // ASCII control, space, or `<`.\n    if (code === null || code === 32 || code === 60 || asciiControl(code)) {\n      return nok(code);\n    }\n    effects.consume(code);\n    return urlInside;\n  }\n\n  /**\n   * In email atext.\n   *\n   * ```markdown\n   * > | a<user.name@example.com>b\n   *              ^\n   * ```\n   *\n   * @type {State}\n   */\n  function emailAtext(code) {\n    if (code === 64) {\n      effects.consume(code);\n      return emailAtSignOrDot;\n    }\n    if (asciiAtext(code)) {\n      effects.consume(code);\n      return emailAtext;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In label, after at-sign or dot.\n   *\n   * ```markdown\n   * > | a<user.name@example.com>b\n   *                 ^       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function emailAtSignOrDot(code) {\n    return asciiAlphanumeric(code) ? emailLabel(code) : nok(code);\n  }\n\n  /**\n   * In label, where `.` and `>` are allowed.\n   *\n   * ```markdown\n   * > | a<user.name@example.com>b\n   *                   ^\n   * ```\n   *\n   * @type {State}\n   */\n  function emailLabel(code) {\n    if (code === 46) {\n      effects.consume(code);\n      size = 0;\n      return emailAtSignOrDot;\n    }\n    if (code === 62) {\n      // Exit, then change the token type.\n      effects.exit('autolinkProtocol').type = 'autolinkEmail';\n      effects.enter('autolinkMarker');\n      effects.consume(code);\n      effects.exit('autolinkMarker');\n      effects.exit('autolink');\n      return ok;\n    }\n    return emailValue(code);\n  }\n\n  /**\n   * In label, where `.` and `>` are *not* allowed.\n   *\n   * Though, this is also used in `emailLabel` to parse other values.\n   *\n   * ```markdown\n   * > | a<user.name@ex-ample.com>b\n   *                    ^\n   * ```\n   *\n   * @type {State}\n   */\n  function emailValue(code) {\n    // ASCII alphanumeric or `-`.\n    if ((code === 45 || asciiAlphanumeric(code)) && size++ < 63) {\n      const next = code === 45 ? emailValue : emailLabel;\n      effects.consume(code);\n      return next;\n    }\n    return nok(code);\n  }\n}","/**\n * @typedef {import('micromark-util-types').Code} Code\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { factorySpace } from 'micromark-factory-space';\nimport { asciiAlpha, asciiAlphanumeric, markdownLineEnding, markdownLineEndingOrSpace, markdownSpace } from 'micromark-util-character';\n/** @type {Construct} */\nexport const htmlText = {\n  name: 'htmlText',\n  tokenize: tokenizeHtmlText\n};\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeHtmlText(effects, ok, nok) {\n  const self = this;\n  /** @type {NonNullable<Code> | undefined} */\n  let marker;\n  /** @type {number} */\n  let index;\n  /** @type {State} */\n  let returnState;\n  return start;\n\n  /**\n   * Start of HTML (text).\n   *\n   * ```markdown\n   * > | a <b> c\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter('htmlText');\n    effects.enter('htmlTextData');\n    effects.consume(code);\n    return open;\n  }\n\n  /**\n   * After `<`, at tag name or other stuff.\n   *\n   * ```markdown\n   * > | a <b> c\n   *        ^\n   * > | a <!doctype> c\n   *        ^\n   * > | a <!--b--> c\n   *        ^\n   * ```\n   *\n   * @type {State}\n   */\n  function open(code) {\n    if (code === 33) {\n      effects.consume(code);\n      return declarationOpen;\n    }\n    if (code === 47) {\n      effects.consume(code);\n      return tagCloseStart;\n    }\n    if (code === 63) {\n      effects.consume(code);\n      return instruction;\n    }\n\n    // ASCII alphabetical.\n    if (asciiAlpha(code)) {\n      effects.consume(code);\n      return tagOpen;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `<!`, at declaration, comment, or CDATA.\n   *\n   * ```markdown\n   * > | a <!doctype> c\n   *         ^\n   * > | a <!--b--> c\n   *         ^\n   * > | a <![CDATA[>&<]]> c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function declarationOpen(code) {\n    if (code === 45) {\n      effects.consume(code);\n      return commentOpenInside;\n    }\n    if (code === 91) {\n      effects.consume(code);\n      index = 0;\n      return cdataOpenInside;\n    }\n    if (asciiAlpha(code)) {\n      effects.consume(code);\n      return declaration;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In a comment, after `<!-`, at another `-`.\n   *\n   * ```markdown\n   * > | a <!--b--> c\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function commentOpenInside(code) {\n    if (code === 45) {\n      effects.consume(code);\n      return commentEnd;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In comment.\n   *\n   * ```markdown\n   * > | a <!--b--> c\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function comment(code) {\n    if (code === null) {\n      return nok(code);\n    }\n    if (code === 45) {\n      effects.consume(code);\n      return commentClose;\n    }\n    if (markdownLineEnding(code)) {\n      returnState = comment;\n      return lineEndingBefore(code);\n    }\n    effects.consume(code);\n    return comment;\n  }\n\n  /**\n   * In comment, after `-`.\n   *\n   * ```markdown\n   * > | a <!--b--> c\n   *             ^\n   * ```\n   *\n   * @type {State}\n   */\n  function commentClose(code) {\n    if (code === 45) {\n      effects.consume(code);\n      return commentEnd;\n    }\n    return comment(code);\n  }\n\n  /**\n   * In comment, after `--`.\n   *\n   * ```markdown\n   * > | a <!--b--> c\n   *              ^\n   * ```\n   *\n   * @type {State}\n   */\n  function commentEnd(code) {\n    return code === 62 ? end(code) : code === 45 ? commentClose(code) : comment(code);\n  }\n\n  /**\n   * After `<![`, in CDATA, expecting `CDATA[`.\n   *\n   * ```markdown\n   * > | a <![CDATA[>&<]]> b\n   *          ^^^^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function cdataOpenInside(code) {\n    const value = 'CDATA[';\n    if (code === value.charCodeAt(index++)) {\n      effects.consume(code);\n      return index === value.length ? cdata : cdataOpenInside;\n    }\n    return nok(code);\n  }\n\n  /**\n   * In CDATA.\n   *\n   * ```markdown\n   * > | a <![CDATA[>&<]]> b\n   *                ^^^\n   * ```\n   *\n   * @type {State}\n   */\n  function cdata(code) {\n    if (code === null) {\n      return nok(code);\n    }\n    if (code === 93) {\n      effects.consume(code);\n      return cdataClose;\n    }\n    if (markdownLineEnding(code)) {\n      returnState = cdata;\n      return lineEndingBefore(code);\n    }\n    effects.consume(code);\n    return cdata;\n  }\n\n  /**\n   * In CDATA, after `]`, at another `]`.\n   *\n   * ```markdown\n   * > | a <![CDATA[>&<]]> b\n   *                    ^\n   * ```\n   *\n   * @type {State}\n   */\n  function cdataClose(code) {\n    if (code === 93) {\n      effects.consume(code);\n      return cdataEnd;\n    }\n    return cdata(code);\n  }\n\n  /**\n   * In CDATA, after `]]`, at `>`.\n   *\n   * ```markdown\n   * > | a <![CDATA[>&<]]> b\n   *                     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function cdataEnd(code) {\n    if (code === 62) {\n      return end(code);\n    }\n    if (code === 93) {\n      effects.consume(code);\n      return cdataEnd;\n    }\n    return cdata(code);\n  }\n\n  /**\n   * In declaration.\n   *\n   * ```markdown\n   * > | a <!b> c\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function declaration(code) {\n    if (code === null || code === 62) {\n      return end(code);\n    }\n    if (markdownLineEnding(code)) {\n      returnState = declaration;\n      return lineEndingBefore(code);\n    }\n    effects.consume(code);\n    return declaration;\n  }\n\n  /**\n   * In instruction.\n   *\n   * ```markdown\n   * > | a <?b?> c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function instruction(code) {\n    if (code === null) {\n      return nok(code);\n    }\n    if (code === 63) {\n      effects.consume(code);\n      return instructionClose;\n    }\n    if (markdownLineEnding(code)) {\n      returnState = instruction;\n      return lineEndingBefore(code);\n    }\n    effects.consume(code);\n    return instruction;\n  }\n\n  /**\n   * In instruction, after `?`, at `>`.\n   *\n   * ```markdown\n   * > | a <?b?> c\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function instructionClose(code) {\n    return code === 62 ? end(code) : instruction(code);\n  }\n\n  /**\n   * After `</`, in closing tag, at tag name.\n   *\n   * ```markdown\n   * > | a </b> c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagCloseStart(code) {\n    // ASCII alphabetical.\n    if (asciiAlpha(code)) {\n      effects.consume(code);\n      return tagClose;\n    }\n    return nok(code);\n  }\n\n  /**\n   * After `</x`, in a tag name.\n   *\n   * ```markdown\n   * > | a </b> c\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagClose(code) {\n    // ASCII alphanumerical and `-`.\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code);\n      return tagClose;\n    }\n    return tagCloseBetween(code);\n  }\n\n  /**\n   * In closing tag, after tag name.\n   *\n   * ```markdown\n   * > | a </b> c\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagCloseBetween(code) {\n    if (markdownLineEnding(code)) {\n      returnState = tagCloseBetween;\n      return lineEndingBefore(code);\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return tagCloseBetween;\n    }\n    return end(code);\n  }\n\n  /**\n   * After `<x`, in opening tag name.\n   *\n   * ```markdown\n   * > | a <b> c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpen(code) {\n    // ASCII alphanumerical and `-`.\n    if (code === 45 || asciiAlphanumeric(code)) {\n      effects.consume(code);\n      return tagOpen;\n    }\n    if (code === 47 || code === 62 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * In opening tag, after tag name.\n   *\n   * ```markdown\n   * > | a <b> c\n   *         ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenBetween(code) {\n    if (code === 47) {\n      effects.consume(code);\n      return end;\n    }\n\n    // ASCII alphabetical and `:` and `_`.\n    if (code === 58 || code === 95 || asciiAlpha(code)) {\n      effects.consume(code);\n      return tagOpenAttributeName;\n    }\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenBetween;\n      return lineEndingBefore(code);\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return tagOpenBetween;\n    }\n    return end(code);\n  }\n\n  /**\n   * In attribute name.\n   *\n   * ```markdown\n   * > | a <b c> d\n   *          ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenAttributeName(code) {\n    // ASCII alphabetical and `-`, `.`, `:`, and `_`.\n    if (code === 45 || code === 46 || code === 58 || code === 95 || asciiAlphanumeric(code)) {\n      effects.consume(code);\n      return tagOpenAttributeName;\n    }\n    return tagOpenAttributeNameAfter(code);\n  }\n\n  /**\n   * After attribute name, before initializer, the end of the tag, or\n   * whitespace.\n   *\n   * ```markdown\n   * > | a <b c> d\n   *           ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenAttributeNameAfter(code) {\n    if (code === 61) {\n      effects.consume(code);\n      return tagOpenAttributeValueBefore;\n    }\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeNameAfter;\n      return lineEndingBefore(code);\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return tagOpenAttributeNameAfter;\n    }\n    return tagOpenBetween(code);\n  }\n\n  /**\n   * Before unquoted, double quoted, or single quoted attribute value, allowing\n   * whitespace.\n   *\n   * ```markdown\n   * > | a <b c=d> e\n   *            ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenAttributeValueBefore(code) {\n    if (code === null || code === 60 || code === 61 || code === 62 || code === 96) {\n      return nok(code);\n    }\n    if (code === 34 || code === 39) {\n      effects.consume(code);\n      marker = code;\n      return tagOpenAttributeValueQuoted;\n    }\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeValueBefore;\n      return lineEndingBefore(code);\n    }\n    if (markdownSpace(code)) {\n      effects.consume(code);\n      return tagOpenAttributeValueBefore;\n    }\n    effects.consume(code);\n    return tagOpenAttributeValueUnquoted;\n  }\n\n  /**\n   * In double or single quoted attribute value.\n   *\n   * ```markdown\n   * > | a <b c=\"d\"> e\n   *             ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenAttributeValueQuoted(code) {\n    if (code === marker) {\n      effects.consume(code);\n      marker = undefined;\n      return tagOpenAttributeValueQuotedAfter;\n    }\n    if (code === null) {\n      return nok(code);\n    }\n    if (markdownLineEnding(code)) {\n      returnState = tagOpenAttributeValueQuoted;\n      return lineEndingBefore(code);\n    }\n    effects.consume(code);\n    return tagOpenAttributeValueQuoted;\n  }\n\n  /**\n   * In unquoted attribute value.\n   *\n   * ```markdown\n   * > | a <b c=d> e\n   *            ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenAttributeValueUnquoted(code) {\n    if (code === null || code === 34 || code === 39 || code === 60 || code === 61 || code === 96) {\n      return nok(code);\n    }\n    if (code === 47 || code === 62 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code);\n    }\n    effects.consume(code);\n    return tagOpenAttributeValueUnquoted;\n  }\n\n  /**\n   * After double or single quoted attribute value, before whitespace or the end\n   * of the tag.\n   *\n   * ```markdown\n   * > | a <b c=\"d\"> e\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function tagOpenAttributeValueQuotedAfter(code) {\n    if (code === 47 || code === 62 || markdownLineEndingOrSpace(code)) {\n      return tagOpenBetween(code);\n    }\n    return nok(code);\n  }\n\n  /**\n   * In certain circumstances of a tag where only an `>` is allowed.\n   *\n   * ```markdown\n   * > | a <b c=\"d\"> e\n   *               ^\n   * ```\n   *\n   * @type {State}\n   */\n  function end(code) {\n    if (code === 62) {\n      effects.consume(code);\n      effects.exit('htmlTextData');\n      effects.exit('htmlText');\n      return ok;\n    }\n    return nok(code);\n  }\n\n  /**\n   * At eol.\n   *\n   * > 👉 **Note**: we can’t have blank lines in text, so no need to worry about\n   * > empty tokens.\n   *\n   * ```markdown\n   * > | a <!--a\n   *            ^\n   *   | b-->\n   * ```\n   *\n   * @type {State}\n   */\n  function lineEndingBefore(code) {\n    effects.exit('htmlTextData');\n    effects.enter('lineEnding');\n    effects.consume(code);\n    effects.exit('lineEnding');\n    return lineEndingAfter;\n  }\n\n  /**\n   * After eol, at optional whitespace.\n   *\n   * > 👉 **Note**: we can’t have blank lines in text, so no need to worry about\n   * > empty tokens.\n   *\n   * ```markdown\n   *   | a <!--a\n   * > | b-->\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function lineEndingAfter(code) {\n    // Always populated by defaults.\n\n    return markdownSpace(code) ? factorySpace(effects, lineEndingAfterPrefix, 'linePrefix', self.parser.constructs.disable.null.includes('codeIndented') ? undefined : 4)(code) : lineEndingAfterPrefix(code);\n  }\n\n  /**\n   * After eol, after optional whitespace.\n   *\n   * > 👉 **Note**: we can’t have blank lines in text, so no need to worry about\n   * > empty tokens.\n   *\n   * ```markdown\n   *   | a <!--a\n   * > | b-->\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function lineEndingAfterPrefix(code) {\n    effects.enter('htmlTextData');\n    return returnState(code);\n  }\n}","/**\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { labelEnd } from './label-end.js';\n\n/** @type {Construct} */\nexport const labelStartLink = {\n  name: 'labelStartLink',\n  tokenize: tokenizeLabelStartLink,\n  resolveAll: labelEnd.resolveAll\n};\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeLabelStartLink(effects, ok, nok) {\n  const self = this;\n  return start;\n\n  /**\n   * Start of label (link) start.\n   *\n   * ```markdown\n   * > | a [b] c\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter('labelLink');\n    effects.enter('labelMarker');\n    effects.consume(code);\n    effects.exit('labelMarker');\n    effects.exit('labelLink');\n    return after;\n  }\n\n  /** @type {State} */\n  function after(code) {\n    // To do: this isn’t needed in `micromark-extension-gfm-footnote`,\n    // remove.\n    // Hidden footnotes hook.\n    /* c8 ignore next 3 */\n    return code === 94 && '_hiddenFootnoteSupport' in self.parser.constructs ? nok(code) : ok(code);\n  }\n}","/**\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { markdownLineEnding } from 'micromark-util-character';\n/** @type {Construct} */\nexport const hardBreakEscape = {\n  name: 'hardBreakEscape',\n  tokenize: tokenizeHardBreakEscape\n};\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeHardBreakEscape(effects, ok, nok) {\n  return start;\n\n  /**\n   * Start of a hard break (escape).\n   *\n   * ```markdown\n   * > | a\\\n   *      ^\n   *   | b\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter('hardBreakEscape');\n    effects.consume(code);\n    return after;\n  }\n\n  /**\n   * After `\\`, at eol.\n   *\n   * ```markdown\n   * > | a\\\n   *       ^\n   *   | b\n   * ```\n   *\n   *  @type {State}\n   */\n  function after(code) {\n    if (markdownLineEnding(code)) {\n      effects.exit('hardBreakEscape');\n      return ok(code);\n    }\n    return nok(code);\n  }\n}","/**\n * @typedef {import('micromark-util-types').Construct} Construct\n * @typedef {import('micromark-util-types').Previous} Previous\n * @typedef {import('micromark-util-types').Resolver} Resolver\n * @typedef {import('micromark-util-types').State} State\n * @typedef {import('micromark-util-types').Token} Token\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Tokenizer} Tokenizer\n */\n\nimport { markdownLineEnding } from 'micromark-util-character';\n/** @type {Construct} */\nexport const codeText = {\n  name: 'codeText',\n  tokenize: tokenizeCodeText,\n  resolve: resolveCodeText,\n  previous\n};\n\n// To do: next major: don’t resolve, like `markdown-rs`.\n/** @type {Resolver} */\nfunction resolveCodeText(events) {\n  let tailExitIndex = events.length - 4;\n  let headEnterIndex = 3;\n  /** @type {number} */\n  let index;\n  /** @type {number | undefined} */\n  let enter;\n\n  // If we start and end with an EOL or a space.\n  if ((events[headEnterIndex][1].type === 'lineEnding' || events[headEnterIndex][1].type === 'space') && (events[tailExitIndex][1].type === 'lineEnding' || events[tailExitIndex][1].type === 'space')) {\n    index = headEnterIndex;\n\n    // And we have data.\n    while (++index < tailExitIndex) {\n      if (events[index][1].type === 'codeTextData') {\n        // Then we have padding.\n        events[headEnterIndex][1].type = 'codeTextPadding';\n        events[tailExitIndex][1].type = 'codeTextPadding';\n        headEnterIndex += 2;\n        tailExitIndex -= 2;\n        break;\n      }\n    }\n  }\n\n  // Merge adjacent spaces and data.\n  index = headEnterIndex - 1;\n  tailExitIndex++;\n  while (++index <= tailExitIndex) {\n    if (enter === undefined) {\n      if (index !== tailExitIndex && events[index][1].type !== 'lineEnding') {\n        enter = index;\n      }\n    } else if (index === tailExitIndex || events[index][1].type === 'lineEnding') {\n      events[enter][1].type = 'codeTextData';\n      if (index !== enter + 2) {\n        events[enter][1].end = events[index - 1][1].end;\n        events.splice(enter + 2, index - enter - 2);\n        tailExitIndex -= index - enter - 2;\n        index = enter + 2;\n      }\n      enter = undefined;\n    }\n  }\n  return events;\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Previous}\n */\nfunction previous(code) {\n  // If there is a previous code, there will always be a tail.\n  return code !== 96 || this.events[this.events.length - 1][1].type === 'characterEscape';\n}\n\n/**\n * @this {TokenizeContext}\n * @type {Tokenizer}\n */\nfunction tokenizeCodeText(effects, ok, nok) {\n  const self = this;\n  let sizeOpen = 0;\n  /** @type {number} */\n  let size;\n  /** @type {Token} */\n  let token;\n  return start;\n\n  /**\n   * Start of code (text).\n   *\n   * ```markdown\n   * > | `a`\n   *     ^\n   * > | \\`a`\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function start(code) {\n    effects.enter('codeText');\n    effects.enter('codeTextSequence');\n    return sequenceOpen(code);\n  }\n\n  /**\n   * In opening sequence.\n   *\n   * ```markdown\n   * > | `a`\n   *     ^\n   * ```\n   *\n   * @type {State}\n   */\n  function sequenceOpen(code) {\n    if (code === 96) {\n      effects.consume(code);\n      sizeOpen++;\n      return sequenceOpen;\n    }\n    effects.exit('codeTextSequence');\n    return between(code);\n  }\n\n  /**\n   * Between something and something else.\n   *\n   * ```markdown\n   * > | `a`\n   *      ^^\n   * ```\n   *\n   * @type {State}\n   */\n  function between(code) {\n    // EOF.\n    if (code === null) {\n      return nok(code);\n    }\n\n    // To do: next major: don’t do spaces in resolve, but when compiling,\n    // like `markdown-rs`.\n    // Tabs don’t work, and virtual spaces don’t make sense.\n    if (code === 32) {\n      effects.enter('space');\n      effects.consume(code);\n      effects.exit('space');\n      return between;\n    }\n\n    // Closing fence? Could also be data.\n    if (code === 96) {\n      token = effects.enter('codeTextSequence');\n      size = 0;\n      return sequenceClose(code);\n    }\n    if (markdownLineEnding(code)) {\n      effects.enter('lineEnding');\n      effects.consume(code);\n      effects.exit('lineEnding');\n      return between;\n    }\n\n    // Data.\n    effects.enter('codeTextData');\n    return data(code);\n  }\n\n  /**\n   * In data.\n   *\n   * ```markdown\n   * > | `a`\n   *      ^\n   * ```\n   *\n   * @type {State}\n   */\n  function data(code) {\n    if (code === null || code === 32 || code === 96 || markdownLineEnding(code)) {\n      effects.exit('codeTextData');\n      return between(code);\n    }\n    effects.consume(code);\n    return data;\n  }\n\n  /**\n   * In closing sequence.\n   *\n   * ```markdown\n   * > | `a`\n   *       ^\n   * ```\n   *\n   * @type {State}\n   */\n  function sequenceClose(code) {\n    // More.\n    if (code === 96) {\n      effects.consume(code);\n      size++;\n      return sequenceClose;\n    }\n\n    // Done!\n    if (size === sizeOpen) {\n      effects.exit('codeTextSequence');\n      effects.exit('codeText');\n      return ok(code);\n    }\n\n    // More or less accents: mark as data.\n    token.type = 'codeTextData';\n    return data(code);\n  }\n}","/**\n * @typedef {import('micromark-util-types').Extension} Extension\n */\n\nimport { attention, autolink, blockQuote, characterEscape, characterReference, codeFenced, codeIndented, codeText, definition, hardBreakEscape, headingAtx, htmlFlow, htmlText, labelEnd, labelStartImage, labelStartLink, lineEnding, list, setextUnderline, thematicBreak } from 'micromark-core-commonmark';\nimport { resolver as resolveText } from './initialize/text.js';\n\n/** @satisfies {Extension['document']} */\nexport const document = {\n  [42]: list,\n  [43]: list,\n  [45]: list,\n  [48]: list,\n  [49]: list,\n  [50]: list,\n  [51]: list,\n  [52]: list,\n  [53]: list,\n  [54]: list,\n  [55]: list,\n  [56]: list,\n  [57]: list,\n  [62]: blockQuote\n};\n\n/** @satisfies {Extension['contentInitial']} */\nexport const contentInitial = {\n  [91]: definition\n};\n\n/** @satisfies {Extension['flowInitial']} */\nexport const flowInitial = {\n  [-2]: codeIndented,\n  [-1]: codeIndented,\n  [32]: codeIndented\n};\n\n/** @satisfies {Extension['flow']} */\nexport const flow = {\n  [35]: headingAtx,\n  [42]: thematicBreak,\n  [45]: [setextUnderline, thematicBreak],\n  [60]: htmlFlow,\n  [61]: setextUnderline,\n  [95]: thematicBreak,\n  [96]: codeFenced,\n  [126]: codeFenced\n};\n\n/** @satisfies {Extension['string']} */\nexport const string = {\n  [38]: characterReference,\n  [92]: characterEscape\n};\n\n/** @satisfies {Extension['text']} */\nexport const text = {\n  [-5]: lineEnding,\n  [-4]: lineEnding,\n  [-3]: lineEnding,\n  [33]: labelStartImage,\n  [38]: characterReference,\n  [42]: attention,\n  [60]: [autolink, htmlText],\n  [91]: labelStartLink,\n  [92]: [hardBreakEscape, characterEscape],\n  [93]: labelEnd,\n  [95]: attention,\n  [96]: codeText\n};\n\n/** @satisfies {Extension['insideSpan']} */\nexport const insideSpan = {\n  null: [attention, resolveText]\n};\n\n/** @satisfies {Extension['attentionMarkers']} */\nexport const attentionMarkers = {\n  null: [42, 95]\n};\n\n/** @satisfies {Extension['disable']} */\nexport const disable = {\n  null: []\n};","/**\n * @typedef {import('micromark-util-types').Create} Create\n * @typedef {import('micromark-util-types').FullNormalizedExtension} FullNormalizedExtension\n * @typedef {import('micromark-util-types').InitialConstruct} InitialConstruct\n * @typedef {import('micromark-util-types').ParseContext} ParseContext\n * @typedef {import('micromark-util-types').ParseOptions} ParseOptions\n */\n\nimport { combineExtensions } from 'micromark-util-combine-extensions';\nimport { content } from './initialize/content.js';\nimport { document } from './initialize/document.js';\nimport { flow } from './initialize/flow.js';\nimport { text, string } from './initialize/text.js';\nimport { createTokenizer } from './create-tokenizer.js';\nimport * as defaultConstructs from './constructs.js';\n\n/**\n * @param {ParseOptions | null | undefined} [options]\n * @returns {ParseContext}\n */\nexport function parse(options) {\n  const settings = options || {};\n  const constructs = /** @type {FullNormalizedExtension} */\n  combineExtensions([defaultConstructs, ...(settings.extensions || [])]);\n\n  /** @type {ParseContext} */\n  const parser = {\n    defined: [],\n    lazy: {},\n    constructs,\n    content: create(content),\n    document: create(document),\n    flow: create(flow),\n    string: create(string),\n    text: create(text)\n  };\n  return parser;\n\n  /**\n   * @param {InitialConstruct} initial\n   */\n  function create(initial) {\n    return creator;\n    /** @type {Create} */\n    function creator(from) {\n      return createTokenizer(parser, initial, from);\n    }\n  }\n}","/**\n * @typedef {import('micromark-util-types').Chunk} Chunk\n * @typedef {import('micromark-util-types').Code} Code\n * @typedef {import('micromark-util-types').Encoding} Encoding\n * @typedef {import('micromark-util-types').Value} Value\n */\n\n/**\n * @callback Preprocessor\n * @param {Value} value\n * @param {Encoding | null | undefined} [encoding]\n * @param {boolean | null | undefined} [end=false]\n * @returns {Array<Chunk>}\n */\n\nconst search = /[\\0\\t\\n\\r]/g;\n\n/**\n * @returns {Preprocessor}\n */\nexport function preprocess() {\n  let column = 1;\n  let buffer = '';\n  /** @type {boolean | undefined} */\n  let start = true;\n  /** @type {boolean | undefined} */\n  let atCarriageReturn;\n  return preprocessor;\n\n  /** @type {Preprocessor} */\n  function preprocessor(value, encoding, end) {\n    /** @type {Array<Chunk>} */\n    const chunks = [];\n    /** @type {RegExpMatchArray | null} */\n    let match;\n    /** @type {number} */\n    let next;\n    /** @type {number} */\n    let startPosition;\n    /** @type {number} */\n    let endPosition;\n    /** @type {Code} */\n    let code;\n\n    // @ts-expect-error `Buffer` does allow an encoding.\n    value = buffer + value.toString(encoding);\n    startPosition = 0;\n    buffer = '';\n    if (start) {\n      // To do: `markdown-rs` actually parses BOMs (byte order mark).\n      if (value.charCodeAt(0) === 65279) {\n        startPosition++;\n      }\n      start = undefined;\n    }\n    while (startPosition < value.length) {\n      search.lastIndex = startPosition;\n      match = search.exec(value);\n      endPosition = match && match.index !== undefined ? match.index : value.length;\n      code = value.charCodeAt(endPosition);\n      if (!match) {\n        buffer = value.slice(startPosition);\n        break;\n      }\n      if (code === 10 && startPosition === endPosition && atCarriageReturn) {\n        chunks.push(-3);\n        atCarriageReturn = undefined;\n      } else {\n        if (atCarriageReturn) {\n          chunks.push(-5);\n          atCarriageReturn = undefined;\n        }\n        if (startPosition < endPosition) {\n          chunks.push(value.slice(startPosition, endPosition));\n          column += endPosition - startPosition;\n        }\n        switch (code) {\n          case 0:\n            {\n              chunks.push(65533);\n              column++;\n              break;\n            }\n          case 9:\n            {\n              next = Math.ceil(column / 4) * 4;\n              chunks.push(-2);\n              while (column++ < next) chunks.push(-1);\n              break;\n            }\n          case 10:\n            {\n              chunks.push(-4);\n              column = 1;\n              break;\n            }\n          default:\n            {\n              atCarriageReturn = true;\n              column = 1;\n            }\n        }\n      }\n      startPosition = endPosition + 1;\n    }\n    if (end) {\n      if (atCarriageReturn) chunks.push(-5);\n      if (buffer) chunks.push(buffer);\n      chunks.push(null);\n    }\n    return chunks;\n  }\n}","/**\n * Turn the number (in string form as either hexa- or plain decimal) coming from\n * a numeric character reference into a character.\n *\n * Sort of like `String.fromCharCode(Number.parseInt(value, base))`, but makes\n * non-characters and control characters safe.\n *\n * @param {string} value\n *   Value to decode.\n * @param {number} base\n *   Numeric base.\n * @returns {string}\n *   Character.\n */\nexport function decodeNumericCharacterReference(value, base) {\n  const code = Number.parseInt(value, base);\n  if (\n  // C0 except for HT, LF, FF, CR, space.\n  code < 9 || code === 11 || code > 13 && code < 32 ||\n  // Control character (DEL) of C0, and C1 controls.\n  code > 126 && code < 160 ||\n  // Lone high surrogates and low surrogates.\n  code > 55295 && code < 57344 ||\n  // Noncharacters.\n  code > 64975 && code < 65008 /* eslint-disable no-bitwise */ || (code & 65535) === 65535 || (code & 65535) === 65534 /* eslint-enable no-bitwise */ ||\n  // Out of range\n  code > 1114111) {\n    return '\\uFFFD';\n  }\n  return String.fromCharCode(code);\n}","import { decodeNamedCharacterReference } from 'decode-named-character-reference';\nimport { decodeNumericCharacterReference } from 'micromark-util-decode-numeric-character-reference';\nconst characterEscapeOrReference = /\\\\([!-/:-@[-`{-~])|&(#(?:\\d{1,7}|x[\\da-f]{1,6})|[\\da-z]{1,31});/gi;\n\n/**\n * Decode markdown strings (which occur in places such as fenced code info\n * strings, destinations, labels, and titles).\n *\n * The “string” content type allows character escapes and -references.\n * This decodes those.\n *\n * @param {string} value\n *   Value to decode.\n * @returns {string}\n *   Decoded value.\n */\nexport function decodeString(value) {\n  return value.replace(characterEscapeOrReference, decode);\n}\n\n/**\n * @param {string} $0\n * @param {string} $1\n * @param {string} $2\n * @returns {string}\n */\nfunction decode($0, $1, $2) {\n  if ($1) {\n    // Escape.\n    return $1;\n  }\n\n  // Reference.\n  const head = $2.charCodeAt(0);\n  if (head === 35) {\n    const head = $2.charCodeAt(1);\n    const hex = head === 120 || head === 88;\n    return decodeNumericCharacterReference($2.slice(hex ? 2 : 1), hex ? 16 : 10);\n  }\n  return decodeNamedCharacterReference($2) || $0;\n}","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Point} Point\n * @typedef {import('unist').Position} Position\n */\n\n/**\n * @typedef NodeLike\n * @property {string} type\n * @property {PositionLike | null | undefined} [position]\n *\n * @typedef PositionLike\n * @property {PointLike | null | undefined} [start]\n * @property {PointLike | null | undefined} [end]\n *\n * @typedef PointLike\n * @property {number | null | undefined} [line]\n * @property {number | null | undefined} [column]\n * @property {number | null | undefined} [offset]\n */\n\n/**\n * Serialize the positional info of a point, position (start and end points),\n * or node.\n *\n * @param {Node | NodeLike | Position | PositionLike | Point | PointLike | null | undefined} [value]\n *   Node, position, or point.\n * @returns {string}\n *   Pretty printed positional info of a node (`string`).\n *\n *   In the format of a range `ls:cs-le:ce` (when given `node` or `position`)\n *   or a point `l:c` (when given `point`), where `l` stands for line, `c` for\n *   column, `s` for `start`, and `e` for end.\n *   An empty string (`''`) is returned if the given value is neither `node`,\n *   `position`, nor `point`.\n */\nexport function stringifyPosition(value) {\n  // Nothing.\n  if (!value || typeof value !== 'object') {\n    return '';\n  }\n\n  // Node.\n  if ('position' in value || 'type' in value) {\n    return position(value.position);\n  }\n\n  // Position.\n  if ('start' in value || 'end' in value) {\n    return position(value);\n  }\n\n  // Point.\n  if ('line' in value || 'column' in value) {\n    return point(value);\n  }\n\n  // ?\n  return '';\n}\n\n/**\n * @param {Point | PointLike | null | undefined} point\n * @returns {string}\n */\nfunction point(point) {\n  return index(point && point.line) + ':' + index(point && point.column);\n}\n\n/**\n * @param {Position | PositionLike | null | undefined} pos\n * @returns {string}\n */\nfunction position(pos) {\n  return point(pos && pos.start) + '-' + point(pos && pos.end);\n}\n\n/**\n * @param {number | null | undefined} value\n * @returns {number}\n */\nfunction index(value) {\n  return value && typeof value === 'number' ? value : 1;\n}","/**\n * @typedef {import('micromark-util-types').Encoding} Encoding\n * @typedef {import('micromark-util-types').Event} Event\n * @typedef {import('micromark-util-types').ParseOptions} ParseOptions\n * @typedef {import('micromark-util-types').Token} Token\n * @typedef {import('micromark-util-types').TokenizeContext} TokenizeContext\n * @typedef {import('micromark-util-types').Value} Value\n *\n * @typedef {import('unist').Parent} UnistParent\n * @typedef {import('unist').Point} Point\n *\n * @typedef {import('mdast').PhrasingContent} PhrasingContent\n * @typedef {import('mdast').StaticPhrasingContent} StaticPhrasingContent\n * @typedef {import('mdast').Content} Content\n * @typedef {import('mdast').Break} Break\n * @typedef {import('mdast').Blockquote} Blockquote\n * @typedef {import('mdast').Code} Code\n * @typedef {import('mdast').Definition} Definition\n * @typedef {import('mdast').Emphasis} Emphasis\n * @typedef {import('mdast').Heading} Heading\n * @typedef {import('mdast').HTML} HTML\n * @typedef {import('mdast').Image} Image\n * @typedef {import('mdast').ImageReference} ImageReference\n * @typedef {import('mdast').InlineCode} InlineCode\n * @typedef {import('mdast').Link} Link\n * @typedef {import('mdast').LinkReference} LinkReference\n * @typedef {import('mdast').List} List\n * @typedef {import('mdast').ListItem} ListItem\n * @typedef {import('mdast').Paragraph} Paragraph\n * @typedef {import('mdast').Root} Root\n * @typedef {import('mdast').Strong} Strong\n * @typedef {import('mdast').Text} Text\n * @typedef {import('mdast').ThematicBreak} ThematicBreak\n * @typedef {import('mdast').ReferenceType} ReferenceType\n * @typedef {import('../index.js').CompileData} CompileData\n */\n\n/**\n * @typedef {Root | Content} Node\n * @typedef {Extract<Node, UnistParent>} Parent\n *\n * @typedef {Omit<UnistParent, 'type' | 'children'> & {type: 'fragment', children: Array<PhrasingContent>}} Fragment\n */\n\n/**\n * @callback Transform\n *   Extra transform, to change the AST afterwards.\n * @param {Root} tree\n *   Tree to transform.\n * @returns {Root | undefined | null | void}\n *   New tree or nothing (in which case the current tree is used).\n *\n * @callback Handle\n *   Handle a token.\n * @param {CompileContext} this\n *   Context.\n * @param {Token} token\n *   Current token.\n * @returns {void}\n *   Nothing.\n *\n * @typedef {Record<string, Handle>} Handles\n *   Token types mapping to handles\n *\n * @callback OnEnterError\n *   Handle the case where the `right` token is open, but it is closed (by the\n *   `left` token) or because we reached the end of the document.\n * @param {Omit<CompileContext, 'sliceSerialize'>} this\n *   Context.\n * @param {Token | undefined} left\n *   Left token.\n * @param {Token} right\n *   Right token.\n * @returns {void}\n *   Nothing.\n *\n * @callback OnExitError\n *   Handle the case where the `right` token is open but it is closed by\n *   exiting the `left` token.\n * @param {Omit<CompileContext, 'sliceSerialize'>} this\n *   Context.\n * @param {Token} left\n *   Left token.\n * @param {Token} right\n *   Right token.\n * @returns {void}\n *   Nothing.\n *\n * @typedef {[Token, OnEnterError | undefined]} TokenTuple\n *   Open token on the stack, with an optional error handler for when\n *   that token isn’t closed properly.\n */\n\n/**\n * @typedef Config\n *   Configuration.\n *\n *   We have our defaults, but extensions will add more.\n * @property {Array<string>} canContainEols\n *   Token types where line endings are used.\n * @property {Handles} enter\n *   Opening handles.\n * @property {Handles} exit\n *   Closing handles.\n * @property {Array<Transform>} transforms\n *   Tree transforms.\n *\n * @typedef {Partial<Config>} Extension\n *   Change how markdown tokens from micromark are turned into mdast.\n *\n * @typedef CompileContext\n *   mdast compiler context.\n * @property {Array<Node | Fragment>} stack\n *   Stack of nodes.\n * @property {Array<TokenTuple>} tokenStack\n *   Stack of tokens.\n * @property {<Key extends keyof CompileData>(key: Key) => CompileData[Key]} getData\n *   Get data from the key/value store.\n * @property {<Key extends keyof CompileData>(key: Key, value?: CompileData[Key]) => void} setData\n *   Set data into the key/value store.\n * @property {(this: CompileContext) => void} buffer\n *   Capture some of the output data.\n * @property {(this: CompileContext) => string} resume\n *   Stop capturing and access the output data.\n * @property {<Kind extends Node>(this: CompileContext, node: Kind, token: Token, onError?: OnEnterError) => Kind} enter\n *   Enter a token.\n * @property {(this: CompileContext, token: Token, onError?: OnExitError) => Node} exit\n *   Exit a token.\n * @property {TokenizeContext['sliceSerialize']} sliceSerialize\n *   Get the string value of a token.\n * @property {Config} config\n *   Configuration.\n *\n * @typedef FromMarkdownOptions\n *   Configuration for how to build mdast.\n * @property {Array<Extension | Array<Extension>> | null | undefined} [mdastExtensions]\n *   Extensions for this utility to change how tokens are turned into a tree.\n *\n * @typedef {ParseOptions & FromMarkdownOptions} Options\n *   Configuration.\n */\n\n// To do: micromark: create a registry of tokens?\n// To do: next major: don’t return given `Node` from `enter`.\n// To do: next major: remove setter/getter.\n\nimport { toString } from 'mdast-util-to-string';\nimport { parse } from 'micromark/lib/parse.js';\nimport { preprocess } from 'micromark/lib/preprocess.js';\nimport { postprocess } from 'micromark/lib/postprocess.js';\nimport { decodeNumericCharacterReference } from 'micromark-util-decode-numeric-character-reference';\nimport { decodeString } from 'micromark-util-decode-string';\nimport { normalizeIdentifier } from 'micromark-util-normalize-identifier';\nimport { decodeNamedCharacterReference } from 'decode-named-character-reference';\nimport { stringifyPosition } from 'unist-util-stringify-position';\nconst own = {}.hasOwnProperty;\n\n/**\n * @param value\n *   Markdown to parse.\n * @param encoding\n *   Character encoding for when `value` is `Buffer`.\n * @param options\n *   Configuration.\n * @returns\n *   mdast tree.\n */\nexport const fromMarkdown =\n/**\n * @type {(\n *   ((value: Value, encoding: Encoding, options?: Options | null | undefined) => Root) &\n *   ((value: Value, options?: Options | null | undefined) => Root)\n * )}\n */\n\n/**\n * @param {Value} value\n * @param {Encoding | Options | null | undefined} [encoding]\n * @param {Options | null | undefined} [options]\n * @returns {Root}\n */\nfunction (value, encoding, options) {\n  if (typeof encoding !== 'string') {\n    options = encoding;\n    encoding = undefined;\n  }\n  return compiler(options)(postprocess(parse(options).document().write(preprocess()(value, encoding, true))));\n};\n\n/**\n * Note this compiler only understand complete buffering, not streaming.\n *\n * @param {Options | null | undefined} [options]\n */\nfunction compiler(options) {\n  /** @type {Config} */\n  const config = {\n    transforms: [],\n    canContainEols: ['emphasis', 'fragment', 'heading', 'paragraph', 'strong'],\n    enter: {\n      autolink: opener(link),\n      autolinkProtocol: onenterdata,\n      autolinkEmail: onenterdata,\n      atxHeading: opener(heading),\n      blockQuote: opener(blockQuote),\n      characterEscape: onenterdata,\n      characterReference: onenterdata,\n      codeFenced: opener(codeFlow),\n      codeFencedFenceInfo: buffer,\n      codeFencedFenceMeta: buffer,\n      codeIndented: opener(codeFlow, buffer),\n      codeText: opener(codeText, buffer),\n      codeTextData: onenterdata,\n      data: onenterdata,\n      codeFlowValue: onenterdata,\n      definition: opener(definition),\n      definitionDestinationString: buffer,\n      definitionLabelString: buffer,\n      definitionTitleString: buffer,\n      emphasis: opener(emphasis),\n      hardBreakEscape: opener(hardBreak),\n      hardBreakTrailing: opener(hardBreak),\n      htmlFlow: opener(html, buffer),\n      htmlFlowData: onenterdata,\n      htmlText: opener(html, buffer),\n      htmlTextData: onenterdata,\n      image: opener(image),\n      label: buffer,\n      link: opener(link),\n      listItem: opener(listItem),\n      listItemValue: onenterlistitemvalue,\n      listOrdered: opener(list, onenterlistordered),\n      listUnordered: opener(list),\n      paragraph: opener(paragraph),\n      reference: onenterreference,\n      referenceString: buffer,\n      resourceDestinationString: buffer,\n      resourceTitleString: buffer,\n      setextHeading: opener(heading),\n      strong: opener(strong),\n      thematicBreak: opener(thematicBreak)\n    },\n    exit: {\n      atxHeading: closer(),\n      atxHeadingSequence: onexitatxheadingsequence,\n      autolink: closer(),\n      autolinkEmail: onexitautolinkemail,\n      autolinkProtocol: onexitautolinkprotocol,\n      blockQuote: closer(),\n      characterEscapeValue: onexitdata,\n      characterReferenceMarkerHexadecimal: onexitcharacterreferencemarker,\n      characterReferenceMarkerNumeric: onexitcharacterreferencemarker,\n      characterReferenceValue: onexitcharacterreferencevalue,\n      codeFenced: closer(onexitcodefenced),\n      codeFencedFence: onexitcodefencedfence,\n      codeFencedFenceInfo: onexitcodefencedfenceinfo,\n      codeFencedFenceMeta: onexitcodefencedfencemeta,\n      codeFlowValue: onexitdata,\n      codeIndented: closer(onexitcodeindented),\n      codeText: closer(onexitcodetext),\n      codeTextData: onexitdata,\n      data: onexitdata,\n      definition: closer(),\n      definitionDestinationString: onexitdefinitiondestinationstring,\n      definitionLabelString: onexitdefinitionlabelstring,\n      definitionTitleString: onexitdefinitiontitlestring,\n      emphasis: closer(),\n      hardBreakEscape: closer(onexithardbreak),\n      hardBreakTrailing: closer(onexithardbreak),\n      htmlFlow: closer(onexithtmlflow),\n      htmlFlowData: onexitdata,\n      htmlText: closer(onexithtmltext),\n      htmlTextData: onexitdata,\n      image: closer(onexitimage),\n      label: onexitlabel,\n      labelText: onexitlabeltext,\n      lineEnding: onexitlineending,\n      link: closer(onexitlink),\n      listItem: closer(),\n      listOrdered: closer(),\n      listUnordered: closer(),\n      paragraph: closer(),\n      referenceString: onexitreferencestring,\n      resourceDestinationString: onexitresourcedestinationstring,\n      resourceTitleString: onexitresourcetitlestring,\n      resource: onexitresource,\n      setextHeading: closer(onexitsetextheading),\n      setextHeadingLineSequence: onexitsetextheadinglinesequence,\n      setextHeadingText: onexitsetextheadingtext,\n      strong: closer(),\n      thematicBreak: closer()\n    }\n  };\n  configure(config, (options || {}).mdastExtensions || []);\n\n  /** @type {CompileData} */\n  const data = {};\n  return compile;\n\n  /**\n   * Turn micromark events into an mdast tree.\n   *\n   * @param {Array<Event>} events\n   *   Events.\n   * @returns {Root}\n   *   mdast tree.\n   */\n  function compile(events) {\n    /** @type {Root} */\n    let tree = {\n      type: 'root',\n      children: []\n    };\n    /** @type {Omit<CompileContext, 'sliceSerialize'>} */\n    const context = {\n      stack: [tree],\n      tokenStack: [],\n      config,\n      enter,\n      exit,\n      buffer,\n      resume,\n      setData,\n      getData\n    };\n    /** @type {Array<number>} */\n    const listStack = [];\n    let index = -1;\n    while (++index < events.length) {\n      // We preprocess lists to add `listItem` tokens, and to infer whether\n      // items the list itself are spread out.\n      if (events[index][1].type === 'listOrdered' || events[index][1].type === 'listUnordered') {\n        if (events[index][0] === 'enter') {\n          listStack.push(index);\n        } else {\n          const tail = listStack.pop();\n          index = prepareList(events, tail, index);\n        }\n      }\n    }\n    index = -1;\n    while (++index < events.length) {\n      const handler = config[events[index][0]];\n      if (own.call(handler, events[index][1].type)) {\n        handler[events[index][1].type].call(Object.assign({\n          sliceSerialize: events[index][2].sliceSerialize\n        }, context), events[index][1]);\n      }\n    }\n\n    // Handle tokens still being open.\n    if (context.tokenStack.length > 0) {\n      const tail = context.tokenStack[context.tokenStack.length - 1];\n      const handler = tail[1] || defaultOnError;\n      handler.call(context, undefined, tail[0]);\n    }\n\n    // Figure out `root` position.\n    tree.position = {\n      start: point(events.length > 0 ? events[0][1].start : {\n        line: 1,\n        column: 1,\n        offset: 0\n      }),\n      end: point(events.length > 0 ? events[events.length - 2][1].end : {\n        line: 1,\n        column: 1,\n        offset: 0\n      })\n    };\n\n    // Call transforms.\n    index = -1;\n    while (++index < config.transforms.length) {\n      tree = config.transforms[index](tree) || tree;\n    }\n    return tree;\n  }\n\n  /**\n   * @param {Array<Event>} events\n   * @param {number} start\n   * @param {number} length\n   * @returns {number}\n   */\n  function prepareList(events, start, length) {\n    let index = start - 1;\n    let containerBalance = -1;\n    let listSpread = false;\n    /** @type {Token | undefined} */\n    let listItem;\n    /** @type {number | undefined} */\n    let lineIndex;\n    /** @type {number | undefined} */\n    let firstBlankLineIndex;\n    /** @type {boolean | undefined} */\n    let atMarker;\n    while (++index <= length) {\n      const event = events[index];\n      if (event[1].type === 'listUnordered' || event[1].type === 'listOrdered' || event[1].type === 'blockQuote') {\n        if (event[0] === 'enter') {\n          containerBalance++;\n        } else {\n          containerBalance--;\n        }\n        atMarker = undefined;\n      } else if (event[1].type === 'lineEndingBlank') {\n        if (event[0] === 'enter') {\n          if (listItem && !atMarker && !containerBalance && !firstBlankLineIndex) {\n            firstBlankLineIndex = index;\n          }\n          atMarker = undefined;\n        }\n      } else if (event[1].type === 'linePrefix' || event[1].type === 'listItemValue' || event[1].type === 'listItemMarker' || event[1].type === 'listItemPrefix' || event[1].type === 'listItemPrefixWhitespace') {\n        // Empty.\n      } else {\n        atMarker = undefined;\n      }\n      if (!containerBalance && event[0] === 'enter' && event[1].type === 'listItemPrefix' || containerBalance === -1 && event[0] === 'exit' && (event[1].type === 'listUnordered' || event[1].type === 'listOrdered')) {\n        if (listItem) {\n          let tailIndex = index;\n          lineIndex = undefined;\n          while (tailIndex--) {\n            const tailEvent = events[tailIndex];\n            if (tailEvent[1].type === 'lineEnding' || tailEvent[1].type === 'lineEndingBlank') {\n              if (tailEvent[0] === 'exit') continue;\n              if (lineIndex) {\n                events[lineIndex][1].type = 'lineEndingBlank';\n                listSpread = true;\n              }\n              tailEvent[1].type = 'lineEnding';\n              lineIndex = tailIndex;\n            } else if (tailEvent[1].type === 'linePrefix' || tailEvent[1].type === 'blockQuotePrefix' || tailEvent[1].type === 'blockQuotePrefixWhitespace' || tailEvent[1].type === 'blockQuoteMarker' || tailEvent[1].type === 'listItemIndent') {\n              // Empty\n            } else {\n              break;\n            }\n          }\n          if (firstBlankLineIndex && (!lineIndex || firstBlankLineIndex < lineIndex)) {\n            listItem._spread = true;\n          }\n\n          // Fix position.\n          listItem.end = Object.assign({}, lineIndex ? events[lineIndex][1].start : event[1].end);\n          events.splice(lineIndex || index, 0, ['exit', listItem, event[2]]);\n          index++;\n          length++;\n        }\n\n        // Create a new list item.\n        if (event[1].type === 'listItemPrefix') {\n          listItem = {\n            type: 'listItem',\n            _spread: false,\n            start: Object.assign({}, event[1].start),\n            // @ts-expect-error: we’ll add `end` in a second.\n            end: undefined\n          };\n          // @ts-expect-error: `listItem` is most definitely defined, TS...\n          events.splice(index, 0, ['enter', listItem, event[2]]);\n          index++;\n          length++;\n          firstBlankLineIndex = undefined;\n          atMarker = true;\n        }\n      }\n    }\n    events[start][1]._spread = listSpread;\n    return length;\n  }\n\n  /**\n   * Set data.\n   *\n   * @template {keyof CompileData} Key\n   *   Field type.\n   * @param {Key} key\n   *   Key of field.\n   * @param {CompileData[Key]} [value]\n   *   New value.\n   * @returns {void}\n   *   Nothing.\n   */\n  function setData(key, value) {\n    data[key] = value;\n  }\n\n  /**\n   * Get data.\n   *\n   * @template {keyof CompileData} Key\n   *   Field type.\n   * @param {Key} key\n   *   Key of field.\n   * @returns {CompileData[Key]}\n   *   Value.\n   */\n  function getData(key) {\n    return data[key];\n  }\n\n  /**\n   * Create an opener handle.\n   *\n   * @param {(token: Token) => Node} create\n   *   Create a node.\n   * @param {Handle} [and]\n   *   Optional function to also run.\n   * @returns {Handle}\n   *   Handle.\n   */\n  function opener(create, and) {\n    return open;\n\n    /**\n     * @this {CompileContext}\n     * @param {Token} token\n     * @returns {void}\n     */\n    function open(token) {\n      enter.call(this, create(token), token);\n      if (and) and.call(this, token);\n    }\n  }\n\n  /**\n   * @this {CompileContext}\n   * @returns {void}\n   */\n  function buffer() {\n    this.stack.push({\n      type: 'fragment',\n      children: []\n    });\n  }\n\n  /**\n   * @template {Node} Kind\n   *   Node type.\n   * @this {CompileContext}\n   *   Context.\n   * @param {Kind} node\n   *   Node to enter.\n   * @param {Token} token\n   *   Corresponding token.\n   * @param {OnEnterError | undefined} [errorHandler]\n   *   Handle the case where this token is open, but it is closed by something else.\n   * @returns {Kind}\n   *   The given node.\n   */\n  function enter(node, token, errorHandler) {\n    const parent = this.stack[this.stack.length - 1];\n    // @ts-expect-error: Assume `Node` can exist as a child of `parent`.\n    parent.children.push(node);\n    this.stack.push(node);\n    this.tokenStack.push([token, errorHandler]);\n    // @ts-expect-error: `end` will be patched later.\n    node.position = {\n      start: point(token.start)\n    };\n    return node;\n  }\n\n  /**\n   * Create a closer handle.\n   *\n   * @param {Handle} [and]\n   *   Optional function to also run.\n   * @returns {Handle}\n   *   Handle.\n   */\n  function closer(and) {\n    return close;\n\n    /**\n     * @this {CompileContext}\n     * @param {Token} token\n     * @returns {void}\n     */\n    function close(token) {\n      if (and) and.call(this, token);\n      exit.call(this, token);\n    }\n  }\n\n  /**\n   * @this {CompileContext}\n   *   Context.\n   * @param {Token} token\n   *   Corresponding token.\n   * @param {OnExitError | undefined} [onExitError]\n   *   Handle the case where another token is open.\n   * @returns {Node}\n   *   The closed node.\n   */\n  function exit(token, onExitError) {\n    const node = this.stack.pop();\n    const open = this.tokenStack.pop();\n    if (!open) {\n      throw new Error('Cannot close `' + token.type + '` (' + stringifyPosition({\n        start: token.start,\n        end: token.end\n      }) + '): it’s not open');\n    } else if (open[0].type !== token.type) {\n      if (onExitError) {\n        onExitError.call(this, token, open[0]);\n      } else {\n        const handler = open[1] || defaultOnError;\n        handler.call(this, token, open[0]);\n      }\n    }\n    node.position.end = point(token.end);\n    return node;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @returns {string}\n   */\n  function resume() {\n    return toString(this.stack.pop());\n  }\n\n  //\n  // Handlers.\n  //\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onenterlistordered() {\n    setData('expectingFirstListItemValue', true);\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onenterlistitemvalue(token) {\n    if (getData('expectingFirstListItemValue')) {\n      const ancestor = this.stack[this.stack.length - 2];\n      ancestor.start = Number.parseInt(this.sliceSerialize(token), 10);\n      setData('expectingFirstListItemValue');\n    }\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitcodefencedfenceinfo() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.lang = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitcodefencedfencemeta() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.meta = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitcodefencedfence() {\n    // Exit if this is the closing fence.\n    if (getData('flowCodeInside')) return;\n    this.buffer();\n    setData('flowCodeInside', true);\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitcodefenced() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.value = data.replace(/^(\\r?\\n|\\r)|(\\r?\\n|\\r)$/g, '');\n    setData('flowCodeInside');\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitcodeindented() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.value = data.replace(/(\\r?\\n|\\r)$/g, '');\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitdefinitionlabelstring(token) {\n    const label = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.label = label;\n    node.identifier = normalizeIdentifier(this.sliceSerialize(token)).toLowerCase();\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitdefinitiontitlestring() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.title = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitdefinitiondestinationstring() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.url = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitatxheadingsequence(token) {\n    const node = this.stack[this.stack.length - 1];\n    if (!node.depth) {\n      const depth = this.sliceSerialize(token).length;\n      node.depth = depth;\n    }\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitsetextheadingtext() {\n    setData('setextHeadingSlurpLineEnding', true);\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitsetextheadinglinesequence(token) {\n    const node = this.stack[this.stack.length - 1];\n    node.depth = this.sliceSerialize(token).charCodeAt(0) === 61 ? 1 : 2;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitsetextheading() {\n    setData('setextHeadingSlurpLineEnding');\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onenterdata(token) {\n    const node = this.stack[this.stack.length - 1];\n    let tail = node.children[node.children.length - 1];\n    if (!tail || tail.type !== 'text') {\n      // Add a new text node.\n      tail = text();\n      // @ts-expect-error: we’ll add `end` later.\n      tail.position = {\n        start: point(token.start)\n      };\n      // @ts-expect-error: Assume `parent` accepts `text`.\n      node.children.push(tail);\n    }\n    this.stack.push(tail);\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitdata(token) {\n    const tail = this.stack.pop();\n    tail.value += this.sliceSerialize(token);\n    tail.position.end = point(token.end);\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitlineending(token) {\n    const context = this.stack[this.stack.length - 1];\n    // If we’re at a hard break, include the line ending in there.\n    if (getData('atHardBreak')) {\n      const tail = context.children[context.children.length - 1];\n      tail.position.end = point(token.end);\n      setData('atHardBreak');\n      return;\n    }\n    if (!getData('setextHeadingSlurpLineEnding') && config.canContainEols.includes(context.type)) {\n      onenterdata.call(this, token);\n      onexitdata.call(this, token);\n    }\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexithardbreak() {\n    setData('atHardBreak', true);\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexithtmlflow() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.value = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexithtmltext() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.value = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitcodetext() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.value = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitlink() {\n    const node = this.stack[this.stack.length - 1];\n    // Note: there are also `identifier` and `label` fields on this link node!\n    // These are used / cleaned here.\n    // To do: clean.\n    if (getData('inReference')) {\n      /** @type {ReferenceType} */\n      const referenceType = getData('referenceType') || 'shortcut';\n      node.type += 'Reference';\n      // @ts-expect-error: mutate.\n      node.referenceType = referenceType;\n      // @ts-expect-error: mutate.\n      delete node.url;\n      delete node.title;\n    } else {\n      // @ts-expect-error: mutate.\n      delete node.identifier;\n      // @ts-expect-error: mutate.\n      delete node.label;\n    }\n    setData('referenceType');\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitimage() {\n    const node = this.stack[this.stack.length - 1];\n    // Note: there are also `identifier` and `label` fields on this link node!\n    // These are used / cleaned here.\n    // To do: clean.\n    if (getData('inReference')) {\n      /** @type {ReferenceType} */\n      const referenceType = getData('referenceType') || 'shortcut';\n      node.type += 'Reference';\n      // @ts-expect-error: mutate.\n      node.referenceType = referenceType;\n      // @ts-expect-error: mutate.\n      delete node.url;\n      delete node.title;\n    } else {\n      // @ts-expect-error: mutate.\n      delete node.identifier;\n      // @ts-expect-error: mutate.\n      delete node.label;\n    }\n    setData('referenceType');\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitlabeltext(token) {\n    const string = this.sliceSerialize(token);\n    const ancestor = this.stack[this.stack.length - 2];\n    // @ts-expect-error: stash this on the node, as it might become a reference\n    // later.\n    ancestor.label = decodeString(string);\n    // @ts-expect-error: same as above.\n    ancestor.identifier = normalizeIdentifier(string).toLowerCase();\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitlabel() {\n    const fragment = this.stack[this.stack.length - 1];\n    const value = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    // Assume a reference.\n    setData('inReference', true);\n    if (node.type === 'link') {\n      /** @type {Array<StaticPhrasingContent>} */\n      // @ts-expect-error: Assume static phrasing content.\n      const children = fragment.children;\n      node.children = children;\n    } else {\n      node.alt = value;\n    }\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitresourcedestinationstring() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.url = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitresourcetitlestring() {\n    const data = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    node.title = data;\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitresource() {\n    setData('inReference');\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onenterreference() {\n    setData('referenceType', 'collapsed');\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitreferencestring(token) {\n    const label = this.resume();\n    const node = this.stack[this.stack.length - 1];\n    // @ts-expect-error: stash this on the node, as it might become a reference\n    // later.\n    node.label = label;\n    // @ts-expect-error: same as above.\n    node.identifier = normalizeIdentifier(this.sliceSerialize(token)).toLowerCase();\n    setData('referenceType', 'full');\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n\n  function onexitcharacterreferencemarker(token) {\n    setData('characterReferenceType', token.type);\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitcharacterreferencevalue(token) {\n    const data = this.sliceSerialize(token);\n    const type = getData('characterReferenceType');\n    /** @type {string} */\n    let value;\n    if (type) {\n      value = decodeNumericCharacterReference(data, type === 'characterReferenceMarkerNumeric' ? 10 : 16);\n      setData('characterReferenceType');\n    } else {\n      const result = decodeNamedCharacterReference(data);\n      value = result;\n    }\n    const tail = this.stack.pop();\n    tail.value += value;\n    tail.position.end = point(token.end);\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitautolinkprotocol(token) {\n    onexitdata.call(this, token);\n    const node = this.stack[this.stack.length - 1];\n    node.url = this.sliceSerialize(token);\n  }\n\n  /**\n   * @this {CompileContext}\n   * @type {Handle}\n   */\n  function onexitautolinkemail(token) {\n    onexitdata.call(this, token);\n    const node = this.stack[this.stack.length - 1];\n    node.url = 'mailto:' + this.sliceSerialize(token);\n  }\n\n  //\n  // Creaters.\n  //\n\n  /** @returns {Blockquote} */\n  function blockQuote() {\n    return {\n      type: 'blockquote',\n      children: []\n    };\n  }\n\n  /** @returns {Code} */\n  function codeFlow() {\n    return {\n      type: 'code',\n      lang: null,\n      meta: null,\n      value: ''\n    };\n  }\n\n  /** @returns {InlineCode} */\n  function codeText() {\n    return {\n      type: 'inlineCode',\n      value: ''\n    };\n  }\n\n  /** @returns {Definition} */\n  function definition() {\n    return {\n      type: 'definition',\n      identifier: '',\n      label: null,\n      title: null,\n      url: ''\n    };\n  }\n\n  /** @returns {Emphasis} */\n  function emphasis() {\n    return {\n      type: 'emphasis',\n      children: []\n    };\n  }\n\n  /** @returns {Heading} */\n  function heading() {\n    // @ts-expect-error `depth` will be set later.\n    return {\n      type: 'heading',\n      depth: undefined,\n      children: []\n    };\n  }\n\n  /** @returns {Break} */\n  function hardBreak() {\n    return {\n      type: 'break'\n    };\n  }\n\n  /** @returns {HTML} */\n  function html() {\n    return {\n      type: 'html',\n      value: ''\n    };\n  }\n\n  /** @returns {Image} */\n  function image() {\n    return {\n      type: 'image',\n      title: null,\n      url: '',\n      alt: null\n    };\n  }\n\n  /** @returns {Link} */\n  function link() {\n    return {\n      type: 'link',\n      title: null,\n      url: '',\n      children: []\n    };\n  }\n\n  /**\n   * @param {Token} token\n   * @returns {List}\n   */\n  function list(token) {\n    return {\n      type: 'list',\n      ordered: token.type === 'listOrdered',\n      start: null,\n      spread: token._spread,\n      children: []\n    };\n  }\n\n  /**\n   * @param {Token} token\n   * @returns {ListItem}\n   */\n  function listItem(token) {\n    return {\n      type: 'listItem',\n      spread: token._spread,\n      checked: null,\n      children: []\n    };\n  }\n\n  /** @returns {Paragraph} */\n  function paragraph() {\n    return {\n      type: 'paragraph',\n      children: []\n    };\n  }\n\n  /** @returns {Strong} */\n  function strong() {\n    return {\n      type: 'strong',\n      children: []\n    };\n  }\n\n  /** @returns {Text} */\n  function text() {\n    return {\n      type: 'text',\n      value: ''\n    };\n  }\n\n  /** @returns {ThematicBreak} */\n  function thematicBreak() {\n    return {\n      type: 'thematicBreak'\n    };\n  }\n}\n\n/**\n * Copy a point-like value.\n *\n * @param {Point} d\n *   Point-like value.\n * @returns {Point}\n *   unist point.\n */\nfunction point(d) {\n  return {\n    line: d.line,\n    column: d.column,\n    offset: d.offset\n  };\n}\n\n/**\n * @param {Config} combined\n * @param {Array<Extension | Array<Extension>>} extensions\n * @returns {void}\n */\nfunction configure(combined, extensions) {\n  let index = -1;\n  while (++index < extensions.length) {\n    const value = extensions[index];\n    if (Array.isArray(value)) {\n      configure(combined, value);\n    } else {\n      extension(combined, value);\n    }\n  }\n}\n\n/**\n * @param {Config} combined\n * @param {Extension} extension\n * @returns {void}\n */\nfunction extension(combined, extension) {\n  /** @type {keyof Extension} */\n  let key;\n  for (key in extension) {\n    if (own.call(extension, key)) {\n      if (key === 'canContainEols') {\n        const right = extension[key];\n        if (right) {\n          combined[key].push(...right);\n        }\n      } else if (key === 'transforms') {\n        const right = extension[key];\n        if (right) {\n          combined[key].push(...right);\n        }\n      } else if (key === 'enter' || key === 'exit') {\n        const right = extension[key];\n        if (right) {\n          Object.assign(combined[key], right);\n        }\n      }\n    }\n  }\n}\n\n/** @type {OnEnterError} */\nfunction defaultOnError(left, right) {\n  if (left) {\n    throw new Error('Cannot close `' + left.type + '` (' + stringifyPosition({\n      start: left.start,\n      end: left.end\n    }) + '): a different token (`' + right.type + '`, ' + stringifyPosition({\n      start: right.start,\n      end: right.end\n    }) + ') is open');\n  } else {\n    throw new Error('Cannot close document, a token (`' + right.type + '`, ' + stringifyPosition({\n      start: right.start,\n      end: right.end\n    }) + ') is still open');\n  }\n}","/**\n * @typedef {import('micromark-util-types').Event} Event\n */\n\nimport { subtokenize } from 'micromark-util-subtokenize';\n\n/**\n * @param {Array<Event>} events\n * @returns {Array<Event>}\n */\nexport function postprocess(events) {\n  while (!subtokenize(events)) {\n    // Empty\n  }\n  return events;\n}","import { l as log, M as decodeEntities } from \"./mermaid-b5860b54.js\";\nimport { fromMarkdown } from \"mdast-util-from-markdown\";\nimport { dedent } from \"ts-dedent\";\nfunction preprocessMarkdown(markdown) {\n  const withoutMultipleNewlines = markdown.replace(/\\n{2,}/g, \"\\n\");\n  const withoutExtraSpaces = dedent(withoutMultipleNewlines);\n  return withoutExtraSpaces;\n}\nfunction markdownToLines(markdown) {\n  const preprocessedMarkdown = preprocessMarkdown(markdown);\n  const {\n    children\n  } = fromMarkdown(preprocessedMarkdown);\n  const lines = [[]];\n  let currentLine = 0;\n  function processNode(node) {\n    let parentType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"normal\";\n    if (node.type === \"text\") {\n      const textLines = node.value.split(\"\\n\");\n      textLines.forEach((textLine, index) => {\n        if (index !== 0) {\n          currentLine++;\n          lines.push([]);\n        }\n        textLine.split(\" \").forEach(word => {\n          if (word) {\n            lines[currentLine].push({\n              content: word,\n              type: parentType\n            });\n          }\n        });\n      });\n    } else if (node.type === \"strong\" || node.type === \"emphasis\") {\n      node.children.forEach(contentNode => {\n        processNode(contentNode, node.type);\n      });\n    }\n  }\n  children.forEach(treeNode => {\n    if (treeNode.type === \"paragraph\") {\n      treeNode.children.forEach(contentNode => {\n        processNode(contentNode);\n      });\n    }\n  });\n  return lines;\n}\nfunction markdownToHTML(markdown) {\n  const {\n    children\n  } = fromMarkdown(markdown);\n  function output(node) {\n    if (node.type === \"text\") {\n      return node.value.replace(/\\n/g, \"<br/>\");\n    } else if (node.type === \"strong\") {\n      return `<strong>${node.children.map(output).join(\"\")}</strong>`;\n    } else if (node.type === \"emphasis\") {\n      return `<em>${node.children.map(output).join(\"\")}</em>`;\n    } else if (node.type === \"paragraph\") {\n      return `<p>${node.children.map(output).join(\"\")}</p>`;\n    }\n    return `Unsupported markdown: ${node.type}`;\n  }\n  return children.map(output).join(\"\");\n}\nfunction splitTextToChars(text) {\n  if (Intl.Segmenter) {\n    return [...new Intl.Segmenter().segment(text)].map(s => s.segment);\n  }\n  return [...text];\n}\nfunction splitWordToFitWidth(checkFit, word) {\n  const characters = splitTextToChars(word.content);\n  return splitWordToFitWidthRecursion(checkFit, [], characters, word.type);\n}\nfunction splitWordToFitWidthRecursion(checkFit, usedChars, remainingChars, type) {\n  if (remainingChars.length === 0) {\n    return [{\n      content: usedChars.join(\"\"),\n      type\n    }, {\n      content: \"\",\n      type\n    }];\n  }\n  const [nextChar, ...rest] = remainingChars;\n  const newWord = [...usedChars, nextChar];\n  if (checkFit([{\n    content: newWord.join(\"\"),\n    type\n  }])) {\n    return splitWordToFitWidthRecursion(checkFit, newWord, rest, type);\n  }\n  if (usedChars.length === 0 && nextChar) {\n    usedChars.push(nextChar);\n    remainingChars.shift();\n  }\n  return [{\n    content: usedChars.join(\"\"),\n    type\n  }, {\n    content: remainingChars.join(\"\"),\n    type\n  }];\n}\nfunction splitLineToFitWidth(line, checkFit) {\n  if (line.some(_ref => {\n    let {\n      content\n    } = _ref;\n    return content.includes(\"\\n\");\n  })) {\n    throw new Error(\"splitLineToFitWidth does not support newlines in the line\");\n  }\n  return splitLineToFitWidthRecursion(line, checkFit);\n}\nfunction splitLineToFitWidthRecursion(words, checkFit) {\n  let lines = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  let newLine = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n  if (words.length === 0) {\n    if (newLine.length > 0) {\n      lines.push(newLine);\n    }\n    return lines.length > 0 ? lines : [];\n  }\n  let joiner = \"\";\n  if (words[0].content === \" \") {\n    joiner = \" \";\n    words.shift();\n  }\n  const nextWord = words.shift() ?? {\n    content: \" \",\n    type: \"normal\"\n  };\n  const lineWithNextWord = [...newLine];\n  if (joiner !== \"\") {\n    lineWithNextWord.push({\n      content: joiner,\n      type: \"normal\"\n    });\n  }\n  lineWithNextWord.push(nextWord);\n  if (checkFit(lineWithNextWord)) {\n    return splitLineToFitWidthRecursion(words, checkFit, lines, lineWithNextWord);\n  }\n  if (newLine.length > 0) {\n    lines.push(newLine);\n    words.unshift(nextWord);\n  } else if (nextWord.content) {\n    const [line, rest] = splitWordToFitWidth(checkFit, nextWord);\n    lines.push([line]);\n    if (rest.content) {\n      words.unshift(rest);\n    }\n  }\n  return splitLineToFitWidthRecursion(words, checkFit, lines);\n}\nfunction applyStyle(dom, styleFn) {\n  if (styleFn) {\n    dom.attr(\"style\", styleFn);\n  }\n}\nfunction addHtmlSpan(element, node, width, classes) {\n  let addBackground = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n  const fo = element.append(\"foreignObject\");\n  const div = fo.append(\"xhtml:div\");\n  const label = node.label;\n  const labelClass = node.isNode ? \"nodeLabel\" : \"edgeLabel\";\n  div.html(`\n    <span class=\"${labelClass} ${classes}\" ` + (node.labelStyle ? 'style=\"' + node.labelStyle + '\"' : \"\") + \">\" + label + \"</span>\");\n  applyStyle(div, node.labelStyle);\n  div.style(\"display\", \"table-cell\");\n  div.style(\"white-space\", \"nowrap\");\n  div.style(\"max-width\", width + \"px\");\n  div.attr(\"xmlns\", \"http://www.w3.org/1999/xhtml\");\n  if (addBackground) {\n    div.attr(\"class\", \"labelBkg\");\n  }\n  let bbox = div.node().getBoundingClientRect();\n  if (bbox.width === width) {\n    div.style(\"display\", \"table\");\n    div.style(\"white-space\", \"break-spaces\");\n    div.style(\"width\", width + \"px\");\n    bbox = div.node().getBoundingClientRect();\n  }\n  fo.style(\"width\", bbox.width);\n  fo.style(\"height\", bbox.height);\n  return fo.node();\n}\nfunction createTspan(textElement, lineIndex, lineHeight) {\n  return textElement.append(\"tspan\").attr(\"class\", \"text-outer-tspan\").attr(\"x\", 0).attr(\"y\", lineIndex * lineHeight - 0.1 + \"em\").attr(\"dy\", lineHeight + \"em\");\n}\nfunction computeWidthOfText(parentNode, lineHeight, line) {\n  const testElement = parentNode.append(\"text\");\n  const testSpan = createTspan(testElement, 1, lineHeight);\n  updateTextContentAndStyles(testSpan, line);\n  const textLength = testSpan.node().getComputedTextLength();\n  testElement.remove();\n  return textLength;\n}\nfunction computeDimensionOfText(parentNode, lineHeight, text) {\n  var _a;\n  const testElement = parentNode.append(\"text\");\n  const testSpan = createTspan(testElement, 1, lineHeight);\n  updateTextContentAndStyles(testSpan, [{\n    content: text,\n    type: \"normal\"\n  }]);\n  const textDimension = (_a = testSpan.node()) == null ? void 0 : _a.getBoundingClientRect();\n  if (textDimension) {\n    testElement.remove();\n  }\n  return textDimension;\n}\nfunction createFormattedText(width, g, structuredText) {\n  let addBackground = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  const lineHeight = 1.1;\n  const labelGroup = g.append(\"g\");\n  const bkg = labelGroup.insert(\"rect\").attr(\"class\", \"background\");\n  const textElement = labelGroup.append(\"text\").attr(\"y\", \"-10.1\");\n  let lineIndex = 0;\n  for (const line of structuredText) {\n    const checkWidth = line2 => computeWidthOfText(labelGroup, lineHeight, line2) <= width;\n    const linesUnderWidth = checkWidth(line) ? [line] : splitLineToFitWidth(line, checkWidth);\n    for (const preparedLine of linesUnderWidth) {\n      const tspan = createTspan(textElement, lineIndex, lineHeight);\n      updateTextContentAndStyles(tspan, preparedLine);\n      lineIndex++;\n    }\n  }\n  if (addBackground) {\n    const bbox = textElement.node().getBBox();\n    const padding = 2;\n    bkg.attr(\"x\", -padding).attr(\"y\", -padding).attr(\"width\", bbox.width + 2 * padding).attr(\"height\", bbox.height + 2 * padding);\n    return labelGroup.node();\n  } else {\n    return textElement.node();\n  }\n}\nfunction updateTextContentAndStyles(tspan, wrappedLine) {\n  tspan.text(\"\");\n  wrappedLine.forEach((word, index) => {\n    const innerTspan = tspan.append(\"tspan\").attr(\"font-style\", word.type === \"emphasis\" ? \"italic\" : \"normal\").attr(\"class\", \"text-inner-tspan\").attr(\"font-weight\", word.type === \"strong\" ? \"bold\" : \"normal\");\n    if (index === 0) {\n      innerTspan.text(word.content);\n    } else {\n      innerTspan.text(\" \" + word.content);\n    }\n  });\n}\nconst createText = function (el) {\n  let text = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n  let {\n    style = \"\",\n    isTitle = false,\n    classes = \"\",\n    useHtmlLabels = true,\n    isNode = true,\n    width = 200,\n    addSvgBackground = false\n  } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  log.info(\"createText\", text, style, isTitle, classes, useHtmlLabels, isNode, addSvgBackground);\n  if (useHtmlLabels) {\n    const htmlText = markdownToHTML(text);\n    const node = {\n      isNode,\n      label: decodeEntities(htmlText).replace(/fa[blrs]?:fa-[\\w-]+/g,\n      // cspell: disable-line\n      s => `<i class='${s.replace(\":\", \" \")}'></i>`),\n      labelStyle: style.replace(\"fill:\", \"color:\")\n    };\n    const vertexNode = addHtmlSpan(el, node, width, classes, addSvgBackground);\n    return vertexNode;\n  } else {\n    const structuredText = markdownToLines(text);\n    const svgLabel = createFormattedText(width, el, structuredText, addSvgBackground);\n    return svgLabel;\n  }\n};\nexport { createText as a, computeDimensionOfText as c };","import isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n  reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' || value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object != null && value in Object(object);\n}\nexport default isKey;","import arrayEach from './_arrayEach.js';\nimport baseEach from './_baseEach.js';\nimport castFunction from './_castFunction.js';\nimport isArray from './isArray.js';\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\nexport default forEach;","/* eslint-disable no-restricted-syntax */\nexport default function getThemeProps(params) {\n  var theme = params.theme,\n    name = params.name,\n    props = params.props;\n  if (!theme || !theme.props || !theme.props[name]) {\n    return props;\n  } // Resolve default props, code borrow from React source.\n  // https://github.com/facebook/react/blob/15a8f031838a553e41c0b66eb1bcf1da8448104d/packages/react/src/ReactElement.js#L221\n\n  var defaultProps = theme.props[name];\n  var propName;\n  for (propName in defaultProps) {\n    if (props[propName] === undefined) {\n      props[propName] = defaultProps[propName];\n    }\n  }\n  return props;\n}","import * as React from 'react';\nvar useEnhancedEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n/**\n * https://github.com/facebook/react/issues/14099#issuecomment-440013892\n *\n * @param {function} fn\n */\n\nexport default function useEventCallback(fn) {\n  var ref = React.useRef(fn);\n  useEnhancedEffect(function () {\n    ref.current = fn;\n  });\n  return React.useCallback(function () {\n    return (0, ref.current).apply(void 0, arguments);\n  }, []);\n}","import { Children, cloneElement, isValidElement } from 'react';\n/**\n * Given `this.props.children`, return an object mapping key to child.\n *\n * @param {*} children `this.props.children`\n * @return {object} Mapping of key to child\n */\n\nexport function getChildMapping(children, mapFn) {\n  var mapper = function mapper(child) {\n    return mapFn && isValidElement(child) ? mapFn(child) : child;\n  };\n  var result = Object.create(null);\n  if (children) Children.map(children, function (c) {\n    return c;\n  }).forEach(function (child) {\n    // run the map function here instead so that the key is the computed one\n    result[child.key] = mapper(child);\n  });\n  return result;\n}\n/**\n * When you're adding or removing children some may be added or removed in the\n * same render pass. We want to show *both* since we want to simultaneously\n * animate elements in and out. This function takes a previous set of keys\n * and a new set of keys and merges them with its best guess of the correct\n * ordering. In the future we may expose some of the utilities in\n * ReactMultiChild to make this easy, but for now React itself does not\n * directly have this concept of the union of prevChildren and nextChildren\n * so we implement it here.\n *\n * @param {object} prev prev children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @param {object} next next children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @return {object} a key set that contains all keys in `prev` and all keys\n * in `next` in a reasonable order.\n */\n\nexport function mergeChildMappings(prev, next) {\n  prev = prev || {};\n  next = next || {};\n  function getValueForKey(key) {\n    return key in next ? next[key] : prev[key];\n  } // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n\n  var nextKeysPending = Object.create(null);\n  var pendingKeys = [];\n  for (var prevKey in prev) {\n    if (prevKey in next) {\n      if (pendingKeys.length) {\n        nextKeysPending[prevKey] = pendingKeys;\n        pendingKeys = [];\n      }\n    } else {\n      pendingKeys.push(prevKey);\n    }\n  }\n  var i;\n  var childMapping = {};\n  for (var nextKey in next) {\n    if (nextKeysPending[nextKey]) {\n      for (i = 0; i < nextKeysPending[nextKey].length; i++) {\n        var pendingNextKey = nextKeysPending[nextKey][i];\n        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey);\n      }\n    }\n    childMapping[nextKey] = getValueForKey(nextKey);\n  } // Finally, add the keys which didn't appear before any key in `next`\n\n  for (i = 0; i < pendingKeys.length; i++) {\n    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);\n  }\n  return childMapping;\n}\nfunction getProp(child, prop, props) {\n  return props[prop] != null ? props[prop] : child.props[prop];\n}\nexport function getInitialChildMapping(props, onExited) {\n  return getChildMapping(props.children, function (child) {\n    return cloneElement(child, {\n      onExited: onExited.bind(null, child),\n      in: true,\n      appear: getProp(child, 'appear', props),\n      enter: getProp(child, 'enter', props),\n      exit: getProp(child, 'exit', props)\n    });\n  });\n}\nexport function getNextChildMapping(nextProps, prevChildMapping, onExited) {\n  var nextChildMapping = getChildMapping(nextProps.children);\n  var children = mergeChildMappings(prevChildMapping, nextChildMapping);\n  Object.keys(children).forEach(function (key) {\n    var child = children[key];\n    if (!isValidElement(child)) return;\n    var hasPrev = key in prevChildMapping;\n    var hasNext = key in nextChildMapping;\n    var prevChild = prevChildMapping[key];\n    var isLeaving = isValidElement(prevChild) && !prevChild.props.in; // item is new (entering)\n\n    if (hasNext && (!hasPrev || isLeaving)) {\n      // console.log('entering', key)\n      children[key] = cloneElement(child, {\n        onExited: onExited.bind(null, child),\n        in: true,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    } else if (!hasNext && hasPrev && !isLeaving) {\n      // item is old (exiting)\n      // console.log('leaving', key)\n      children[key] = cloneElement(child, {\n        in: false\n      });\n    } else if (hasNext && hasPrev && isValidElement(prevChild)) {\n      // item hasn't changed transition states\n      // copy over the last transition props;\n      // console.log('unchanged', key)\n      children[key] = cloneElement(child, {\n        onExited: onExited.bind(null, child),\n        in: prevChild.props.in,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    }\n  });\n  return children;\n}","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport TransitionGroupContext from './TransitionGroupContext';\nimport { getChildMapping, getInitialChildMapping, getNextChildMapping } from './utils/ChildMapping';\nvar values = Object.values || function (obj) {\n  return Object.keys(obj).map(function (k) {\n    return obj[k];\n  });\n};\nvar defaultProps = {\n  component: 'div',\n  childFactory: function childFactory(child) {\n    return child;\n  }\n};\n/**\n * The `<TransitionGroup>` component manages a set of transition components\n * (`<Transition>` and `<CSSTransition>`) in a list. Like with the transition\n * components, `<TransitionGroup>` is a state machine for managing the mounting\n * and unmounting of components over time.\n *\n * Consider the example below. As items are removed or added to the TodoList the\n * `in` prop is toggled automatically by the `<TransitionGroup>`.\n *\n * Note that `<TransitionGroup>`  does not define any animation behavior!\n * Exactly _how_ a list item animates is up to the individual transition\n * component. This means you can mix and match animations across different list\n * items.\n */\n\nvar TransitionGroup = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TransitionGroup, _React$Component);\n  function TransitionGroup(props, context) {\n    var _this;\n    _this = _React$Component.call(this, props, context) || this;\n    var handleExited = _this.handleExited.bind(_assertThisInitialized(_this)); // Initial children should all be entering, dependent on appear\n\n    _this.state = {\n      contextValue: {\n        isMounting: true\n      },\n      handleExited: handleExited,\n      firstRender: true\n    };\n    return _this;\n  }\n  var _proto = TransitionGroup.prototype;\n  _proto.componentDidMount = function componentDidMount() {\n    this.mounted = true;\n    this.setState({\n      contextValue: {\n        isMounting: false\n      }\n    });\n  };\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.mounted = false;\n  };\n  TransitionGroup.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, _ref) {\n    var prevChildMapping = _ref.children,\n      handleExited = _ref.handleExited,\n      firstRender = _ref.firstRender;\n    return {\n      children: firstRender ? getInitialChildMapping(nextProps, handleExited) : getNextChildMapping(nextProps, prevChildMapping, handleExited),\n      firstRender: false\n    };\n  } // node is `undefined` when user provided `nodeRef` prop\n  ;\n  _proto.handleExited = function handleExited(child, node) {\n    var currentChildMapping = getChildMapping(this.props.children);\n    if (child.key in currentChildMapping) return;\n    if (child.props.onExited) {\n      child.props.onExited(node);\n    }\n    if (this.mounted) {\n      this.setState(function (state) {\n        var children = _extends({}, state.children);\n        delete children[child.key];\n        return {\n          children: children\n        };\n      });\n    }\n  };\n  _proto.render = function render() {\n    var _this$props = this.props,\n      Component = _this$props.component,\n      childFactory = _this$props.childFactory,\n      props = _objectWithoutPropertiesLoose(_this$props, [\"component\", \"childFactory\"]);\n    var contextValue = this.state.contextValue;\n    var children = values(this.state.children).map(childFactory);\n    delete props.appear;\n    delete props.enter;\n    delete props.exit;\n    if (Component === null) {\n      return /*#__PURE__*/React.createElement(TransitionGroupContext.Provider, {\n        value: contextValue\n      }, children);\n    }\n    return /*#__PURE__*/React.createElement(TransitionGroupContext.Provider, {\n      value: contextValue\n    }, /*#__PURE__*/React.createElement(Component, props, children));\n  };\n  return TransitionGroup;\n}(React.Component);\nTransitionGroup.defaultProps = defaultProps;\nexport default TransitionGroup;","import * as React from 'react';\nimport clsx from 'clsx';\nimport useEventCallback from '../utils/useEventCallback';\nvar useEnhancedEffect = typeof window === 'undefined' ? React.useEffect : React.useLayoutEffect;\n/**\n * @ignore - internal component.\n */\n\nfunction Ripple(props) {\n  var classes = props.classes,\n    _props$pulsate = props.pulsate,\n    pulsate = _props$pulsate === void 0 ? false : _props$pulsate,\n    rippleX = props.rippleX,\n    rippleY = props.rippleY,\n    rippleSize = props.rippleSize,\n    inProp = props.in,\n    _props$onExited = props.onExited,\n    onExited = _props$onExited === void 0 ? function () {} : _props$onExited,\n    timeout = props.timeout;\n  var _React$useState = React.useState(false),\n    leaving = _React$useState[0],\n    setLeaving = _React$useState[1];\n  var rippleClassName = clsx(classes.ripple, classes.rippleVisible, pulsate && classes.ripplePulsate);\n  var rippleStyles = {\n    width: rippleSize,\n    height: rippleSize,\n    top: -(rippleSize / 2) + rippleY,\n    left: -(rippleSize / 2) + rippleX\n  };\n  var childClassName = clsx(classes.child, leaving && classes.childLeaving, pulsate && classes.childPulsate);\n  var handleExited = useEventCallback(onExited); // Ripple is used for user feedback (e.g. click or press) so we want to apply styles with the highest priority\n\n  useEnhancedEffect(function () {\n    if (!inProp) {\n      // react-transition-group#onExit\n      setLeaving(true); // react-transition-group#onExited\n\n      var timeoutId = setTimeout(handleExited, timeout);\n      return function () {\n        clearTimeout(timeoutId);\n      };\n    }\n    return undefined;\n  }, [handleExited, inProp, timeout]);\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: rippleClassName,\n    style: rippleStyles\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: childClassName\n  }));\n}\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default Ripple;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport { TransitionGroup } from 'react-transition-group';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Ripple from './Ripple';\nvar DURATION = 550;\nexport var DELAY_RIPPLE = 80;\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      overflow: 'hidden',\n      pointerEvents: 'none',\n      position: 'absolute',\n      zIndex: 0,\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      borderRadius: 'inherit'\n    },\n    /* Styles applied to the internal `Ripple` components `ripple` class. */\n    ripple: {\n      opacity: 0,\n      position: 'absolute'\n    },\n    /* Styles applied to the internal `Ripple` components `rippleVisible` class. */\n    rippleVisible: {\n      opacity: 0.3,\n      transform: 'scale(1)',\n      animation: \"$enter \".concat(DURATION, \"ms \").concat(theme.transitions.easing.easeInOut)\n    },\n    /* Styles applied to the internal `Ripple` components `ripplePulsate` class. */\n    ripplePulsate: {\n      animationDuration: \"\".concat(theme.transitions.duration.shorter, \"ms\")\n    },\n    /* Styles applied to the internal `Ripple` components `child` class. */\n    child: {\n      opacity: 1,\n      display: 'block',\n      width: '100%',\n      height: '100%',\n      borderRadius: '50%',\n      backgroundColor: 'currentColor'\n    },\n    /* Styles applied to the internal `Ripple` components `childLeaving` class. */\n    childLeaving: {\n      opacity: 0,\n      animation: \"$exit \".concat(DURATION, \"ms \").concat(theme.transitions.easing.easeInOut)\n    },\n    /* Styles applied to the internal `Ripple` components `childPulsate` class. */\n    childPulsate: {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      animation: \"$pulsate 2500ms \".concat(theme.transitions.easing.easeInOut, \" 200ms infinite\")\n    },\n    '@keyframes enter': {\n      '0%': {\n        transform: 'scale(0)',\n        opacity: 0.1\n      },\n      '100%': {\n        transform: 'scale(1)',\n        opacity: 0.3\n      }\n    },\n    '@keyframes exit': {\n      '0%': {\n        opacity: 1\n      },\n      '100%': {\n        opacity: 0\n      }\n    },\n    '@keyframes pulsate': {\n      '0%': {\n        transform: 'scale(1)'\n      },\n      '50%': {\n        transform: 'scale(0.92)'\n      },\n      '100%': {\n        transform: 'scale(1)'\n      }\n    }\n  };\n};\n/**\n * @ignore - internal component.\n *\n * TODO v5: Make private\n */\n\nvar TouchRipple = /*#__PURE__*/React.forwardRef(function TouchRipple(props, ref) {\n  var _props$center = props.center,\n    centerProp = _props$center === void 0 ? false : _props$center,\n    classes = props.classes,\n    className = props.className,\n    other = _objectWithoutProperties(props, [\"center\", \"classes\", \"className\"]);\n  var _React$useState = React.useState([]),\n    ripples = _React$useState[0],\n    setRipples = _React$useState[1];\n  var nextKey = React.useRef(0);\n  var rippleCallback = React.useRef(null);\n  React.useEffect(function () {\n    if (rippleCallback.current) {\n      rippleCallback.current();\n      rippleCallback.current = null;\n    }\n  }, [ripples]); // Used to filter out mouse emulated events on mobile.\n\n  var ignoringMouseDown = React.useRef(false); // We use a timer in order to only show the ripples for touch \"click\" like events.\n  // We don't want to display the ripple for touch scroll events.\n\n  var startTimer = React.useRef(null); // This is the hook called once the previous timeout is ready.\n\n  var startTimerCommit = React.useRef(null);\n  var container = React.useRef(null);\n  React.useEffect(function () {\n    return function () {\n      clearTimeout(startTimer.current);\n    };\n  }, []);\n  var startCommit = React.useCallback(function (params) {\n    var pulsate = params.pulsate,\n      rippleX = params.rippleX,\n      rippleY = params.rippleY,\n      rippleSize = params.rippleSize,\n      cb = params.cb;\n    setRipples(function (oldRipples) {\n      return [].concat(_toConsumableArray(oldRipples), [/*#__PURE__*/React.createElement(Ripple, {\n        key: nextKey.current,\n        classes: classes,\n        timeout: DURATION,\n        pulsate: pulsate,\n        rippleX: rippleX,\n        rippleY: rippleY,\n        rippleSize: rippleSize\n      })]);\n    });\n    nextKey.current += 1;\n    rippleCallback.current = cb;\n  }, [classes]);\n  var start = React.useCallback(function () {\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var cb = arguments.length > 2 ? arguments[2] : undefined;\n    var _options$pulsate = options.pulsate,\n      pulsate = _options$pulsate === void 0 ? false : _options$pulsate,\n      _options$center = options.center,\n      center = _options$center === void 0 ? centerProp || options.pulsate : _options$center,\n      _options$fakeElement = options.fakeElement,\n      fakeElement = _options$fakeElement === void 0 ? false : _options$fakeElement;\n    if (event.type === 'mousedown' && ignoringMouseDown.current) {\n      ignoringMouseDown.current = false;\n      return;\n    }\n    if (event.type === 'touchstart') {\n      ignoringMouseDown.current = true;\n    }\n    var element = fakeElement ? null : container.current;\n    var rect = element ? element.getBoundingClientRect() : {\n      width: 0,\n      height: 0,\n      left: 0,\n      top: 0\n    }; // Get the size of the ripple\n\n    var rippleX;\n    var rippleY;\n    var rippleSize;\n    if (center || event.clientX === 0 && event.clientY === 0 || !event.clientX && !event.touches) {\n      rippleX = Math.round(rect.width / 2);\n      rippleY = Math.round(rect.height / 2);\n    } else {\n      var _ref = event.touches ? event.touches[0] : event,\n        clientX = _ref.clientX,\n        clientY = _ref.clientY;\n      rippleX = Math.round(clientX - rect.left);\n      rippleY = Math.round(clientY - rect.top);\n    }\n    if (center) {\n      rippleSize = Math.sqrt((2 * Math.pow(rect.width, 2) + Math.pow(rect.height, 2)) / 3); // For some reason the animation is broken on Mobile Chrome if the size if even.\n\n      if (rippleSize % 2 === 0) {\n        rippleSize += 1;\n      }\n    } else {\n      var sizeX = Math.max(Math.abs((element ? element.clientWidth : 0) - rippleX), rippleX) * 2 + 2;\n      var sizeY = Math.max(Math.abs((element ? element.clientHeight : 0) - rippleY), rippleY) * 2 + 2;\n      rippleSize = Math.sqrt(Math.pow(sizeX, 2) + Math.pow(sizeY, 2));\n    } // Touche devices\n\n    if (event.touches) {\n      // check that this isn't another touchstart due to multitouch\n      // otherwise we will only clear a single timer when unmounting while two\n      // are running\n      if (startTimerCommit.current === null) {\n        // Prepare the ripple effect.\n        startTimerCommit.current = function () {\n          startCommit({\n            pulsate: pulsate,\n            rippleX: rippleX,\n            rippleY: rippleY,\n            rippleSize: rippleSize,\n            cb: cb\n          });\n        }; // Delay the execution of the ripple effect.\n\n        startTimer.current = setTimeout(function () {\n          if (startTimerCommit.current) {\n            startTimerCommit.current();\n            startTimerCommit.current = null;\n          }\n        }, DELAY_RIPPLE); // We have to make a tradeoff with this value.\n      }\n    } else {\n      startCommit({\n        pulsate: pulsate,\n        rippleX: rippleX,\n        rippleY: rippleY,\n        rippleSize: rippleSize,\n        cb: cb\n      });\n    }\n  }, [centerProp, startCommit]);\n  var pulsate = React.useCallback(function () {\n    start({}, {\n      pulsate: true\n    });\n  }, [start]);\n  var stop = React.useCallback(function (event, cb) {\n    clearTimeout(startTimer.current); // The touch interaction occurs too quickly.\n    // We still want to show ripple effect.\n\n    if (event.type === 'touchend' && startTimerCommit.current) {\n      event.persist();\n      startTimerCommit.current();\n      startTimerCommit.current = null;\n      startTimer.current = setTimeout(function () {\n        stop(event, cb);\n      });\n      return;\n    }\n    startTimerCommit.current = null;\n    setRipples(function (oldRipples) {\n      if (oldRipples.length > 0) {\n        return oldRipples.slice(1);\n      }\n      return oldRipples;\n    });\n    rippleCallback.current = cb;\n  }, []);\n  React.useImperativeHandle(ref, function () {\n    return {\n      pulsate: pulsate,\n      start: start,\n      stop: stop\n    };\n  }, [pulsate, start, stop]);\n  return /*#__PURE__*/React.createElement(\"span\", _extends({\n    className: clsx(classes.root, className),\n    ref: container\n  }, other), /*#__PURE__*/React.createElement(TransitionGroup, {\n    component: null,\n    exit: true\n  }, ripples));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  flip: false,\n  name: 'MuiTouchRipple'\n})(/*#__PURE__*/React.memo(TouchRipple));","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport clsx from 'clsx';\nimport { elementTypeAcceptingRef, refType } from '@material-ui/utils';\nimport useForkRef from '../utils/useForkRef';\nimport useEventCallback from '../utils/useEventCallback';\nimport deprecatedPropType from '../utils/deprecatedPropType';\nimport withStyles from '../styles/withStyles';\nimport useIsFocusVisible from '../utils/useIsFocusVisible';\nimport TouchRipple from './TouchRipple';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'inline-flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    position: 'relative',\n    WebkitTapHighlightColor: 'transparent',\n    backgroundColor: 'transparent',\n    // Reset default value\n    // We disable the focus ring for mouse, touch and keyboard users.\n    outline: 0,\n    border: 0,\n    margin: 0,\n    // Remove the margin in Safari\n    borderRadius: 0,\n    padding: 0,\n    // Remove the padding in Firefox\n    cursor: 'pointer',\n    userSelect: 'none',\n    verticalAlign: 'middle',\n    '-moz-appearance': 'none',\n    // Reset\n    '-webkit-appearance': 'none',\n    // Reset\n    textDecoration: 'none',\n    // So we take precedent over the style of a native <a /> element.\n    color: 'inherit',\n    '&::-moz-focus-inner': {\n      borderStyle: 'none' // Remove Firefox dotted outline.\n    },\n    '&$disabled': {\n      pointerEvents: 'none',\n      // Disable link interactions\n      cursor: 'default'\n    },\n    '@media print': {\n      colorAdjust: 'exact'\n    }\n  },\n  /* Pseudo-class applied to the root element if `disabled={true}`. */\n  disabled: {},\n  /* Pseudo-class applied to the root element if keyboard focused. */\n  focusVisible: {}\n};\n/**\n * `ButtonBase` contains as few styles as possible.\n * It aims to be a simple building block for creating a button.\n * It contains a load of style reset and some focus/ripple logic.\n */\n\nvar ButtonBase = /*#__PURE__*/React.forwardRef(function ButtonBase(props, ref) {\n  var action = props.action,\n    buttonRefProp = props.buttonRef,\n    _props$centerRipple = props.centerRipple,\n    centerRipple = _props$centerRipple === void 0 ? false : _props$centerRipple,\n    children = props.children,\n    classes = props.classes,\n    className = props.className,\n    _props$component = props.component,\n    component = _props$component === void 0 ? 'button' : _props$component,\n    _props$disabled = props.disabled,\n    disabled = _props$disabled === void 0 ? false : _props$disabled,\n    _props$disableRipple = props.disableRipple,\n    disableRipple = _props$disableRipple === void 0 ? false : _props$disableRipple,\n    _props$disableTouchRi = props.disableTouchRipple,\n    disableTouchRipple = _props$disableTouchRi === void 0 ? false : _props$disableTouchRi,\n    _props$focusRipple = props.focusRipple,\n    focusRipple = _props$focusRipple === void 0 ? false : _props$focusRipple,\n    focusVisibleClassName = props.focusVisibleClassName,\n    onBlur = props.onBlur,\n    onClick = props.onClick,\n    onFocus = props.onFocus,\n    onFocusVisible = props.onFocusVisible,\n    onKeyDown = props.onKeyDown,\n    onKeyUp = props.onKeyUp,\n    onMouseDown = props.onMouseDown,\n    onMouseLeave = props.onMouseLeave,\n    onMouseUp = props.onMouseUp,\n    onTouchEnd = props.onTouchEnd,\n    onTouchMove = props.onTouchMove,\n    onTouchStart = props.onTouchStart,\n    onDragLeave = props.onDragLeave,\n    _props$tabIndex = props.tabIndex,\n    tabIndex = _props$tabIndex === void 0 ? 0 : _props$tabIndex,\n    TouchRippleProps = props.TouchRippleProps,\n    _props$type = props.type,\n    type = _props$type === void 0 ? 'button' : _props$type,\n    other = _objectWithoutProperties(props, [\"action\", \"buttonRef\", \"centerRipple\", \"children\", \"classes\", \"className\", \"component\", \"disabled\", \"disableRipple\", \"disableTouchRipple\", \"focusRipple\", \"focusVisibleClassName\", \"onBlur\", \"onClick\", \"onFocus\", \"onFocusVisible\", \"onKeyDown\", \"onKeyUp\", \"onMouseDown\", \"onMouseLeave\", \"onMouseUp\", \"onTouchEnd\", \"onTouchMove\", \"onTouchStart\", \"onDragLeave\", \"tabIndex\", \"TouchRippleProps\", \"type\"]);\n  var buttonRef = React.useRef(null);\n  function getButtonNode() {\n    // #StrictMode ready\n    return ReactDOM.findDOMNode(buttonRef.current);\n  }\n  var rippleRef = React.useRef(null);\n  var _React$useState = React.useState(false),\n    focusVisible = _React$useState[0],\n    setFocusVisible = _React$useState[1];\n  if (disabled && focusVisible) {\n    setFocusVisible(false);\n  }\n  var _useIsFocusVisible = useIsFocusVisible(),\n    isFocusVisible = _useIsFocusVisible.isFocusVisible,\n    onBlurVisible = _useIsFocusVisible.onBlurVisible,\n    focusVisibleRef = _useIsFocusVisible.ref;\n  React.useImperativeHandle(action, function () {\n    return {\n      focusVisible: function focusVisible() {\n        setFocusVisible(true);\n        buttonRef.current.focus();\n      }\n    };\n  }, []);\n  React.useEffect(function () {\n    if (focusVisible && focusRipple && !disableRipple) {\n      rippleRef.current.pulsate();\n    }\n  }, [disableRipple, focusRipple, focusVisible]);\n  function useRippleHandler(rippleAction, eventCallback) {\n    var skipRippleAction = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : disableTouchRipple;\n    return useEventCallback(function (event) {\n      if (eventCallback) {\n        eventCallback(event);\n      }\n      var ignore = skipRippleAction;\n      if (!ignore && rippleRef.current) {\n        rippleRef.current[rippleAction](event);\n      }\n      return true;\n    });\n  }\n  var handleMouseDown = useRippleHandler('start', onMouseDown);\n  var handleDragLeave = useRippleHandler('stop', onDragLeave);\n  var handleMouseUp = useRippleHandler('stop', onMouseUp);\n  var handleMouseLeave = useRippleHandler('stop', function (event) {\n    if (focusVisible) {\n      event.preventDefault();\n    }\n    if (onMouseLeave) {\n      onMouseLeave(event);\n    }\n  });\n  var handleTouchStart = useRippleHandler('start', onTouchStart);\n  var handleTouchEnd = useRippleHandler('stop', onTouchEnd);\n  var handleTouchMove = useRippleHandler('stop', onTouchMove);\n  var handleBlur = useRippleHandler('stop', function (event) {\n    if (focusVisible) {\n      onBlurVisible(event);\n      setFocusVisible(false);\n    }\n    if (onBlur) {\n      onBlur(event);\n    }\n  }, false);\n  var handleFocus = useEventCallback(function (event) {\n    // Fix for https://github.com/facebook/react/issues/7769\n    if (!buttonRef.current) {\n      buttonRef.current = event.currentTarget;\n    }\n    if (isFocusVisible(event)) {\n      setFocusVisible(true);\n      if (onFocusVisible) {\n        onFocusVisible(event);\n      }\n    }\n    if (onFocus) {\n      onFocus(event);\n    }\n  });\n  var isNonNativeButton = function isNonNativeButton() {\n    var button = getButtonNode();\n    return component && component !== 'button' && !(button.tagName === 'A' && button.href);\n  };\n  /**\n   * IE 11 shim for https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/repeat\n   */\n\n  var keydownRef = React.useRef(false);\n  var handleKeyDown = useEventCallback(function (event) {\n    // Check if key is already down to avoid repeats being counted as multiple activations\n    if (focusRipple && !keydownRef.current && focusVisible && rippleRef.current && event.key === ' ') {\n      keydownRef.current = true;\n      event.persist();\n      rippleRef.current.stop(event, function () {\n        rippleRef.current.start(event);\n      });\n    }\n    if (event.target === event.currentTarget && isNonNativeButton() && event.key === ' ') {\n      event.preventDefault();\n    }\n    if (onKeyDown) {\n      onKeyDown(event);\n    } // Keyboard accessibility for non interactive elements\n\n    if (event.target === event.currentTarget && isNonNativeButton() && event.key === 'Enter' && !disabled) {\n      event.preventDefault();\n      if (onClick) {\n        onClick(event);\n      }\n    }\n  });\n  var handleKeyUp = useEventCallback(function (event) {\n    // calling preventDefault in keyUp on a <button> will not dispatch a click event if Space is pressed\n    // https://codesandbox.io/s/button-keyup-preventdefault-dn7f0\n    if (focusRipple && event.key === ' ' && rippleRef.current && focusVisible && !event.defaultPrevented) {\n      keydownRef.current = false;\n      event.persist();\n      rippleRef.current.stop(event, function () {\n        rippleRef.current.pulsate(event);\n      });\n    }\n    if (onKeyUp) {\n      onKeyUp(event);\n    } // Keyboard accessibility for non interactive elements\n\n    if (onClick && event.target === event.currentTarget && isNonNativeButton() && event.key === ' ' && !event.defaultPrevented) {\n      onClick(event);\n    }\n  });\n  var ComponentProp = component;\n  if (ComponentProp === 'button' && other.href) {\n    ComponentProp = 'a';\n  }\n  var buttonProps = {};\n  if (ComponentProp === 'button') {\n    buttonProps.type = type;\n    buttonProps.disabled = disabled;\n  } else {\n    if (ComponentProp !== 'a' || !other.href) {\n      buttonProps.role = 'button';\n    }\n    buttonProps['aria-disabled'] = disabled;\n  }\n  var handleUserRef = useForkRef(buttonRefProp, ref);\n  var handleOwnRef = useForkRef(focusVisibleRef, buttonRef);\n  var handleRef = useForkRef(handleUserRef, handleOwnRef);\n  var _React$useState2 = React.useState(false),\n    mountedState = _React$useState2[0],\n    setMountedState = _React$useState2[1];\n  React.useEffect(function () {\n    setMountedState(true);\n  }, []);\n  var enableTouchRipple = mountedState && !disableRipple && !disabled;\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useEffect(function () {\n      if (enableTouchRipple && !rippleRef.current) {\n        console.error(['Material-UI: The `component` prop provided to ButtonBase is invalid.', 'Please make sure the children prop is rendered in this custom component.'].join('\\n'));\n      }\n    }, [enableTouchRipple]);\n  }\n  return /*#__PURE__*/React.createElement(ComponentProp, _extends({\n    className: clsx(classes.root, className, focusVisible && [classes.focusVisible, focusVisibleClassName], disabled && classes.disabled),\n    onBlur: handleBlur,\n    onClick: onClick,\n    onFocus: handleFocus,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp,\n    onMouseDown: handleMouseDown,\n    onMouseLeave: handleMouseLeave,\n    onMouseUp: handleMouseUp,\n    onDragLeave: handleDragLeave,\n    onTouchEnd: handleTouchEnd,\n    onTouchMove: handleTouchMove,\n    onTouchStart: handleTouchStart,\n    ref: handleRef,\n    tabIndex: disabled ? -1 : tabIndex\n  }, buttonProps, other), children, enableTouchRipple ? /*#__PURE__*/\n\n  /* TouchRipple is only needed client-side, x2 boost on the server. */\n  React.createElement(TouchRipple, _extends({\n    ref: rippleRef,\n    center: centerRipple\n  }, TouchRippleProps)) : null);\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiButtonBase'\n})(ButtonBase);","import castPath from './_castPath.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isIndex from './_isIndex.js';\nimport isLength from './isLength.js';\nimport toKey from './_toKey.js';\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n  var index = -1,\n    length = path.length,\n    result = false;\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) && (isArray(object) || isArguments(object));\n}\nexport default hasPath;","export default function deprecatedPropType(validator, reason) {\n  if (process.env.NODE_ENV === 'production') {\n    return function () {\n      return null;\n    };\n  }\n  return function (props, propName, componentName, location, propFullName) {\n    var componentNameSafe = componentName || '<<anonymous>>';\n    var propFullNameSafe = propFullName || propName;\n    if (typeof props[propName] !== 'undefined') {\n      return new Error(\"The \".concat(location, \" `\").concat(propFullNameSafe, \"` of \") + \"`\".concat(componentNameSafe, \"` is deprecated. \").concat(reason));\n    }\n    return null;\n  };\n}","export default function requirePropFactory(componentNameInError) {\n  if (process.env.NODE_ENV === 'production') {\n    return function () {\n      return null;\n    };\n  }\n  var requireProp = function requireProp(requiredProp) {\n    return function (props, propName, componentName, location, propFullName) {\n      var propFullNameSafe = propFullName || propName;\n      if (typeof props[propName] !== 'undefined' && !props[requiredProp]) {\n        return new Error(\"The prop `\".concat(propFullNameSafe, \"` of \") + \"`\".concat(componentNameInError, \"` must be used on `\").concat(requiredProp, \"`.\"));\n      }\n      return null;\n    };\n  };\n  return requireProp;\n}","export default function unsupportedProp(props, propName, componentName, location, propFullName) {\n  if (process.env.NODE_ENV === 'production') {\n    return null;\n  }\n  var propFullNameSafe = propFullName || propName;\n  if (typeof props[propName] !== 'undefined') {\n    return new Error(\"The prop `\".concat(propFullNameSafe, \"` is not supported. Please remove it.\"));\n  }\n  return null;\n}","import * as React from 'react';\n/**\n * Private module reserved for @material-ui/x packages.\n */\n\nexport default function useId(idOverride) {\n  var _React$useState = React.useState(idOverride),\n    defaultId = _React$useState[0],\n    setDefaultId = _React$useState[1];\n  var id = idOverride || defaultId;\n  React.useEffect(function () {\n    if (defaultId == null) {\n      // Fallback to this default id when possible.\n      // Use the random value for client-side rendering only.\n      // We can't use it server-side.\n      setDefaultId(\"mui-\".concat(Math.round(Math.random() * 1e5)));\n    }\n  }, [defaultId]);\n  return id;\n}","import baseEach from './_baseEach.js';\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function (value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\nexport default baseFilter;","import arrayFilter from './_arrayFilter.js';\nimport baseFilter from './_baseFilter.js';\nimport baseIteratee from './_baseIteratee.js';\nimport isArray from './isArray.js';\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n *\n * // Combining several predicates using `_.overEvery` or `_.overSome`.\n * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n * // => objects for ['fred', 'barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\nexport default filter;","import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function (object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function (symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\nexport default getSymbols;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getDisplayName } from '@material-ui/utils';\nexport default function mergeClasses() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var baseClasses = options.baseClasses,\n    newClasses = options.newClasses,\n    Component = options.Component;\n  if (!newClasses) {\n    return baseClasses;\n  }\n  var nextClasses = _extends({}, baseClasses);\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof newClasses === 'string') {\n      console.error([\"Material-UI: The value `\".concat(newClasses, \"` \") + \"provided to the classes prop of \".concat(getDisplayName(Component), \" is incorrect.\"), 'You might want to use the className prop instead.'].join('\\n'));\n      return baseClasses;\n    }\n  }\n  Object.keys(newClasses).forEach(function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!baseClasses[key] && newClasses[key]) {\n        console.error([\"Material-UI: The key `\".concat(key, \"` \") + \"provided to the classes prop is not implemented in \".concat(getDisplayName(Component), \".\"), \"You can only override one of the following: \".concat(Object.keys(baseClasses).join(','), \".\")].join('\\n'));\n      }\n      if (newClasses[key] && typeof newClasses[key] !== 'string') {\n        console.error([\"Material-UI: The key `\".concat(key, \"` \") + \"provided to the classes prop is not valid for \".concat(getDisplayName(Component), \".\"), \"You need to provide a non empty string instead of: \".concat(newClasses[key], \".\")].join('\\n'));\n      }\n    }\n    if (newClasses[key]) {\n      nextClasses[key] = \"\".concat(baseClasses[key], \" \").concat(newClasses[key]);\n    }\n  });\n  return nextClasses;\n}","import toString from './toString.js';\n\n/** Used to generate unique IDs. */\nvar idCounter = 0;\n\n/**\n * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {string} [prefix=''] The value to prefix the ID with.\n * @returns {string} Returns the unique ID.\n * @example\n *\n * _.uniqueId('contact_');\n * // => 'contact_104'\n *\n * _.uniqueId();\n * // => '105'\n */\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n  return toString(prefix) + id;\n}\nexport default uniqueId;","import isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n}\nexport default toKey;","import { useSelector as reduxUseSelector, shallowEqual } from 'react-redux';\nimport { ReduxState } from './store';\n\n/** Application specific strongly typed wrapper around redux's useSelector(). */\nfunction useSelector<T>(fn: (state: ReduxState) => T): T {\n  return reduxUseSelector(fn, shallowEqual);\n}\n\nexport default useSelector;\n","import isArrayLike from './isArrayLike.js';\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function (collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n      index = fromRight ? length : -1,\n      iterable = Object(collection);\n    while (fromRight ? index-- : ++index < length) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\nexport default createBaseEach;","import baseForOwn from './_baseForOwn.js';\nimport createBaseEach from './_createBaseEach.js';\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\nexport default baseEach;","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\nexport var isBrowser = (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\" && (typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) === 'object' && document.nodeType === 9;\nexport default isBrowser;","import _extends from '@babel/runtime/helpers/esm/extends';\nimport isInBrowser from 'is-in-browser';\nimport warning from 'tiny-warning';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nvar plainObjectConstrurctor = {}.constructor;\nfunction cloneStyle(style) {\n  if (style == null || typeof style !== 'object') return style;\n  if (Array.isArray(style)) return style.map(cloneStyle);\n  if (style.constructor !== plainObjectConstrurctor) return style;\n  var newStyle = {};\n  for (var name in style) {\n    newStyle[name] = cloneStyle(style[name]);\n  }\n  return newStyle;\n}\n\n/**\n * Create a rule instance.\n */\n\nfunction createRule(name, decl, options) {\n  if (name === void 0) {\n    name = 'unnamed';\n  }\n  var jss = options.jss;\n  var declCopy = cloneStyle(decl);\n  var rule = jss.plugins.onCreateRule(name, declCopy, options);\n  if (rule) return rule; // It is an at-rule and it has no instance.\n\n  if (name[0] === '@') {\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Unknown rule \" + name) : void 0;\n  }\n  return null;\n}\nvar join = function join(value, by) {\n  var result = '';\n  for (var i = 0; i < value.length; i++) {\n    // Remove !important from the value, it will be readded later.\n    if (value[i] === '!important') break;\n    if (result) result += by;\n    result += value[i];\n  }\n  return result;\n};\n/**\n * Converts JSS array value to a CSS string.\n *\n * `margin: [['5px', '10px']]` > `margin: 5px 10px;`\n * `border: ['1px', '2px']` > `border: 1px, 2px;`\n * `margin: [['5px', '10px'], '!important']` > `margin: 5px 10px !important;`\n * `color: ['red', !important]` > `color: red !important;`\n */\n\nvar toCssValue = function toCssValue(value) {\n  if (!Array.isArray(value)) return value;\n  var cssValue = ''; // Support space separated values via `[['5px', '10px']]`.\n\n  if (Array.isArray(value[0])) {\n    for (var i = 0; i < value.length; i++) {\n      if (value[i] === '!important') break;\n      if (cssValue) cssValue += ', ';\n      cssValue += join(value[i], ' ');\n    }\n  } else cssValue = join(value, ', '); // Add !important, because it was ignored.\n\n  if (value[value.length - 1] === '!important') {\n    cssValue += ' !important';\n  }\n  return cssValue;\n};\nfunction getWhitespaceSymbols(options) {\n  if (options && options.format === false) {\n    return {\n      linebreak: '',\n      space: ''\n    };\n  }\n  return {\n    linebreak: '\\n',\n    space: ' '\n  };\n}\n\n/**\n * Indent a string.\n * http://jsperf.com/array-join-vs-for\n */\n\nfunction indentStr(str, indent) {\n  var result = '';\n  for (var index = 0; index < indent; index++) {\n    result += '  ';\n  }\n  return result + str;\n}\n/**\n * Converts a Rule to CSS string.\n */\n\nfunction toCss(selector, style, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  var result = '';\n  if (!style) return result;\n  var _options = options,\n    _options$indent = _options.indent,\n    indent = _options$indent === void 0 ? 0 : _options$indent;\n  var fallbacks = style.fallbacks;\n  if (options.format === false) {\n    indent = -Infinity;\n  }\n  var _getWhitespaceSymbols = getWhitespaceSymbols(options),\n    linebreak = _getWhitespaceSymbols.linebreak,\n    space = _getWhitespaceSymbols.space;\n  if (selector) indent++; // Apply fallbacks first.\n\n  if (fallbacks) {\n    // Array syntax {fallbacks: [{prop: value}]}\n    if (Array.isArray(fallbacks)) {\n      for (var index = 0; index < fallbacks.length; index++) {\n        var fallback = fallbacks[index];\n        for (var prop in fallback) {\n          var value = fallback[prop];\n          if (value != null) {\n            if (result) result += linebreak;\n            result += indentStr(prop + \":\" + space + toCssValue(value) + \";\", indent);\n          }\n        }\n      }\n    } else {\n      // Object syntax {fallbacks: {prop: value}}\n      for (var _prop in fallbacks) {\n        var _value = fallbacks[_prop];\n        if (_value != null) {\n          if (result) result += linebreak;\n          result += indentStr(_prop + \":\" + space + toCssValue(_value) + \";\", indent);\n        }\n      }\n    }\n  }\n  for (var _prop2 in style) {\n    var _value2 = style[_prop2];\n    if (_value2 != null && _prop2 !== 'fallbacks') {\n      if (result) result += linebreak;\n      result += indentStr(_prop2 + \":\" + space + toCssValue(_value2) + \";\", indent);\n    }\n  } // Allow empty style in this case, because properties will be added dynamically.\n\n  if (!result && !options.allowEmpty) return result; // When rule is being stringified before selector was defined.\n\n  if (!selector) return result;\n  indent--;\n  if (result) result = \"\" + linebreak + result + linebreak;\n  return indentStr(\"\" + selector + space + \"{\" + result, indent) + indentStr('}', indent);\n}\nvar escapeRegex = /([[\\].#*$><+~=|^:(),\"'`\\s])/g;\nvar nativeEscape = typeof CSS !== 'undefined' && CSS.escape;\nvar escape = function (str) {\n  return nativeEscape ? nativeEscape(str) : str.replace(escapeRegex, '\\\\$1');\n};\nvar BaseStyleRule = /*#__PURE__*/\nfunction () {\n  function BaseStyleRule(key, style, options) {\n    this.type = 'style';\n    this.isProcessed = false;\n    var sheet = options.sheet,\n      Renderer = options.Renderer;\n    this.key = key;\n    this.options = options;\n    this.style = style;\n    if (sheet) this.renderer = sheet.renderer;else if (Renderer) this.renderer = new Renderer();\n  }\n  /**\n   * Get or set a style property.\n   */\n\n  var _proto = BaseStyleRule.prototype;\n  _proto.prop = function prop(name, value, options) {\n    // It's a getter.\n    if (value === undefined) return this.style[name]; // Don't do anything if the value has not changed.\n\n    var force = options ? options.force : false;\n    if (!force && this.style[name] === value) return this;\n    var newValue = value;\n    if (!options || options.process !== false) {\n      newValue = this.options.jss.plugins.onChangeValue(value, name, this);\n    }\n    var isEmpty = newValue == null || newValue === false;\n    var isDefined = name in this.style; // Value is empty and wasn't defined before.\n\n    if (isEmpty && !isDefined && !force) return this; // We are going to remove this value.\n\n    var remove = isEmpty && isDefined;\n    if (remove) delete this.style[name];else this.style[name] = newValue; // Renderable is defined if StyleSheet option `link` is true.\n\n    if (this.renderable && this.renderer) {\n      if (remove) this.renderer.removeProperty(this.renderable, name);else this.renderer.setProperty(this.renderable, name, newValue);\n      return this;\n    }\n    var sheet = this.options.sheet;\n    if (sheet && sheet.attached) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, '[JSS] Rule is not linked. Missing sheet option \"link: true\".') : void 0;\n    }\n    return this;\n  };\n  return BaseStyleRule;\n}();\nvar StyleRule = /*#__PURE__*/\nfunction (_BaseStyleRule) {\n  _inheritsLoose(StyleRule, _BaseStyleRule);\n  function StyleRule(key, style, options) {\n    var _this;\n    _this = _BaseStyleRule.call(this, key, style, options) || this;\n    var selector = options.selector,\n      scoped = options.scoped,\n      sheet = options.sheet,\n      generateId = options.generateId;\n    if (selector) {\n      _this.selectorText = selector;\n    } else if (scoped !== false) {\n      _this.id = generateId(_assertThisInitialized(_assertThisInitialized(_this)), sheet);\n      _this.selectorText = \".\" + escape(_this.id);\n    }\n    return _this;\n  }\n  /**\n   * Set selector string.\n   * Attention: use this with caution. Most browsers didn't implement\n   * selectorText setter, so this may result in rerendering of entire Style Sheet.\n   */\n\n  var _proto2 = StyleRule.prototype;\n\n  /**\n   * Apply rule to an element inline.\n   */\n  _proto2.applyTo = function applyTo(renderable) {\n    var renderer = this.renderer;\n    if (renderer) {\n      var json = this.toJSON();\n      for (var prop in json) {\n        renderer.setProperty(renderable, prop, json[prop]);\n      }\n    }\n    return this;\n  }\n  /**\n   * Returns JSON representation of the rule.\n   * Fallbacks are not supported.\n   * Useful for inline styles.\n   */;\n  _proto2.toJSON = function toJSON() {\n    var json = {};\n    for (var prop in this.style) {\n      var value = this.style[prop];\n      if (typeof value !== 'object') json[prop] = value;else if (Array.isArray(value)) json[prop] = toCssValue(value);\n    }\n    return json;\n  }\n  /**\n   * Generates a CSS string.\n   */;\n  _proto2.toString = function toString(options) {\n    var sheet = this.options.sheet;\n    var link = sheet ? sheet.options.link : false;\n    var opts = link ? _extends({}, options, {\n      allowEmpty: true\n    }) : options;\n    return toCss(this.selectorText, this.style, opts);\n  };\n  _createClass(StyleRule, [{\n    key: \"selector\",\n    set: function set(selector) {\n      if (selector === this.selectorText) return;\n      this.selectorText = selector;\n      var renderer = this.renderer,\n        renderable = this.renderable;\n      if (!renderable || !renderer) return;\n      var hasChanged = renderer.setSelector(renderable, selector); // If selector setter is not implemented, rerender the rule.\n\n      if (!hasChanged) {\n        renderer.replaceRule(renderable, this);\n      }\n    }\n    /**\n     * Get selector string.\n     */,\n\n    get: function get() {\n      return this.selectorText;\n    }\n  }]);\n  return StyleRule;\n}(BaseStyleRule);\nvar pluginStyleRule = {\n  onCreateRule: function onCreateRule(key, style, options) {\n    if (key[0] === '@' || options.parent && options.parent.type === 'keyframes') {\n      return null;\n    }\n    return new StyleRule(key, style, options);\n  }\n};\nvar defaultToStringOptions = {\n  indent: 1,\n  children: true\n};\nvar atRegExp = /@([\\w-]+)/;\n/**\n * Conditional rule for @media, @supports\n */\n\nvar ConditionalRule = /*#__PURE__*/\nfunction () {\n  function ConditionalRule(key, styles, options) {\n    this.type = 'conditional';\n    this.isProcessed = false;\n    this.key = key;\n    var atMatch = key.match(atRegExp);\n    this.at = atMatch ? atMatch[1] : 'unknown'; // Key might contain a unique suffix in case the `name` passed by user was duplicate.\n\n    this.query = options.name || \"@\" + this.at;\n    this.options = options;\n    this.rules = new RuleList(_extends({}, options, {\n      parent: this\n    }));\n    for (var name in styles) {\n      this.rules.add(name, styles[name]);\n    }\n    this.rules.process();\n  }\n  /**\n   * Get a rule.\n   */\n\n  var _proto = ConditionalRule.prototype;\n  _proto.getRule = function getRule(name) {\n    return this.rules.get(name);\n  }\n  /**\n   * Get index of a rule.\n   */;\n  _proto.indexOf = function indexOf(rule) {\n    return this.rules.indexOf(rule);\n  }\n  /**\n   * Create and register rule, run plugins.\n   */;\n  _proto.addRule = function addRule(name, style, options) {\n    var rule = this.rules.add(name, style, options);\n    if (!rule) return null;\n    this.options.jss.plugins.onProcessRule(rule);\n    return rule;\n  }\n  /**\n   * Replace rule, run plugins.\n   */;\n  _proto.replaceRule = function replaceRule(name, style, options) {\n    var newRule = this.rules.replace(name, style, options);\n    if (newRule) this.options.jss.plugins.onProcessRule(newRule);\n    return newRule;\n  }\n  /**\n   * Generates a CSS string.\n   */;\n  _proto.toString = function toString(options) {\n    if (options === void 0) {\n      options = defaultToStringOptions;\n    }\n    var _getWhitespaceSymbols = getWhitespaceSymbols(options),\n      linebreak = _getWhitespaceSymbols.linebreak;\n    if (options.indent == null) options.indent = defaultToStringOptions.indent;\n    if (options.children == null) options.children = defaultToStringOptions.children;\n    if (options.children === false) {\n      return this.query + \" {}\";\n    }\n    var children = this.rules.toString(options);\n    return children ? this.query + \" {\" + linebreak + children + linebreak + \"}\" : '';\n  };\n  return ConditionalRule;\n}();\nvar keyRegExp = /@container|@media|@supports\\s+/;\nvar pluginConditionalRule = {\n  onCreateRule: function onCreateRule(key, styles, options) {\n    return keyRegExp.test(key) ? new ConditionalRule(key, styles, options) : null;\n  }\n};\nvar defaultToStringOptions$1 = {\n  indent: 1,\n  children: true\n};\nvar nameRegExp = /@keyframes\\s+([\\w-]+)/;\n/**\n * Rule for @keyframes\n */\n\nvar KeyframesRule = /*#__PURE__*/\nfunction () {\n  function KeyframesRule(key, frames, options) {\n    this.type = 'keyframes';\n    this.at = '@keyframes';\n    this.isProcessed = false;\n    var nameMatch = key.match(nameRegExp);\n    if (nameMatch && nameMatch[1]) {\n      this.name = nameMatch[1];\n    } else {\n      this.name = 'noname';\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Bad keyframes name \" + key) : void 0;\n    }\n    this.key = this.type + \"-\" + this.name;\n    this.options = options;\n    var scoped = options.scoped,\n      sheet = options.sheet,\n      generateId = options.generateId;\n    this.id = scoped === false ? this.name : escape(generateId(this, sheet));\n    this.rules = new RuleList(_extends({}, options, {\n      parent: this\n    }));\n    for (var name in frames) {\n      this.rules.add(name, frames[name], _extends({}, options, {\n        parent: this\n      }));\n    }\n    this.rules.process();\n  }\n  /**\n   * Generates a CSS string.\n   */\n\n  var _proto = KeyframesRule.prototype;\n  _proto.toString = function toString(options) {\n    if (options === void 0) {\n      options = defaultToStringOptions$1;\n    }\n    var _getWhitespaceSymbols = getWhitespaceSymbols(options),\n      linebreak = _getWhitespaceSymbols.linebreak;\n    if (options.indent == null) options.indent = defaultToStringOptions$1.indent;\n    if (options.children == null) options.children = defaultToStringOptions$1.children;\n    if (options.children === false) {\n      return this.at + \" \" + this.id + \" {}\";\n    }\n    var children = this.rules.toString(options);\n    if (children) children = \"\" + linebreak + children + linebreak;\n    return this.at + \" \" + this.id + \" {\" + children + \"}\";\n  };\n  return KeyframesRule;\n}();\nvar keyRegExp$1 = /@keyframes\\s+/;\nvar refRegExp = /\\$([\\w-]+)/g;\nvar findReferencedKeyframe = function findReferencedKeyframe(val, keyframes) {\n  if (typeof val === 'string') {\n    return val.replace(refRegExp, function (match, name) {\n      if (name in keyframes) {\n        return keyframes[name];\n      }\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Referenced keyframes rule \\\"\" + name + \"\\\" is not defined.\") : void 0;\n      return match;\n    });\n  }\n  return val;\n};\n/**\n * Replace the reference for a animation name.\n */\n\nvar replaceRef = function replaceRef(style, prop, keyframes) {\n  var value = style[prop];\n  var refKeyframe = findReferencedKeyframe(value, keyframes);\n  if (refKeyframe !== value) {\n    style[prop] = refKeyframe;\n  }\n};\nvar pluginKeyframesRule = {\n  onCreateRule: function onCreateRule(key, frames, options) {\n    return typeof key === 'string' && keyRegExp$1.test(key) ? new KeyframesRule(key, frames, options) : null;\n  },\n  // Animation name ref replacer.\n  onProcessStyle: function onProcessStyle(style, rule, sheet) {\n    if (rule.type !== 'style' || !sheet) return style;\n    if ('animation-name' in style) replaceRef(style, 'animation-name', sheet.keyframes);\n    if ('animation' in style) replaceRef(style, 'animation', sheet.keyframes);\n    return style;\n  },\n  onChangeValue: function onChangeValue(val, prop, rule) {\n    var sheet = rule.options.sheet;\n    if (!sheet) {\n      return val;\n    }\n    switch (prop) {\n      case 'animation':\n        return findReferencedKeyframe(val, sheet.keyframes);\n      case 'animation-name':\n        return findReferencedKeyframe(val, sheet.keyframes);\n      default:\n        return val;\n    }\n  }\n};\nvar KeyframeRule = /*#__PURE__*/\nfunction (_BaseStyleRule) {\n  _inheritsLoose(KeyframeRule, _BaseStyleRule);\n  function KeyframeRule() {\n    return _BaseStyleRule.apply(this, arguments) || this;\n  }\n  var _proto = KeyframeRule.prototype;\n\n  /**\n   * Generates a CSS string.\n   */\n  _proto.toString = function toString(options) {\n    var sheet = this.options.sheet;\n    var link = sheet ? sheet.options.link : false;\n    var opts = link ? _extends({}, options, {\n      allowEmpty: true\n    }) : options;\n    return toCss(this.key, this.style, opts);\n  };\n  return KeyframeRule;\n}(BaseStyleRule);\nvar pluginKeyframeRule = {\n  onCreateRule: function onCreateRule(key, style, options) {\n    if (options.parent && options.parent.type === 'keyframes') {\n      return new KeyframeRule(key, style, options);\n    }\n    return null;\n  }\n};\nvar FontFaceRule = /*#__PURE__*/\nfunction () {\n  function FontFaceRule(key, style, options) {\n    this.type = 'font-face';\n    this.at = '@font-face';\n    this.isProcessed = false;\n    this.key = key;\n    this.style = style;\n    this.options = options;\n  }\n  /**\n   * Generates a CSS string.\n   */\n\n  var _proto = FontFaceRule.prototype;\n  _proto.toString = function toString(options) {\n    var _getWhitespaceSymbols = getWhitespaceSymbols(options),\n      linebreak = _getWhitespaceSymbols.linebreak;\n    if (Array.isArray(this.style)) {\n      var str = '';\n      for (var index = 0; index < this.style.length; index++) {\n        str += toCss(this.at, this.style[index]);\n        if (this.style[index + 1]) str += linebreak;\n      }\n      return str;\n    }\n    return toCss(this.at, this.style, options);\n  };\n  return FontFaceRule;\n}();\nvar keyRegExp$2 = /@font-face/;\nvar pluginFontFaceRule = {\n  onCreateRule: function onCreateRule(key, style, options) {\n    return keyRegExp$2.test(key) ? new FontFaceRule(key, style, options) : null;\n  }\n};\nvar ViewportRule = /*#__PURE__*/\nfunction () {\n  function ViewportRule(key, style, options) {\n    this.type = 'viewport';\n    this.at = '@viewport';\n    this.isProcessed = false;\n    this.key = key;\n    this.style = style;\n    this.options = options;\n  }\n  /**\n   * Generates a CSS string.\n   */\n\n  var _proto = ViewportRule.prototype;\n  _proto.toString = function toString(options) {\n    return toCss(this.key, this.style, options);\n  };\n  return ViewportRule;\n}();\nvar pluginViewportRule = {\n  onCreateRule: function onCreateRule(key, style, options) {\n    return key === '@viewport' || key === '@-ms-viewport' ? new ViewportRule(key, style, options) : null;\n  }\n};\nvar SimpleRule = /*#__PURE__*/\nfunction () {\n  function SimpleRule(key, value, options) {\n    this.type = 'simple';\n    this.isProcessed = false;\n    this.key = key;\n    this.value = value;\n    this.options = options;\n  }\n  /**\n   * Generates a CSS string.\n   */\n  // eslint-disable-next-line no-unused-vars\n\n  var _proto = SimpleRule.prototype;\n  _proto.toString = function toString(options) {\n    if (Array.isArray(this.value)) {\n      var str = '';\n      for (var index = 0; index < this.value.length; index++) {\n        str += this.key + \" \" + this.value[index] + \";\";\n        if (this.value[index + 1]) str += '\\n';\n      }\n      return str;\n    }\n    return this.key + \" \" + this.value + \";\";\n  };\n  return SimpleRule;\n}();\nvar keysMap = {\n  '@charset': true,\n  '@import': true,\n  '@namespace': true\n};\nvar pluginSimpleRule = {\n  onCreateRule: function onCreateRule(key, value, options) {\n    return key in keysMap ? new SimpleRule(key, value, options) : null;\n  }\n};\nvar plugins = [pluginStyleRule, pluginConditionalRule, pluginKeyframesRule, pluginKeyframeRule, pluginFontFaceRule, pluginViewportRule, pluginSimpleRule];\nvar defaultUpdateOptions = {\n  process: true\n};\nvar forceUpdateOptions = {\n  force: true,\n  process: true\n  /**\n   * Contains rules objects and allows adding/removing etc.\n   * Is used for e.g. by `StyleSheet` or `ConditionalRule`.\n   */\n};\nvar RuleList = /*#__PURE__*/\nfunction () {\n  // Rules registry for access by .get() method.\n  // It contains the same rule registered by name and by selector.\n  // Original styles object.\n  // Used to ensure correct rules order.\n  function RuleList(options) {\n    this.map = {};\n    this.raw = {};\n    this.index = [];\n    this.counter = 0;\n    this.options = options;\n    this.classes = options.classes;\n    this.keyframes = options.keyframes;\n  }\n  /**\n   * Create and register rule.\n   *\n   * Will not render after Style Sheet was rendered the first time.\n   */\n\n  var _proto = RuleList.prototype;\n  _proto.add = function add(name, decl, ruleOptions) {\n    var _this$options = this.options,\n      parent = _this$options.parent,\n      sheet = _this$options.sheet,\n      jss = _this$options.jss,\n      Renderer = _this$options.Renderer,\n      generateId = _this$options.generateId,\n      scoped = _this$options.scoped;\n    var options = _extends({\n      classes: this.classes,\n      parent: parent,\n      sheet: sheet,\n      jss: jss,\n      Renderer: Renderer,\n      generateId: generateId,\n      scoped: scoped,\n      name: name,\n      keyframes: this.keyframes,\n      selector: undefined\n    }, ruleOptions); // When user uses .createStyleSheet(), duplicate names are not possible, but\n    // `sheet.addRule()` opens the door for any duplicate rule name. When this happens\n    // we need to make the key unique within this RuleList instance scope.\n\n    var key = name;\n    if (name in this.raw) {\n      key = name + \"-d\" + this.counter++;\n    } // We need to save the original decl before creating the rule\n    // because cache plugin needs to use it as a key to return a cached rule.\n\n    this.raw[key] = decl;\n    if (key in this.classes) {\n      // E.g. rules inside of @media container\n      options.selector = \".\" + escape(this.classes[key]);\n    }\n    var rule = createRule(key, decl, options);\n    if (!rule) return null;\n    this.register(rule);\n    var index = options.index === undefined ? this.index.length : options.index;\n    this.index.splice(index, 0, rule);\n    return rule;\n  }\n  /**\n   * Replace rule.\n   * Create a new rule and remove old one instead of overwriting\n   * because we want to invoke onCreateRule hook to make plugins work.\n   */;\n  _proto.replace = function replace(name, decl, ruleOptions) {\n    var oldRule = this.get(name);\n    var oldIndex = this.index.indexOf(oldRule);\n    if (oldRule) {\n      this.remove(oldRule);\n    }\n    var options = ruleOptions;\n    if (oldIndex !== -1) options = _extends({}, ruleOptions, {\n      index: oldIndex\n    });\n    return this.add(name, decl, options);\n  }\n  /**\n   * Get a rule by name or selector.\n   */;\n  _proto.get = function get(nameOrSelector) {\n    return this.map[nameOrSelector];\n  }\n  /**\n   * Delete a rule.\n   */;\n  _proto.remove = function remove(rule) {\n    this.unregister(rule);\n    delete this.raw[rule.key];\n    this.index.splice(this.index.indexOf(rule), 1);\n  }\n  /**\n   * Get index of a rule.\n   */;\n  _proto.indexOf = function indexOf(rule) {\n    return this.index.indexOf(rule);\n  }\n  /**\n   * Run `onProcessRule()` plugins on every rule.\n   */;\n  _proto.process = function process() {\n    var plugins = this.options.jss.plugins; // We need to clone array because if we modify the index somewhere else during a loop\n    // we end up with very hard-to-track-down side effects.\n\n    this.index.slice(0).forEach(plugins.onProcessRule, plugins);\n  }\n  /**\n   * Register a rule in `.map`, `.classes` and `.keyframes` maps.\n   */;\n  _proto.register = function register(rule) {\n    this.map[rule.key] = rule;\n    if (rule instanceof StyleRule) {\n      this.map[rule.selector] = rule;\n      if (rule.id) this.classes[rule.key] = rule.id;\n    } else if (rule instanceof KeyframesRule && this.keyframes) {\n      this.keyframes[rule.name] = rule.id;\n    }\n  }\n  /**\n   * Unregister a rule.\n   */;\n  _proto.unregister = function unregister(rule) {\n    delete this.map[rule.key];\n    if (rule instanceof StyleRule) {\n      delete this.map[rule.selector];\n      delete this.classes[rule.key];\n    } else if (rule instanceof KeyframesRule) {\n      delete this.keyframes[rule.name];\n    }\n  }\n  /**\n   * Update the function values with a new data.\n   */;\n  _proto.update = function update() {\n    var name;\n    var data;\n    var options;\n    if (typeof (arguments.length <= 0 ? undefined : arguments[0]) === 'string') {\n      name = arguments.length <= 0 ? undefined : arguments[0];\n      data = arguments.length <= 1 ? undefined : arguments[1];\n      options = arguments.length <= 2 ? undefined : arguments[2];\n    } else {\n      data = arguments.length <= 0 ? undefined : arguments[0];\n      options = arguments.length <= 1 ? undefined : arguments[1];\n      name = null;\n    }\n    if (name) {\n      this.updateOne(this.get(name), data, options);\n    } else {\n      for (var index = 0; index < this.index.length; index++) {\n        this.updateOne(this.index[index], data, options);\n      }\n    }\n  }\n  /**\n   * Execute plugins, update rule props.\n   */;\n  _proto.updateOne = function updateOne(rule, data, options) {\n    if (options === void 0) {\n      options = defaultUpdateOptions;\n    }\n    var _this$options2 = this.options,\n      plugins = _this$options2.jss.plugins,\n      sheet = _this$options2.sheet; // It is a rules container like for e.g. ConditionalRule.\n\n    if (rule.rules instanceof RuleList) {\n      rule.rules.update(data, options);\n      return;\n    }\n    var style = rule.style;\n    plugins.onUpdate(data, rule, sheet, options); // We rely on a new `style` ref in case it was mutated during onUpdate hook.\n\n    if (options.process && style && style !== rule.style) {\n      // We need to run the plugins in case new `style` relies on syntax plugins.\n      plugins.onProcessStyle(rule.style, rule, sheet); // Update and add props.\n\n      for (var prop in rule.style) {\n        var nextValue = rule.style[prop];\n        var prevValue = style[prop]; // We need to use `force: true` because `rule.style` has been updated during onUpdate hook, so `rule.prop()` will not update the CSSOM rule.\n        // We do this comparison to avoid unneeded `rule.prop()` calls, since we have the old `style` object here.\n\n        if (nextValue !== prevValue) {\n          rule.prop(prop, nextValue, forceUpdateOptions);\n        }\n      } // Remove props.\n\n      for (var _prop in style) {\n        var _nextValue = rule.style[_prop];\n        var _prevValue = style[_prop]; // We need to use `force: true` because `rule.style` has been updated during onUpdate hook, so `rule.prop()` will not update the CSSOM rule.\n        // We do this comparison to avoid unneeded `rule.prop()` calls, since we have the old `style` object here.\n\n        if (_nextValue == null && _nextValue !== _prevValue) {\n          rule.prop(_prop, null, forceUpdateOptions);\n        }\n      }\n    }\n  }\n  /**\n   * Convert rules to a CSS string.\n   */;\n  _proto.toString = function toString(options) {\n    var str = '';\n    var sheet = this.options.sheet;\n    var link = sheet ? sheet.options.link : false;\n    var _getWhitespaceSymbols = getWhitespaceSymbols(options),\n      linebreak = _getWhitespaceSymbols.linebreak;\n    for (var index = 0; index < this.index.length; index++) {\n      var rule = this.index[index];\n      var css = rule.toString(options); // No need to render an empty rule.\n\n      if (!css && !link) continue;\n      if (str) str += linebreak;\n      str += css;\n    }\n    return str;\n  };\n  return RuleList;\n}();\nvar StyleSheet = /*#__PURE__*/\nfunction () {\n  function StyleSheet(styles, options) {\n    this.attached = false;\n    this.deployed = false;\n    this.classes = {};\n    this.keyframes = {};\n    this.options = _extends({}, options, {\n      sheet: this,\n      parent: this,\n      classes: this.classes,\n      keyframes: this.keyframes\n    });\n    if (options.Renderer) {\n      this.renderer = new options.Renderer(this);\n    }\n    this.rules = new RuleList(this.options);\n    for (var name in styles) {\n      this.rules.add(name, styles[name]);\n    }\n    this.rules.process();\n  }\n  /**\n   * Attach renderable to the render tree.\n   */\n\n  var _proto = StyleSheet.prototype;\n  _proto.attach = function attach() {\n    if (this.attached) return this;\n    if (this.renderer) this.renderer.attach();\n    this.attached = true; // Order is important, because we can't use insertRule API if style element is not attached.\n\n    if (!this.deployed) this.deploy();\n    return this;\n  }\n  /**\n   * Remove renderable from render tree.\n   */;\n  _proto.detach = function detach() {\n    if (!this.attached) return this;\n    if (this.renderer) this.renderer.detach();\n    this.attached = false;\n    return this;\n  }\n  /**\n   * Add a rule to the current stylesheet.\n   * Will insert a rule also after the stylesheet has been rendered first time.\n   */;\n  _proto.addRule = function addRule(name, decl, options) {\n    var queue = this.queue; // Plugins can create rules.\n    // In order to preserve the right order, we need to queue all `.addRule` calls,\n    // which happen after the first `rules.add()` call.\n\n    if (this.attached && !queue) this.queue = [];\n    var rule = this.rules.add(name, decl, options);\n    if (!rule) return null;\n    this.options.jss.plugins.onProcessRule(rule);\n    if (this.attached) {\n      if (!this.deployed) return rule; // Don't insert rule directly if there is no stringified version yet.\n      // It will be inserted all together when .attach is called.\n\n      if (queue) queue.push(rule);else {\n        this.insertRule(rule);\n        if (this.queue) {\n          this.queue.forEach(this.insertRule, this);\n          this.queue = undefined;\n        }\n      }\n      return rule;\n    } // We can't add rules to a detached style node.\n    // We will redeploy the sheet once user will attach it.\n\n    this.deployed = false;\n    return rule;\n  }\n  /**\n   * Replace a rule in the current stylesheet.\n   */;\n  _proto.replaceRule = function replaceRule(nameOrSelector, decl, options) {\n    var oldRule = this.rules.get(nameOrSelector);\n    if (!oldRule) return this.addRule(nameOrSelector, decl, options);\n    var newRule = this.rules.replace(nameOrSelector, decl, options);\n    if (newRule) {\n      this.options.jss.plugins.onProcessRule(newRule);\n    }\n    if (this.attached) {\n      if (!this.deployed) return newRule; // Don't replace / delete rule directly if there is no stringified version yet.\n      // It will be inserted all together when .attach is called.\n\n      if (this.renderer) {\n        if (!newRule) {\n          this.renderer.deleteRule(oldRule);\n        } else if (oldRule.renderable) {\n          this.renderer.replaceRule(oldRule.renderable, newRule);\n        }\n      }\n      return newRule;\n    } // We can't replace rules to a detached style node.\n    // We will redeploy the sheet once user will attach it.\n\n    this.deployed = false;\n    return newRule;\n  }\n  /**\n   * Insert rule into the StyleSheet\n   */;\n  _proto.insertRule = function insertRule(rule) {\n    if (this.renderer) {\n      this.renderer.insertRule(rule);\n    }\n  }\n  /**\n   * Create and add rules.\n   * Will render also after Style Sheet was rendered the first time.\n   */;\n  _proto.addRules = function addRules(styles, options) {\n    var added = [];\n    for (var name in styles) {\n      var rule = this.addRule(name, styles[name], options);\n      if (rule) added.push(rule);\n    }\n    return added;\n  }\n  /**\n   * Get a rule by name or selector.\n   */;\n  _proto.getRule = function getRule(nameOrSelector) {\n    return this.rules.get(nameOrSelector);\n  }\n  /**\n   * Delete a rule by name.\n   * Returns `true`: if rule has been deleted from the DOM.\n   */;\n  _proto.deleteRule = function deleteRule(name) {\n    var rule = typeof name === 'object' ? name : this.rules.get(name);\n    if (!rule ||\n    // Style sheet was created without link: true and attached, in this case we\n    // won't be able to remove the CSS rule from the DOM.\n    this.attached && !rule.renderable) {\n      return false;\n    }\n    this.rules.remove(rule);\n    if (this.attached && rule.renderable && this.renderer) {\n      return this.renderer.deleteRule(rule.renderable);\n    }\n    return true;\n  }\n  /**\n   * Get index of a rule.\n   */;\n  _proto.indexOf = function indexOf(rule) {\n    return this.rules.indexOf(rule);\n  }\n  /**\n   * Deploy pure CSS string to a renderable.\n   */;\n  _proto.deploy = function deploy() {\n    if (this.renderer) this.renderer.deploy();\n    this.deployed = true;\n    return this;\n  }\n  /**\n   * Update the function values with a new data.\n   */;\n  _proto.update = function update() {\n    var _this$rules;\n    (_this$rules = this.rules).update.apply(_this$rules, arguments);\n    return this;\n  }\n  /**\n   * Updates a single rule.\n   */;\n  _proto.updateOne = function updateOne(rule, data, options) {\n    this.rules.updateOne(rule, data, options);\n    return this;\n  }\n  /**\n   * Convert rules to a CSS string.\n   */;\n  _proto.toString = function toString(options) {\n    return this.rules.toString(options);\n  };\n  return StyleSheet;\n}();\nvar PluginsRegistry = /*#__PURE__*/\nfunction () {\n  function PluginsRegistry() {\n    this.plugins = {\n      internal: [],\n      external: []\n    };\n    this.registry = {};\n  }\n  var _proto = PluginsRegistry.prototype;\n\n  /**\n   * Call `onCreateRule` hooks and return an object if returned by a hook.\n   */\n  _proto.onCreateRule = function onCreateRule(name, decl, options) {\n    for (var i = 0; i < this.registry.onCreateRule.length; i++) {\n      var rule = this.registry.onCreateRule[i](name, decl, options);\n      if (rule) return rule;\n    }\n    return null;\n  }\n  /**\n   * Call `onProcessRule` hooks.\n   */;\n  _proto.onProcessRule = function onProcessRule(rule) {\n    if (rule.isProcessed) return;\n    var sheet = rule.options.sheet;\n    for (var i = 0; i < this.registry.onProcessRule.length; i++) {\n      this.registry.onProcessRule[i](rule, sheet);\n    }\n    if (rule.style) this.onProcessStyle(rule.style, rule, sheet);\n    rule.isProcessed = true;\n  }\n  /**\n   * Call `onProcessStyle` hooks.\n   */;\n  _proto.onProcessStyle = function onProcessStyle(style, rule, sheet) {\n    for (var i = 0; i < this.registry.onProcessStyle.length; i++) {\n      rule.style = this.registry.onProcessStyle[i](rule.style, rule, sheet);\n    }\n  }\n  /**\n   * Call `onProcessSheet` hooks.\n   */;\n  _proto.onProcessSheet = function onProcessSheet(sheet) {\n    for (var i = 0; i < this.registry.onProcessSheet.length; i++) {\n      this.registry.onProcessSheet[i](sheet);\n    }\n  }\n  /**\n   * Call `onUpdate` hooks.\n   */;\n  _proto.onUpdate = function onUpdate(data, rule, sheet, options) {\n    for (var i = 0; i < this.registry.onUpdate.length; i++) {\n      this.registry.onUpdate[i](data, rule, sheet, options);\n    }\n  }\n  /**\n   * Call `onChangeValue` hooks.\n   */;\n  _proto.onChangeValue = function onChangeValue(value, prop, rule) {\n    var processedValue = value;\n    for (var i = 0; i < this.registry.onChangeValue.length; i++) {\n      processedValue = this.registry.onChangeValue[i](processedValue, prop, rule);\n    }\n    return processedValue;\n  }\n  /**\n   * Register a plugin.\n   */;\n  _proto.use = function use(newPlugin, options) {\n    if (options === void 0) {\n      options = {\n        queue: 'external'\n      };\n    }\n    var plugins = this.plugins[options.queue]; // Avoids applying same plugin twice, at least based on ref.\n\n    if (plugins.indexOf(newPlugin) !== -1) {\n      return;\n    }\n    plugins.push(newPlugin);\n    this.registry = [].concat(this.plugins.external, this.plugins.internal).reduce(function (registry, plugin) {\n      for (var name in plugin) {\n        if (name in registry) {\n          registry[name].push(plugin[name]);\n        } else {\n          process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Unknown hook \\\"\" + name + \"\\\".\") : void 0;\n        }\n      }\n      return registry;\n    }, {\n      onCreateRule: [],\n      onProcessRule: [],\n      onProcessStyle: [],\n      onProcessSheet: [],\n      onChangeValue: [],\n      onUpdate: []\n    });\n  };\n  return PluginsRegistry;\n}();\n\n/**\n * Sheets registry to access all instances in one place.\n */\n\nvar SheetsRegistry = /*#__PURE__*/\nfunction () {\n  function SheetsRegistry() {\n    this.registry = [];\n  }\n  var _proto = SheetsRegistry.prototype;\n\n  /**\n   * Register a Style Sheet.\n   */\n  _proto.add = function add(sheet) {\n    var registry = this.registry;\n    var index = sheet.options.index;\n    if (registry.indexOf(sheet) !== -1) return;\n    if (registry.length === 0 || index >= this.index) {\n      registry.push(sheet);\n      return;\n    } // Find a position.\n\n    for (var i = 0; i < registry.length; i++) {\n      if (registry[i].options.index > index) {\n        registry.splice(i, 0, sheet);\n        return;\n      }\n    }\n  }\n  /**\n   * Reset the registry.\n   */;\n  _proto.reset = function reset() {\n    this.registry = [];\n  }\n  /**\n   * Remove a Style Sheet.\n   */;\n  _proto.remove = function remove(sheet) {\n    var index = this.registry.indexOf(sheet);\n    this.registry.splice(index, 1);\n  }\n  /**\n   * Convert all attached sheets to a CSS string.\n   */;\n  _proto.toString = function toString(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n      attached = _ref.attached,\n      options = _objectWithoutPropertiesLoose(_ref, [\"attached\"]);\n    var _getWhitespaceSymbols = getWhitespaceSymbols(options),\n      linebreak = _getWhitespaceSymbols.linebreak;\n    var css = '';\n    for (var i = 0; i < this.registry.length; i++) {\n      var sheet = this.registry[i];\n      if (attached != null && sheet.attached !== attached) {\n        continue;\n      }\n      if (css) css += linebreak;\n      css += sheet.toString(options);\n    }\n    return css;\n  };\n  _createClass(SheetsRegistry, [{\n    key: \"index\",\n    /**\n     * Current highest index number.\n     */\n    get: function get() {\n      return this.registry.length === 0 ? 0 : this.registry[this.registry.length - 1].options.index;\n    }\n  }]);\n  return SheetsRegistry;\n}();\n\n/**\n * This is a global sheets registry. Only DomRenderer will add sheets to it.\n * On the server one should use an own SheetsRegistry instance and add the\n * sheets to it, because you need to make sure to create a new registry for\n * each request in order to not leak sheets across requests.\n */\n\nvar sheets = new SheetsRegistry();\n\n/* eslint-disable */\n\n/**\n * Now that `globalThis` is available on most platforms\n * (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/globalThis#browser_compatibility)\n * we check for `globalThis` first. `globalThis` is necessary for jss\n * to run in Agoric's secure version of JavaScript (SES). Under SES,\n * `globalThis` exists, but `window`, `self`, and `Function('return\n * this')()` are all undefined for security reasons.\n *\n * https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n */\nvar globalThis$1 = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' && window.Math === Math ? window : typeof self !== 'undefined' && self.Math === Math ? self : Function('return this')();\nvar ns = '2f1acc6c3a606b082e5eef5e54414ffb';\nif (globalThis$1[ns] == null) globalThis$1[ns] = 0; // Bundle may contain multiple JSS versions at the same time. In order to identify\n// the current version with just one short number and use it for classes generation\n// we use a counter. Also it is more accurate, because user can manually reevaluate\n// the module.\n\nvar moduleId = globalThis$1[ns]++;\nvar maxRules = 1e10;\n/**\n * Returns a function which generates unique class names based on counters.\n * When new generator function is created, rule counter is reseted.\n * We need to reset the rule counter for SSR for each request.\n */\n\nvar createGenerateId = function createGenerateId(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  var ruleCounter = 0;\n  var generateId = function generateId(rule, sheet) {\n    ruleCounter += 1;\n    if (ruleCounter > maxRules) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] You might have a memory leak. Rule counter is at \" + ruleCounter + \".\") : void 0;\n    }\n    var jssId = '';\n    var prefix = '';\n    if (sheet) {\n      if (sheet.options.classNamePrefix) {\n        prefix = sheet.options.classNamePrefix;\n      }\n      if (sheet.options.jss.id != null) {\n        jssId = String(sheet.options.jss.id);\n      }\n    }\n    if (options.minify) {\n      // Using \"c\" because a number can't be the first char in a class name.\n      return \"\" + (prefix || 'c') + moduleId + jssId + ruleCounter;\n    }\n    return prefix + rule.key + \"-\" + moduleId + (jssId ? \"-\" + jssId : '') + \"-\" + ruleCounter;\n  };\n  return generateId;\n};\n\n/**\n * Cache the value from the first time a function is called.\n */\n\nvar memoize = function memoize(fn) {\n  var value;\n  return function () {\n    if (!value) value = fn();\n    return value;\n  };\n};\n/**\n * Get a style property value.\n */\n\nvar getPropertyValue = function getPropertyValue(cssRule, prop) {\n  try {\n    // Support CSSTOM.\n    if (cssRule.attributeStyleMap) {\n      return cssRule.attributeStyleMap.get(prop);\n    }\n    return cssRule.style.getPropertyValue(prop);\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return '';\n  }\n};\n/**\n * Set a style property.\n */\n\nvar setProperty = function setProperty(cssRule, prop, value) {\n  try {\n    var cssValue = value;\n    if (Array.isArray(value)) {\n      cssValue = toCssValue(value);\n    } // Support CSSTOM.\n\n    if (cssRule.attributeStyleMap) {\n      cssRule.attributeStyleMap.set(prop, cssValue);\n    } else {\n      var indexOfImportantFlag = cssValue ? cssValue.indexOf('!important') : -1;\n      var cssValueWithoutImportantFlag = indexOfImportantFlag > -1 ? cssValue.substr(0, indexOfImportantFlag - 1) : cssValue;\n      cssRule.style.setProperty(prop, cssValueWithoutImportantFlag, indexOfImportantFlag > -1 ? 'important' : '');\n    }\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return false;\n  }\n  return true;\n};\n/**\n * Remove a style property.\n */\n\nvar removeProperty = function removeProperty(cssRule, prop) {\n  try {\n    // Support CSSTOM.\n    if (cssRule.attributeStyleMap) {\n      cssRule.attributeStyleMap.delete(prop);\n    } else {\n      cssRule.style.removeProperty(prop);\n    }\n  } catch (err) {\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] DOMException \\\"\" + err.message + \"\\\" was thrown. Tried to remove property \\\"\" + prop + \"\\\".\") : void 0;\n  }\n};\n/**\n * Set the selector.\n */\n\nvar setSelector = function setSelector(cssRule, selectorText) {\n  cssRule.selectorText = selectorText; // Return false if setter was not successful.\n  // Currently works in chrome only.\n\n  return cssRule.selectorText === selectorText;\n};\n/**\n * Gets the `head` element upon the first call and caches it.\n * We assume it can't be null.\n */\n\nvar getHead = memoize(function () {\n  return document.querySelector('head');\n});\n/**\n * Find attached sheet with an index higher than the passed one.\n */\n\nfunction findHigherSheet(registry, options) {\n  for (var i = 0; i < registry.length; i++) {\n    var sheet = registry[i];\n    if (sheet.attached && sheet.options.index > options.index && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n  return null;\n}\n/**\n * Find attached sheet with the highest index.\n */\n\nfunction findHighestSheet(registry, options) {\n  for (var i = registry.length - 1; i >= 0; i--) {\n    var sheet = registry[i];\n    if (sheet.attached && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n  return null;\n}\n/**\n * Find a comment with \"jss\" inside.\n */\n\nfunction findCommentNode(text) {\n  var head = getHead();\n  for (var i = 0; i < head.childNodes.length; i++) {\n    var node = head.childNodes[i];\n    if (node.nodeType === 8 && node.nodeValue.trim() === text) {\n      return node;\n    }\n  }\n  return null;\n}\n/**\n * Find a node before which we can insert the sheet.\n */\n\nfunction findPrevNode(options) {\n  var registry = sheets.registry;\n  if (registry.length > 0) {\n    // Try to insert before the next higher sheet.\n    var sheet = findHigherSheet(registry, options);\n    if (sheet && sheet.renderer) {\n      return {\n        parent: sheet.renderer.element.parentNode,\n        node: sheet.renderer.element\n      };\n    } // Otherwise insert after the last attached.\n\n    sheet = findHighestSheet(registry, options);\n    if (sheet && sheet.renderer) {\n      return {\n        parent: sheet.renderer.element.parentNode,\n        node: sheet.renderer.element.nextSibling\n      };\n    }\n  } // Try to find a comment placeholder if registry is empty.\n\n  var insertionPoint = options.insertionPoint;\n  if (insertionPoint && typeof insertionPoint === 'string') {\n    var comment = findCommentNode(insertionPoint);\n    if (comment) {\n      return {\n        parent: comment.parentNode,\n        node: comment.nextSibling\n      };\n    } // If user specifies an insertion point and it can't be found in the document -\n    // bad specificity issues may appear.\n\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Insertion point \\\"\" + insertionPoint + \"\\\" not found.\") : void 0;\n  }\n  return false;\n}\n/**\n * Insert style element into the DOM.\n */\n\nfunction insertStyle(style, options) {\n  var insertionPoint = options.insertionPoint;\n  var nextNode = findPrevNode(options);\n  if (nextNode !== false && nextNode.parent) {\n    nextNode.parent.insertBefore(style, nextNode.node);\n    return;\n  } // Works with iframes and any node types.\n\n  if (insertionPoint && typeof insertionPoint.nodeType === 'number') {\n    var insertionPointElement = insertionPoint;\n    var parentNode = insertionPointElement.parentNode;\n    if (parentNode) parentNode.insertBefore(style, insertionPointElement.nextSibling);else process.env.NODE_ENV !== \"production\" ? warning(false, '[JSS] Insertion point is not in the DOM.') : void 0;\n    return;\n  }\n  getHead().appendChild(style);\n}\n/**\n * Read jss nonce setting from the page if the user has set it.\n */\n\nvar getNonce = memoize(function () {\n  var node = document.querySelector('meta[property=\"csp-nonce\"]');\n  return node ? node.getAttribute('content') : null;\n});\nvar _insertRule = function insertRule(container, rule, index) {\n  try {\n    if ('insertRule' in container) {\n      container.insertRule(rule, index);\n    } // Keyframes rule.\n    else if ('appendRule' in container) {\n      container.appendRule(rule);\n    }\n  } catch (err) {\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] \" + err.message) : void 0;\n    return false;\n  }\n  return container.cssRules[index];\n};\nvar getValidRuleInsertionIndex = function getValidRuleInsertionIndex(container, index) {\n  var maxIndex = container.cssRules.length; // In case previous insertion fails, passed index might be wrong\n\n  if (index === undefined || index > maxIndex) {\n    // eslint-disable-next-line no-param-reassign\n    return maxIndex;\n  }\n  return index;\n};\nvar createStyle = function createStyle() {\n  var el = document.createElement('style'); // Without it, IE will have a broken source order specificity if we\n  // insert rules after we insert the style tag.\n  // It seems to kick-off the source order specificity algorithm.\n\n  el.textContent = '\\n';\n  return el;\n};\nvar DomRenderer = /*#__PURE__*/\nfunction () {\n  // Will be empty if link: true option is not set, because\n  // it is only for use together with insertRule API.\n  function DomRenderer(sheet) {\n    this.getPropertyValue = getPropertyValue;\n    this.setProperty = setProperty;\n    this.removeProperty = removeProperty;\n    this.setSelector = setSelector;\n    this.hasInsertedRules = false;\n    this.cssRules = [];\n    // There is no sheet when the renderer is used from a standalone StyleRule.\n    if (sheet) sheets.add(sheet);\n    this.sheet = sheet;\n    var _ref = this.sheet ? this.sheet.options : {},\n      media = _ref.media,\n      meta = _ref.meta,\n      element = _ref.element;\n    this.element = element || createStyle();\n    this.element.setAttribute('data-jss', '');\n    if (media) this.element.setAttribute('media', media);\n    if (meta) this.element.setAttribute('data-meta', meta);\n    var nonce = getNonce();\n    if (nonce) this.element.setAttribute('nonce', nonce);\n  }\n  /**\n   * Insert style element into render tree.\n   */\n\n  var _proto = DomRenderer.prototype;\n  _proto.attach = function attach() {\n    // In the case the element node is external and it is already in the DOM.\n    if (this.element.parentNode || !this.sheet) return;\n    insertStyle(this.element, this.sheet.options); // When rules are inserted using `insertRule` API, after `sheet.detach().attach()`\n    // most browsers create a new CSSStyleSheet, except of all IEs.\n\n    var deployed = Boolean(this.sheet && this.sheet.deployed);\n    if (this.hasInsertedRules && deployed) {\n      this.hasInsertedRules = false;\n      this.deploy();\n    }\n  }\n  /**\n   * Remove style element from render tree.\n   */;\n  _proto.detach = function detach() {\n    if (!this.sheet) return;\n    var parentNode = this.element.parentNode;\n    if (parentNode) parentNode.removeChild(this.element); // In the most browsers, rules inserted using insertRule() API will be lost when style element is removed.\n    // Though IE will keep them and we need a consistent behavior.\n\n    if (this.sheet.options.link) {\n      this.cssRules = [];\n      this.element.textContent = '\\n';\n    }\n  }\n  /**\n   * Inject CSS string into element.\n   */;\n  _proto.deploy = function deploy() {\n    var sheet = this.sheet;\n    if (!sheet) return;\n    if (sheet.options.link) {\n      this.insertRules(sheet.rules);\n      return;\n    }\n    this.element.textContent = \"\\n\" + sheet.toString() + \"\\n\";\n  }\n  /**\n   * Insert RuleList into an element.\n   */;\n  _proto.insertRules = function insertRules(rules, nativeParent) {\n    for (var i = 0; i < rules.index.length; i++) {\n      this.insertRule(rules.index[i], i, nativeParent);\n    }\n  }\n  /**\n   * Insert a rule into element.\n   */;\n  _proto.insertRule = function insertRule(rule, index, nativeParent) {\n    if (nativeParent === void 0) {\n      nativeParent = this.element.sheet;\n    }\n    if (rule.rules) {\n      var parent = rule;\n      var latestNativeParent = nativeParent;\n      if (rule.type === 'conditional' || rule.type === 'keyframes') {\n        var _insertionIndex = getValidRuleInsertionIndex(nativeParent, index); // We need to render the container without children first.\n\n        latestNativeParent = _insertRule(nativeParent, parent.toString({\n          children: false\n        }), _insertionIndex);\n        if (latestNativeParent === false) {\n          return false;\n        }\n        this.refCssRule(rule, _insertionIndex, latestNativeParent);\n      }\n      this.insertRules(parent.rules, latestNativeParent);\n      return latestNativeParent;\n    }\n    var ruleStr = rule.toString();\n    if (!ruleStr) return false;\n    var insertionIndex = getValidRuleInsertionIndex(nativeParent, index);\n    var nativeRule = _insertRule(nativeParent, ruleStr, insertionIndex);\n    if (nativeRule === false) {\n      return false;\n    }\n    this.hasInsertedRules = true;\n    this.refCssRule(rule, insertionIndex, nativeRule);\n    return nativeRule;\n  };\n  _proto.refCssRule = function refCssRule(rule, index, cssRule) {\n    rule.renderable = cssRule; // We only want to reference the top level rules, deleteRule API doesn't support removing nested rules\n    // like rules inside media queries or keyframes\n\n    if (rule.options.parent instanceof StyleSheet) {\n      this.cssRules.splice(index, 0, cssRule);\n    }\n  }\n  /**\n   * Delete a rule.\n   */;\n  _proto.deleteRule = function deleteRule(cssRule) {\n    var sheet = this.element.sheet;\n    var index = this.indexOf(cssRule);\n    if (index === -1) return false;\n    sheet.deleteRule(index);\n    this.cssRules.splice(index, 1);\n    return true;\n  }\n  /**\n   * Get index of a CSS Rule.\n   */;\n  _proto.indexOf = function indexOf(cssRule) {\n    return this.cssRules.indexOf(cssRule);\n  }\n  /**\n   * Generate a new CSS rule and replace the existing one.\n   */;\n  _proto.replaceRule = function replaceRule(cssRule, rule) {\n    var index = this.indexOf(cssRule);\n    if (index === -1) return false;\n    this.element.sheet.deleteRule(index);\n    this.cssRules.splice(index, 1);\n    return this.insertRule(rule, index);\n  }\n  /**\n   * Get all rules elements.\n   */;\n  _proto.getRules = function getRules() {\n    return this.element.sheet.cssRules;\n  };\n  return DomRenderer;\n}();\nvar instanceCounter = 0;\nvar Jss = /*#__PURE__*/\nfunction () {\n  function Jss(options) {\n    this.id = instanceCounter++;\n    this.version = \"10.10.0\";\n    this.plugins = new PluginsRegistry();\n    this.options = {\n      id: {\n        minify: false\n      },\n      createGenerateId: createGenerateId,\n      Renderer: isInBrowser ? DomRenderer : null,\n      plugins: []\n    };\n    this.generateId = createGenerateId({\n      minify: false\n    });\n    for (var i = 0; i < plugins.length; i++) {\n      this.plugins.use(plugins[i], {\n        queue: 'internal'\n      });\n    }\n    this.setup(options);\n  }\n  /**\n   * Prepares various options, applies plugins.\n   * Should not be used twice on the same instance, because there is no plugins\n   * deduplication logic.\n   */\n\n  var _proto = Jss.prototype;\n  _proto.setup = function setup(options) {\n    if (options === void 0) {\n      options = {};\n    }\n    if (options.createGenerateId) {\n      this.options.createGenerateId = options.createGenerateId;\n    }\n    if (options.id) {\n      this.options.id = _extends({}, this.options.id, options.id);\n    }\n    if (options.createGenerateId || options.id) {\n      this.generateId = this.options.createGenerateId(this.options.id);\n    }\n    if (options.insertionPoint != null) this.options.insertionPoint = options.insertionPoint;\n    if ('Renderer' in options) {\n      this.options.Renderer = options.Renderer;\n    } // eslint-disable-next-line prefer-spread\n\n    if (options.plugins) this.use.apply(this, options.plugins);\n    return this;\n  }\n  /**\n   * Create a Style Sheet.\n   */;\n  _proto.createStyleSheet = function createStyleSheet(styles, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    var _options = options,\n      index = _options.index;\n    if (typeof index !== 'number') {\n      index = sheets.index === 0 ? 0 : sheets.index + 1;\n    }\n    var sheet = new StyleSheet(styles, _extends({}, options, {\n      jss: this,\n      generateId: options.generateId || this.generateId,\n      insertionPoint: this.options.insertionPoint,\n      Renderer: this.options.Renderer,\n      index: index\n    }));\n    this.plugins.onProcessSheet(sheet);\n    return sheet;\n  }\n  /**\n   * Detach the Style Sheet and remove it from the registry.\n   */;\n  _proto.removeStyleSheet = function removeStyleSheet(sheet) {\n    sheet.detach();\n    sheets.remove(sheet);\n    return this;\n  }\n  /**\n   * Create a rule without a Style Sheet.\n   * [Deprecated] will be removed in the next major version.\n   */;\n  _proto.createRule = function createRule$1(name, style, options) {\n    if (style === void 0) {\n      style = {};\n    }\n    if (options === void 0) {\n      options = {};\n    }\n\n    // Enable rule without name for inline styles.\n    if (typeof name === 'object') {\n      return this.createRule(undefined, name, style);\n    }\n    var ruleOptions = _extends({}, options, {\n      name: name,\n      jss: this,\n      Renderer: this.options.Renderer\n    });\n    if (!ruleOptions.generateId) ruleOptions.generateId = this.generateId;\n    if (!ruleOptions.classes) ruleOptions.classes = {};\n    if (!ruleOptions.keyframes) ruleOptions.keyframes = {};\n    var rule = createRule(name, style, ruleOptions);\n    if (rule) this.plugins.onProcessRule(rule);\n    return rule;\n  }\n  /**\n   * Register plugin. Passed function will be invoked with a rule instance.\n   */;\n  _proto.use = function use() {\n    var _this = this;\n    for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n      plugins[_key] = arguments[_key];\n    }\n    plugins.forEach(function (plugin) {\n      _this.plugins.use(plugin);\n    });\n    return this;\n  };\n  return Jss;\n}();\nvar createJss = function createJss(options) {\n  return new Jss(options);\n};\n\n/**\n * SheetsManager is like a WeakMap which is designed to count StyleSheet\n * instances and attach/detach automatically.\n * Used in react-jss.\n */\n\nvar SheetsManager = /*#__PURE__*/\nfunction () {\n  function SheetsManager() {\n    this.length = 0;\n    this.sheets = new WeakMap();\n  }\n  var _proto = SheetsManager.prototype;\n  _proto.get = function get(key) {\n    var entry = this.sheets.get(key);\n    return entry && entry.sheet;\n  };\n  _proto.add = function add(key, sheet) {\n    if (this.sheets.has(key)) return;\n    this.length++;\n    this.sheets.set(key, {\n      sheet: sheet,\n      refs: 0\n    });\n  };\n  _proto.manage = function manage(key) {\n    var entry = this.sheets.get(key);\n    if (entry) {\n      if (entry.refs === 0) {\n        entry.sheet.attach();\n      }\n      entry.refs++;\n      return entry.sheet;\n    }\n    warning(false, \"[JSS] SheetsManager: can't find sheet to manage\");\n    return undefined;\n  };\n  _proto.unmanage = function unmanage(key) {\n    var entry = this.sheets.get(key);\n    if (entry) {\n      if (entry.refs > 0) {\n        entry.refs--;\n        if (entry.refs === 0) entry.sheet.detach();\n      }\n    } else {\n      warning(false, \"SheetsManager: can't find sheet to unmanage\");\n    }\n  };\n  _createClass(SheetsManager, [{\n    key: \"size\",\n    get: function get() {\n      return this.length;\n    }\n  }]);\n  return SheetsManager;\n}();\n\n/**\n* Export a constant indicating if this browser has CSSTOM support.\n* https://developers.google.com/web/updates/2018/03/cssom\n*/\nvar hasCSSTOMSupport = typeof CSS === 'object' && CSS != null && 'number' in CSS;\n\n/**\n * Extracts a styles object with only props that contain function values.\n */\nfunction getDynamicStyles(styles) {\n  var to = null;\n  for (var key in styles) {\n    var value = styles[key];\n    var type = typeof value;\n    if (type === 'function') {\n      if (!to) to = {};\n      to[key] = value;\n    } else if (type === 'object' && value !== null && !Array.isArray(value)) {\n      var extracted = getDynamicStyles(value);\n      if (extracted) {\n        if (!to) to = {};\n        to[key] = extracted;\n      }\n    }\n  }\n  return to;\n}\n\n/**\n * A better abstraction over CSS.\n *\n * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present\n * @website https://github.com/cssinjs/jss\n * @license MIT\n */\nvar index = createJss();\nexport default index;\nexport { RuleList, SheetsManager, SheetsRegistry, createJss as create, createGenerateId, createRule, getDynamicStyles, hasCSSTOMSupport, sheets, toCssValue };","// Used https://github.com/thinkloop/multi-key-cache as inspiration\nvar multiKeyStore = {\n  set: function set(cache, key1, key2, value) {\n    var subCache = cache.get(key1);\n    if (!subCache) {\n      subCache = new Map();\n      cache.set(key1, subCache);\n    }\n    subCache.set(key2, value);\n  },\n  get: function get(cache, key1, key2) {\n    var subCache = cache.get(key1);\n    return subCache ? subCache.get(key2) : undefined;\n  },\n  delete: function _delete(cache, key1, key2) {\n    var subCache = cache.get(key1);\n    subCache.delete(key2);\n  }\n};\nexport default multiKeyStore;","import nested from '../ThemeProvider/nested';\n/**\n * This is the list of the style rule name we use as drop in replacement for the built-in\n * pseudo classes (:checked, :disabled, :focused, etc.).\n *\n * Why do they exist in the first place?\n * These classes are used at a specificity of 2.\n * It allows them to override previously definied styles as well as\n * being untouched by simple user overrides.\n */\n\nvar pseudoClasses = ['checked', 'disabled', 'error', 'focused', 'focusVisible', 'required', 'expanded', 'selected']; // Returns a function which generates unique class names based on counters.\n// When new generator function is created, rule counter is reset.\n// We need to reset the rule counter for SSR for each request.\n//\n// It's inspired by\n// https://github.com/cssinjs/jss/blob/4e6a05dd3f7b6572fdd3ab216861d9e446c20331/src/utils/createGenerateClassName.js\n\nexport default function createGenerateClassName() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$disableGloba = options.disableGlobal,\n    disableGlobal = _options$disableGloba === void 0 ? false : _options$disableGloba,\n    _options$productionPr = options.productionPrefix,\n    productionPrefix = _options$productionPr === void 0 ? 'jss' : _options$productionPr,\n    _options$seed = options.seed,\n    seed = _options$seed === void 0 ? '' : _options$seed;\n  var seedPrefix = seed === '' ? '' : \"\".concat(seed, \"-\");\n  var ruleCounter = 0;\n  var getNextCounterId = function getNextCounterId() {\n    ruleCounter += 1;\n    if (process.env.NODE_ENV !== 'production') {\n      if (ruleCounter >= 1e10) {\n        console.warn(['Material-UI: You might have a memory leak.', 'The ruleCounter is not supposed to grow that much.'].join(''));\n      }\n    }\n    return ruleCounter;\n  };\n  return function (rule, styleSheet) {\n    var name = styleSheet.options.name; // Is a global static MUI style?\n\n    if (name && name.indexOf('Mui') === 0 && !styleSheet.options.link && !disableGlobal) {\n      // We can use a shorthand class name, we never use the keys to style the components.\n      if (pseudoClasses.indexOf(rule.key) !== -1) {\n        return \"Mui-\".concat(rule.key);\n      }\n      var prefix = \"\".concat(seedPrefix).concat(name, \"-\").concat(rule.key);\n      if (!styleSheet.options.theme[nested] || seed !== '') {\n        return prefix;\n      }\n      return \"\".concat(prefix, \"-\").concat(getNextCounterId());\n    }\n    if (process.env.NODE_ENV === 'production') {\n      return \"\".concat(seedPrefix).concat(productionPrefix).concat(getNextCounterId());\n    }\n    var suffix = \"\".concat(rule.key, \"-\").concat(getNextCounterId()); // Help with debuggability.\n\n    if (styleSheet.options.classNamePrefix) {\n      return \"\".concat(seedPrefix).concat(styleSheet.options.classNamePrefix, \"-\").concat(suffix);\n    }\n    return \"\".concat(seedPrefix).concat(suffix);\n  };\n}","import warning from 'tiny-warning';\nimport { createRule } from 'jss';\nvar now = Date.now();\nvar fnValuesNs = \"fnValues\" + now;\nvar fnRuleNs = \"fnStyle\" + ++now;\nvar functionPlugin = function functionPlugin() {\n  return {\n    onCreateRule: function onCreateRule(name, decl, options) {\n      if (typeof decl !== 'function') return null;\n      var rule = createRule(name, {}, options);\n      rule[fnRuleNs] = decl;\n      return rule;\n    },\n    onProcessStyle: function onProcessStyle(style, rule) {\n      // We need to extract function values from the declaration, so that we can keep core unaware of them.\n      // We need to do that only once.\n      // We don't need to extract functions on each style update, since this can happen only once.\n      // We don't support function values inside of function rules.\n      if (fnValuesNs in rule || fnRuleNs in rule) return style;\n      var fnValues = {};\n      for (var prop in style) {\n        var value = style[prop];\n        if (typeof value !== 'function') continue;\n        delete style[prop];\n        fnValues[prop] = value;\n      }\n      rule[fnValuesNs] = fnValues;\n      return style;\n    },\n    onUpdate: function onUpdate(data, rule, sheet, options) {\n      var styleRule = rule;\n      var fnRule = styleRule[fnRuleNs]; // If we have a style function, the entire rule is dynamic and style object\n      // will be returned from that function.\n\n      if (fnRule) {\n        // Empty object will remove all currently defined props\n        // in case function rule returns a falsy value.\n        styleRule.style = fnRule(data) || {};\n        if (process.env.NODE_ENV === 'development') {\n          for (var prop in styleRule.style) {\n            if (typeof styleRule.style[prop] === 'function') {\n              process.env.NODE_ENV !== \"production\" ? warning(false, '[JSS] Function values inside function rules are not supported.') : void 0;\n              break;\n            }\n          }\n        }\n      }\n      var fnValues = styleRule[fnValuesNs]; // If we have a fn values map, it is a rule with function values.\n\n      if (fnValues) {\n        for (var _prop in fnValues) {\n          styleRule.prop(_prop, fnValues[_prop](data), options);\n        }\n      }\n    }\n  };\n};\nexport default functionPlugin;","import _extends from '@babel/runtime/helpers/esm/extends';\nimport { RuleList } from 'jss';\nvar at = '@global';\nvar atPrefix = '@global ';\nvar GlobalContainerRule = /*#__PURE__*/\nfunction () {\n  function GlobalContainerRule(key, styles, options) {\n    this.type = 'global';\n    this.at = at;\n    this.isProcessed = false;\n    this.key = key;\n    this.options = options;\n    this.rules = new RuleList(_extends({}, options, {\n      parent: this\n    }));\n    for (var selector in styles) {\n      this.rules.add(selector, styles[selector]);\n    }\n    this.rules.process();\n  }\n  /**\n   * Get a rule.\n   */\n\n  var _proto = GlobalContainerRule.prototype;\n  _proto.getRule = function getRule(name) {\n    return this.rules.get(name);\n  }\n  /**\n   * Create and register rule, run plugins.\n   */;\n  _proto.addRule = function addRule(name, style, options) {\n    var rule = this.rules.add(name, style, options);\n    if (rule) this.options.jss.plugins.onProcessRule(rule);\n    return rule;\n  }\n  /**\n   * Replace rule, run plugins.\n   */;\n  _proto.replaceRule = function replaceRule(name, style, options) {\n    var newRule = this.rules.replace(name, style, options);\n    if (newRule) this.options.jss.plugins.onProcessRule(newRule);\n    return newRule;\n  }\n  /**\n   * Get index of a rule.\n   */;\n  _proto.indexOf = function indexOf(rule) {\n    return this.rules.indexOf(rule);\n  }\n  /**\n   * Generates a CSS string.\n   */;\n  _proto.toString = function toString(options) {\n    return this.rules.toString(options);\n  };\n  return GlobalContainerRule;\n}();\nvar GlobalPrefixedRule = /*#__PURE__*/\nfunction () {\n  function GlobalPrefixedRule(key, style, options) {\n    this.type = 'global';\n    this.at = at;\n    this.isProcessed = false;\n    this.key = key;\n    this.options = options;\n    var selector = key.substr(atPrefix.length);\n    this.rule = options.jss.createRule(selector, style, _extends({}, options, {\n      parent: this\n    }));\n  }\n  var _proto2 = GlobalPrefixedRule.prototype;\n  _proto2.toString = function toString(options) {\n    return this.rule ? this.rule.toString(options) : '';\n  };\n  return GlobalPrefixedRule;\n}();\nvar separatorRegExp = /\\s*,\\s*/g;\nfunction addScope(selector, scope) {\n  var parts = selector.split(separatorRegExp);\n  var scoped = '';\n  for (var i = 0; i < parts.length; i++) {\n    scoped += scope + \" \" + parts[i].trim();\n    if (parts[i + 1]) scoped += ', ';\n  }\n  return scoped;\n}\nfunction handleNestedGlobalContainerRule(rule, sheet) {\n  var options = rule.options,\n    style = rule.style;\n  var rules = style ? style[at] : null;\n  if (!rules) return;\n  for (var name in rules) {\n    sheet.addRule(name, rules[name], _extends({}, options, {\n      selector: addScope(name, rule.selector)\n    }));\n  }\n  delete style[at];\n}\nfunction handlePrefixedGlobalRule(rule, sheet) {\n  var options = rule.options,\n    style = rule.style;\n  for (var prop in style) {\n    if (prop[0] !== '@' || prop.substr(0, at.length) !== at) continue;\n    var selector = addScope(prop.substr(at.length), rule.selector);\n    sheet.addRule(selector, style[prop], _extends({}, options, {\n      selector: selector\n    }));\n    delete style[prop];\n  }\n}\n/**\n * Convert nested rules to separate, remove them from original styles.\n */\n\nfunction jssGlobal() {\n  function onCreateRule(name, styles, options) {\n    if (!name) return null;\n    if (name === at) {\n      return new GlobalContainerRule(name, styles, options);\n    }\n    if (name[0] === '@' && name.substr(0, atPrefix.length) === atPrefix) {\n      return new GlobalPrefixedRule(name, styles, options);\n    }\n    var parent = options.parent;\n    if (parent) {\n      if (parent.type === 'global' || parent.options.parent && parent.options.parent.type === 'global') {\n        options.scoped = false;\n      }\n    }\n    if (!options.selector && options.scoped === false) {\n      options.selector = name;\n    }\n    return null;\n  }\n  function onProcessRule(rule, sheet) {\n    if (rule.type !== 'style' || !sheet) return;\n    handleNestedGlobalContainerRule(rule, sheet);\n    handlePrefixedGlobalRule(rule, sheet);\n  }\n  return {\n    onCreateRule: onCreateRule,\n    onProcessRule: onProcessRule\n  };\n}\nexport default jssGlobal;","import _extends from '@babel/runtime/helpers/esm/extends';\nimport warning from 'tiny-warning';\nvar separatorRegExp = /\\s*,\\s*/g;\nvar parentRegExp = /&/g;\nvar refRegExp = /\\$([\\w-]+)/g;\n/**\n * Convert nested rules to separate, remove them from original styles.\n */\n\nfunction jssNested() {\n  // Get a function to be used for $ref replacement.\n  function getReplaceRef(container, sheet) {\n    return function (match, key) {\n      var rule = container.getRule(key) || sheet && sheet.getRule(key);\n      if (rule) {\n        return rule.selector;\n      }\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Could not find the referenced rule \\\"\" + key + \"\\\" in \\\"\" + (container.options.meta || container.toString()) + \"\\\".\") : void 0;\n      return key;\n    };\n  }\n  function replaceParentRefs(nestedProp, parentProp) {\n    var parentSelectors = parentProp.split(separatorRegExp);\n    var nestedSelectors = nestedProp.split(separatorRegExp);\n    var result = '';\n    for (var i = 0; i < parentSelectors.length; i++) {\n      var parent = parentSelectors[i];\n      for (var j = 0; j < nestedSelectors.length; j++) {\n        var nested = nestedSelectors[j];\n        if (result) result += ', '; // Replace all & by the parent or prefix & with the parent.\n\n        result += nested.indexOf('&') !== -1 ? nested.replace(parentRegExp, parent) : parent + \" \" + nested;\n      }\n    }\n    return result;\n  }\n  function getOptions(rule, container, prevOptions) {\n    // Options has been already created, now we only increase index.\n    if (prevOptions) return _extends({}, prevOptions, {\n      index: prevOptions.index + 1\n    });\n    var nestingLevel = rule.options.nestingLevel;\n    nestingLevel = nestingLevel === undefined ? 1 : nestingLevel + 1;\n    var options = _extends({}, rule.options, {\n      nestingLevel: nestingLevel,\n      index: container.indexOf(rule) + 1 // We don't need the parent name to be set options for chlid.\n    });\n    delete options.name;\n    return options;\n  }\n  function onProcessStyle(style, rule, sheet) {\n    if (rule.type !== 'style') return style;\n    var styleRule = rule;\n    var container = styleRule.options.parent;\n    var options;\n    var replaceRef;\n    for (var prop in style) {\n      var isNested = prop.indexOf('&') !== -1;\n      var isNestedConditional = prop[0] === '@';\n      if (!isNested && !isNestedConditional) continue;\n      options = getOptions(styleRule, container, options);\n      if (isNested) {\n        var selector = replaceParentRefs(prop, styleRule.selector); // Lazily create the ref replacer function just once for\n        // all nested rules within the sheet.\n\n        if (!replaceRef) replaceRef = getReplaceRef(container, sheet); // Replace all $refs.\n\n        selector = selector.replace(refRegExp, replaceRef);\n        var name = styleRule.key + \"-\" + prop;\n        if ('replaceRule' in container) {\n          // for backward compatibility\n          container.replaceRule(name, style[prop], _extends({}, options, {\n            selector: selector\n          }));\n        } else {\n          container.addRule(name, style[prop], _extends({}, options, {\n            selector: selector\n          }));\n        }\n      } else if (isNestedConditional) {\n        // Place conditional right after the parent rule to ensure right ordering.\n        container.addRule(prop, {}, options).addRule(styleRule.key, style[prop], {\n          selector: styleRule.selector\n        });\n      }\n      delete style[prop];\n    }\n    return style;\n  }\n  return {\n    onProcessStyle: onProcessStyle\n  };\n}\nexport default jssNested;","/* eslint-disable no-var, prefer-template */\nvar uppercasePattern = /[A-Z]/g;\nvar msPattern = /^ms-/;\nvar cache = {};\nfunction toHyphenLower(match) {\n  return '-' + match.toLowerCase();\n}\nfunction hyphenateStyleName(name) {\n  if (cache.hasOwnProperty(name)) {\n    return cache[name];\n  }\n  var hName = name.replace(uppercasePattern, toHyphenLower);\n  return cache[name] = msPattern.test(hName) ? '-' + hName : hName;\n}\nexport default hyphenateStyleName;","import hyphenate from 'hyphenate-style-name';\n\n/**\n * Convert camel cased property names to dash separated.\n */\n\nfunction convertCase(style) {\n  var converted = {};\n  for (var prop in style) {\n    var key = prop.indexOf('--') === 0 ? prop : hyphenate(prop);\n    converted[key] = style[prop];\n  }\n  if (style.fallbacks) {\n    if (Array.isArray(style.fallbacks)) converted.fallbacks = style.fallbacks.map(convertCase);else converted.fallbacks = convertCase(style.fallbacks);\n  }\n  return converted;\n}\n/**\n * Allow camel cased property names by converting them back to dasherized.\n */\n\nfunction camelCase() {\n  function onProcessStyle(style) {\n    if (Array.isArray(style)) {\n      // Handle rules like @font-face, which can have multiple styles in an array\n      for (var index = 0; index < style.length; index++) {\n        style[index] = convertCase(style[index]);\n      }\n      return style;\n    }\n    return convertCase(style);\n  }\n  function onChangeValue(value, prop, rule) {\n    if (prop.indexOf('--') === 0) {\n      return value;\n    }\n    var hyphenatedProp = hyphenate(prop); // There was no camel case in place\n\n    if (prop === hyphenatedProp) return value;\n    rule.prop(hyphenatedProp, value); // Core will ignore that property value we set the proper one above.\n\n    return null;\n  }\n  return {\n    onProcessStyle: onProcessStyle,\n    onChangeValue: onChangeValue\n  };\n}\nexport default camelCase;","import { hasCSSTOMSupport } from 'jss';\nvar px = hasCSSTOMSupport && CSS ? CSS.px : 'px';\nvar ms = hasCSSTOMSupport && CSS ? CSS.ms : 'ms';\nvar percent = hasCSSTOMSupport && CSS ? CSS.percent : '%';\n/**\n * Generated jss-plugin-default-unit CSS property units\n */\n\nvar defaultUnits = {\n  // Animation properties\n  'animation-delay': ms,\n  'animation-duration': ms,\n  // Background properties\n  'background-position': px,\n  'background-position-x': px,\n  'background-position-y': px,\n  'background-size': px,\n  // Border Properties\n  border: px,\n  'border-bottom': px,\n  'border-bottom-left-radius': px,\n  'border-bottom-right-radius': px,\n  'border-bottom-width': px,\n  'border-left': px,\n  'border-left-width': px,\n  'border-radius': px,\n  'border-right': px,\n  'border-right-width': px,\n  'border-top': px,\n  'border-top-left-radius': px,\n  'border-top-right-radius': px,\n  'border-top-width': px,\n  'border-width': px,\n  'border-block': px,\n  'border-block-end': px,\n  'border-block-end-width': px,\n  'border-block-start': px,\n  'border-block-start-width': px,\n  'border-block-width': px,\n  'border-inline': px,\n  'border-inline-end': px,\n  'border-inline-end-width': px,\n  'border-inline-start': px,\n  'border-inline-start-width': px,\n  'border-inline-width': px,\n  'border-start-start-radius': px,\n  'border-start-end-radius': px,\n  'border-end-start-radius': px,\n  'border-end-end-radius': px,\n  // Margin properties\n  margin: px,\n  'margin-bottom': px,\n  'margin-left': px,\n  'margin-right': px,\n  'margin-top': px,\n  'margin-block': px,\n  'margin-block-end': px,\n  'margin-block-start': px,\n  'margin-inline': px,\n  'margin-inline-end': px,\n  'margin-inline-start': px,\n  // Padding properties\n  padding: px,\n  'padding-bottom': px,\n  'padding-left': px,\n  'padding-right': px,\n  'padding-top': px,\n  'padding-block': px,\n  'padding-block-end': px,\n  'padding-block-start': px,\n  'padding-inline': px,\n  'padding-inline-end': px,\n  'padding-inline-start': px,\n  // Mask properties\n  'mask-position-x': px,\n  'mask-position-y': px,\n  'mask-size': px,\n  // Width and height properties\n  height: px,\n  width: px,\n  'min-height': px,\n  'max-height': px,\n  'min-width': px,\n  'max-width': px,\n  // Position properties\n  bottom: px,\n  left: px,\n  top: px,\n  right: px,\n  inset: px,\n  'inset-block': px,\n  'inset-block-end': px,\n  'inset-block-start': px,\n  'inset-inline': px,\n  'inset-inline-end': px,\n  'inset-inline-start': px,\n  // Shadow properties\n  'box-shadow': px,\n  'text-shadow': px,\n  // Column properties\n  'column-gap': px,\n  'column-rule': px,\n  'column-rule-width': px,\n  'column-width': px,\n  // Font and text properties\n  'font-size': px,\n  'font-size-delta': px,\n  'letter-spacing': px,\n  'text-decoration-thickness': px,\n  'text-indent': px,\n  'text-stroke': px,\n  'text-stroke-width': px,\n  'word-spacing': px,\n  // Motion properties\n  motion: px,\n  'motion-offset': px,\n  // Outline properties\n  outline: px,\n  'outline-offset': px,\n  'outline-width': px,\n  // Perspective properties\n  perspective: px,\n  'perspective-origin-x': percent,\n  'perspective-origin-y': percent,\n  // Transform properties\n  'transform-origin': percent,\n  'transform-origin-x': percent,\n  'transform-origin-y': percent,\n  'transform-origin-z': percent,\n  // Transition properties\n  'transition-delay': ms,\n  'transition-duration': ms,\n  // Alignment properties\n  'vertical-align': px,\n  'flex-basis': px,\n  // Some random properties\n  'shape-margin': px,\n  size: px,\n  gap: px,\n  // Grid properties\n  grid: px,\n  'grid-gap': px,\n  'row-gap': px,\n  'grid-row-gap': px,\n  'grid-column-gap': px,\n  'grid-template-rows': px,\n  'grid-template-columns': px,\n  'grid-auto-rows': px,\n  'grid-auto-columns': px,\n  // Not existing properties.\n  // Used to avoid issues with jss-plugin-expand integration.\n  'box-shadow-x': px,\n  'box-shadow-y': px,\n  'box-shadow-blur': px,\n  'box-shadow-spread': px,\n  'font-line-height': px,\n  'text-shadow-x': px,\n  'text-shadow-y': px,\n  'text-shadow-blur': px\n};\n\n/**\n * Clones the object and adds a camel cased property version.\n */\n\nfunction addCamelCasedVersion(obj) {\n  var regExp = /(-[a-z])/g;\n  var replace = function replace(str) {\n    return str[1].toUpperCase();\n  };\n  var newObj = {};\n  for (var key in obj) {\n    newObj[key] = obj[key];\n    newObj[key.replace(regExp, replace)] = obj[key];\n  }\n  return newObj;\n}\nvar units = addCamelCasedVersion(defaultUnits);\n/**\n * Recursive deep style passing function\n */\n\nfunction iterate(prop, value, options) {\n  if (value == null) return value;\n  if (Array.isArray(value)) {\n    for (var i = 0; i < value.length; i++) {\n      value[i] = iterate(prop, value[i], options);\n    }\n  } else if (typeof value === 'object') {\n    if (prop === 'fallbacks') {\n      for (var innerProp in value) {\n        value[innerProp] = iterate(innerProp, value[innerProp], options);\n      }\n    } else {\n      for (var _innerProp in value) {\n        value[_innerProp] = iterate(prop + \"-\" + _innerProp, value[_innerProp], options);\n      }\n    } // eslint-disable-next-line no-restricted-globals\n  } else if (typeof value === 'number' && isNaN(value) === false) {\n    var unit = options[prop] || units[prop]; // Add the unit if available, except for the special case of 0px.\n\n    if (unit && !(value === 0 && unit === px)) {\n      return typeof unit === 'function' ? unit(value).toString() : \"\" + value + unit;\n    }\n    return value.toString();\n  }\n  return value;\n}\n/**\n * Add unit to numeric values.\n */\n\nfunction defaultUnit(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  var camelCasedOptions = addCamelCasedVersion(options);\n  function onProcessStyle(style, rule) {\n    if (rule.type !== 'style') return style;\n    for (var prop in style) {\n      style[prop] = iterate(prop, style[prop], camelCasedOptions);\n    }\n    return style;\n  }\n  function onChangeValue(value, prop) {\n    return iterate(prop, value, camelCasedOptions);\n  }\n  return {\n    onProcessStyle: onProcessStyle,\n    onChangeValue: onChangeValue\n  };\n}\nexport default defaultUnit;","import isInBrowser from 'is-in-browser';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\n\n// Export javascript style and css style vendor prefixes.\nvar js = '';\nvar css = '';\nvar vendor = '';\nvar browser = '';\nvar isTouch = isInBrowser && 'ontouchstart' in document.documentElement; // We should not do anything if required serverside.\n\nif (isInBrowser) {\n  // Order matters. We need to check Webkit the last one because\n  // other vendors use to add Webkit prefixes to some properties\n  var jsCssMap = {\n    Moz: '-moz-',\n    ms: '-ms-',\n    O: '-o-',\n    Webkit: '-webkit-'\n  };\n  var _document$createEleme = document.createElement('p'),\n    style = _document$createEleme.style;\n  var testProp = 'Transform';\n  for (var key in jsCssMap) {\n    if (key + testProp in style) {\n      js = key;\n      css = jsCssMap[key];\n      break;\n    }\n  } // Correctly detect the Edge browser.\n\n  if (js === 'Webkit' && 'msHyphens' in style) {\n    js = 'ms';\n    css = jsCssMap.ms;\n    browser = 'edge';\n  } // Correctly detect the Safari browser.\n\n  if (js === 'Webkit' && '-apple-trailing-word' in style) {\n    vendor = 'apple';\n  }\n}\n/**\n * Vendor prefix string for the current browser.\n *\n * @type {{js: String, css: String, vendor: String, browser: String}}\n * @api public\n */\n\nvar prefix = {\n  js: js,\n  css: css,\n  vendor: vendor,\n  browser: browser,\n  isTouch: isTouch\n};\n\n/**\n * Test if a keyframe at-rule should be prefixed or not\n *\n * @param {String} vendor prefix string for the current browser.\n * @return {String}\n * @api public\n */\n\nfunction supportedKeyframes(key) {\n  // Keyframes is already prefixed. e.g. key = '@-webkit-keyframes a'\n  if (key[1] === '-') return key; // No need to prefix IE/Edge. Older browsers will ignore unsupported rules.\n  // https://caniuse.com/#search=keyframes\n\n  if (prefix.js === 'ms') return key;\n  return \"@\" + prefix.css + \"keyframes\" + key.substr(10);\n}\n\n// https://caniuse.com/#search=appearance\n\nvar appearence = {\n  noPrefill: ['appearance'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'appearance') return false;\n    if (prefix.js === 'ms') return \"-webkit-\" + prop;\n    return prefix.css + prop;\n  }\n};\n\n// https://caniuse.com/#search=color-adjust\n\nvar colorAdjust = {\n  noPrefill: ['color-adjust'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'color-adjust') return false;\n    if (prefix.js === 'Webkit') return prefix.css + \"print-\" + prop;\n    return prop;\n  }\n};\nvar regExp = /[-\\s]+(.)?/g;\n/**\n * Replaces the letter with the capital letter\n *\n * @param {String} match\n * @param {String} c\n * @return {String}\n * @api private\n */\n\nfunction toUpper(match, c) {\n  return c ? c.toUpperCase() : '';\n}\n/**\n * Convert dash separated strings to camel-cased.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction camelize(str) {\n  return str.replace(regExp, toUpper);\n}\n\n/**\n * Convert dash separated strings to pascal cased.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction pascalize(str) {\n  return camelize(\"-\" + str);\n}\n\n// but we can use a longhand property instead.\n// https://caniuse.com/#search=mask\n\nvar mask = {\n  noPrefill: ['mask'],\n  supportedProperty: function supportedProperty(prop, style) {\n    if (!/^mask/.test(prop)) return false;\n    if (prefix.js === 'Webkit') {\n      var longhand = 'mask-image';\n      if (camelize(longhand) in style) {\n        return prop;\n      }\n      if (prefix.js + pascalize(longhand) in style) {\n        return prefix.css + prop;\n      }\n    }\n    return prop;\n  }\n};\n\n// https://caniuse.com/#search=text-orientation\n\nvar textOrientation = {\n  noPrefill: ['text-orientation'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'text-orientation') return false;\n    if (prefix.vendor === 'apple' && !prefix.isTouch) {\n      return prefix.css + prop;\n    }\n    return prop;\n  }\n};\n\n// https://caniuse.com/#search=transform\n\nvar transform = {\n  noPrefill: ['transform'],\n  supportedProperty: function supportedProperty(prop, style, options) {\n    if (prop !== 'transform') return false;\n    if (options.transform) {\n      return prop;\n    }\n    return prefix.css + prop;\n  }\n};\n\n// https://caniuse.com/#search=transition\n\nvar transition = {\n  noPrefill: ['transition'],\n  supportedProperty: function supportedProperty(prop, style, options) {\n    if (prop !== 'transition') return false;\n    if (options.transition) {\n      return prop;\n    }\n    return prefix.css + prop;\n  }\n};\n\n// https://caniuse.com/#search=writing-mode\n\nvar writingMode = {\n  noPrefill: ['writing-mode'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'writing-mode') return false;\n    if (prefix.js === 'Webkit' || prefix.js === 'ms' && prefix.browser !== 'edge') {\n      return prefix.css + prop;\n    }\n    return prop;\n  }\n};\n\n// https://caniuse.com/#search=user-select\n\nvar userSelect = {\n  noPrefill: ['user-select'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'user-select') return false;\n    if (prefix.js === 'Moz' || prefix.js === 'ms' || prefix.vendor === 'apple') {\n      return prefix.css + prop;\n    }\n    return prop;\n  }\n};\n\n// https://caniuse.com/#search=multicolumn\n// https://github.com/postcss/autoprefixer/issues/491\n// https://github.com/postcss/autoprefixer/issues/177\n\nvar breakPropsOld = {\n  supportedProperty: function supportedProperty(prop, style) {\n    if (!/^break-/.test(prop)) return false;\n    if (prefix.js === 'Webkit') {\n      var jsProp = \"WebkitColumn\" + pascalize(prop);\n      return jsProp in style ? prefix.css + \"column-\" + prop : false;\n    }\n    if (prefix.js === 'Moz') {\n      var _jsProp = \"page\" + pascalize(prop);\n      return _jsProp in style ? \"page-\" + prop : false;\n    }\n    return false;\n  }\n};\n\n// See https://github.com/postcss/autoprefixer/issues/324.\n\nvar inlineLogicalOld = {\n  supportedProperty: function supportedProperty(prop, style) {\n    if (!/^(border|margin|padding)-inline/.test(prop)) return false;\n    if (prefix.js === 'Moz') return prop;\n    var newProp = prop.replace('-inline', '');\n    return prefix.js + pascalize(newProp) in style ? prefix.css + newProp : false;\n  }\n};\n\n// Camelization is required because we can't test using.\n// CSS syntax for e.g. in FF.\n\nvar unprefixed = {\n  supportedProperty: function supportedProperty(prop, style) {\n    return camelize(prop) in style ? prop : false;\n  }\n};\nvar prefixed = {\n  supportedProperty: function supportedProperty(prop, style) {\n    var pascalized = pascalize(prop); // Return custom CSS variable without prefixing.\n\n    if (prop[0] === '-') return prop; // Return already prefixed value without prefixing.\n\n    if (prop[0] === '-' && prop[1] === '-') return prop;\n    if (prefix.js + pascalized in style) return prefix.css + prop; // Try webkit fallback.\n\n    if (prefix.js !== 'Webkit' && \"Webkit\" + pascalized in style) return \"-webkit-\" + prop;\n    return false;\n  }\n};\n\n// https://caniuse.com/#search=scroll-snap\n\nvar scrollSnap = {\n  supportedProperty: function supportedProperty(prop) {\n    if (prop.substring(0, 11) !== 'scroll-snap') return false;\n    if (prefix.js === 'ms') {\n      return \"\" + prefix.css + prop;\n    }\n    return prop;\n  }\n};\n\n// https://caniuse.com/#search=overscroll-behavior\n\nvar overscrollBehavior = {\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'overscroll-behavior') return false;\n    if (prefix.js === 'ms') {\n      return prefix.css + \"scroll-chaining\";\n    }\n    return prop;\n  }\n};\nvar propMap = {\n  'flex-grow': 'flex-positive',\n  'flex-shrink': 'flex-negative',\n  'flex-basis': 'flex-preferred-size',\n  'justify-content': 'flex-pack',\n  order: 'flex-order',\n  'align-items': 'flex-align',\n  'align-content': 'flex-line-pack' // 'align-self' is handled by 'align-self' plugin.\n}; // Support old flex spec from 2012.\n\nvar flex2012 = {\n  supportedProperty: function supportedProperty(prop, style) {\n    var newProp = propMap[prop];\n    if (!newProp) return false;\n    return prefix.js + pascalize(newProp) in style ? prefix.css + newProp : false;\n  }\n};\nvar propMap$1 = {\n  flex: 'box-flex',\n  'flex-grow': 'box-flex',\n  'flex-direction': ['box-orient', 'box-direction'],\n  order: 'box-ordinal-group',\n  'align-items': 'box-align',\n  'flex-flow': ['box-orient', 'box-direction'],\n  'justify-content': 'box-pack'\n};\nvar propKeys = Object.keys(propMap$1);\nvar prefixCss = function prefixCss(p) {\n  return prefix.css + p;\n}; // Support old flex spec from 2009.\n\nvar flex2009 = {\n  supportedProperty: function supportedProperty(prop, style, _ref) {\n    var multiple = _ref.multiple;\n    if (propKeys.indexOf(prop) > -1) {\n      var newProp = propMap$1[prop];\n      if (!Array.isArray(newProp)) {\n        return prefix.js + pascalize(newProp) in style ? prefix.css + newProp : false;\n      }\n      if (!multiple) return false;\n      for (var i = 0; i < newProp.length; i++) {\n        if (!(prefix.js + pascalize(newProp[0]) in style)) {\n          return false;\n        }\n      }\n      return newProp.map(prefixCss);\n    }\n    return false;\n  }\n};\n\n// plugins = [\n//   ...plugins,\n//    breakPropsOld,\n//    inlineLogicalOld,\n//    unprefixed,\n//    prefixed,\n//    scrollSnap,\n//    flex2012,\n//    flex2009\n// ]\n// Plugins without 'noPrefill' value, going last.\n// 'flex-*' plugins should be at the bottom.\n// 'flex2009' going after 'flex2012'.\n// 'prefixed' going after 'unprefixed'\n\nvar plugins = [appearence, colorAdjust, mask, textOrientation, transform, transition, writingMode, userSelect, breakPropsOld, inlineLogicalOld, unprefixed, prefixed, scrollSnap, overscrollBehavior, flex2012, flex2009];\nvar propertyDetectors = plugins.filter(function (p) {\n  return p.supportedProperty;\n}).map(function (p) {\n  return p.supportedProperty;\n});\nvar noPrefill = plugins.filter(function (p) {\n  return p.noPrefill;\n}).reduce(function (a, p) {\n  a.push.apply(a, _toConsumableArray(p.noPrefill));\n  return a;\n}, []);\nvar el;\nvar cache = {};\nif (isInBrowser) {\n  el = document.createElement('p'); // We test every property on vendor prefix requirement.\n  // Once tested, result is cached. It gives us up to 70% perf boost.\n  // http://jsperf.com/element-style-object-access-vs-plain-object\n  //\n  // Prefill cache with known css properties to reduce amount of\n  // properties we need to feature test at runtime.\n  // http://davidwalsh.name/vendor-prefix\n\n  var computed = window.getComputedStyle(document.documentElement, '');\n  for (var key$1 in computed) {\n    // eslint-disable-next-line no-restricted-globals\n    if (!isNaN(key$1)) cache[computed[key$1]] = computed[key$1];\n  } // Properties that cannot be correctly detected using the\n  // cache prefill method.\n\n  noPrefill.forEach(function (x) {\n    return delete cache[x];\n  });\n}\n/**\n * Test if a property is supported, returns supported property with vendor\n * prefix if required. Returns `false` if not supported.\n *\n * @param {String} prop dash separated\n * @param {Object} [options]\n * @return {String|Boolean}\n * @api public\n */\n\nfunction supportedProperty(prop, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  // For server-side rendering.\n  if (!el) return prop; // Remove cache for benchmark tests or return property from the cache.\n\n  if (process.env.NODE_ENV !== 'benchmark' && cache[prop] != null) {\n    return cache[prop];\n  } // Check if 'transition' or 'transform' natively supported in browser.\n\n  if (prop === 'transition' || prop === 'transform') {\n    options[prop] = prop in el.style;\n  } // Find a plugin for current prefix property.\n\n  for (var i = 0; i < propertyDetectors.length; i++) {\n    cache[prop] = propertyDetectors[i](prop, el.style, options); // Break loop, if value found.\n\n    if (cache[prop]) break;\n  } // Reset styles for current property.\n  // Firefox can even throw an error for invalid properties, e.g., \"0\".\n\n  try {\n    el.style[prop] = '';\n  } catch (err) {\n    return false;\n  }\n  return cache[prop];\n}\nvar cache$1 = {};\nvar transitionProperties = {\n  transition: 1,\n  'transition-property': 1,\n  '-webkit-transition': 1,\n  '-webkit-transition-property': 1\n};\nvar transPropsRegExp = /(^\\s*[\\w-]+)|, (\\s*[\\w-]+)(?![^()]*\\))/g;\nvar el$1;\n/**\n * Returns prefixed value transition/transform if needed.\n *\n * @param {String} match\n * @param {String} p1\n * @param {String} p2\n * @return {String}\n * @api private\n */\n\nfunction prefixTransitionCallback(match, p1, p2) {\n  if (p1 === 'var') return 'var';\n  if (p1 === 'all') return 'all';\n  if (p2 === 'all') return ', all';\n  var prefixedValue = p1 ? supportedProperty(p1) : \", \" + supportedProperty(p2);\n  if (!prefixedValue) return p1 || p2;\n  return prefixedValue;\n}\nif (isInBrowser) el$1 = document.createElement('p');\n/**\n * Returns prefixed value if needed. Returns `false` if value is not supported.\n *\n * @param {String} property\n * @param {String} value\n * @return {String|Boolean}\n * @api public\n */\n\nfunction supportedValue(property, value) {\n  // For server-side rendering.\n  var prefixedValue = value;\n  if (!el$1 || property === 'content') return value; // It is a string or a number as a string like '1'.\n  // We want only prefixable values here.\n  // eslint-disable-next-line no-restricted-globals\n\n  if (typeof prefixedValue !== 'string' || !isNaN(parseInt(prefixedValue, 10))) {\n    return prefixedValue;\n  } // Create cache key for current value.\n\n  var cacheKey = property + prefixedValue; // Remove cache for benchmark tests or return value from cache.\n\n  if (process.env.NODE_ENV !== 'benchmark' && cache$1[cacheKey] != null) {\n    return cache$1[cacheKey];\n  } // IE can even throw an error in some cases, for e.g. style.content = 'bar'.\n\n  try {\n    // Test value as it is.\n    el$1.style[property] = prefixedValue;\n  } catch (err) {\n    // Return false if value not supported.\n    cache$1[cacheKey] = false;\n    return false;\n  } // If 'transition' or 'transition-property' property.\n\n  if (transitionProperties[property]) {\n    prefixedValue = prefixedValue.replace(transPropsRegExp, prefixTransitionCallback);\n  } else if (el$1.style[property] === '') {\n    // Value with a vendor prefix.\n    prefixedValue = prefix.css + prefixedValue; // Hardcode test to convert \"flex\" to \"-ms-flexbox\" for IE10.\n\n    if (prefixedValue === '-ms-flex') el$1.style[property] = '-ms-flexbox'; // Test prefixed value.\n\n    el$1.style[property] = prefixedValue; // Return false if value not supported.\n\n    if (el$1.style[property] === '') {\n      cache$1[cacheKey] = false;\n      return false;\n    }\n  } // Reset styles for current property.\n\n  el$1.style[property] = ''; // Write current value to cache.\n\n  cache$1[cacheKey] = prefixedValue;\n  return cache$1[cacheKey];\n}\nexport { prefix, supportedKeyframes, supportedProperty, supportedValue };","import { supportedKeyframes, supportedValue, supportedProperty } from 'css-vendor';\nimport { toCssValue } from 'jss';\n\n/**\n * Add vendor prefix to a property name when needed.\n */\n\nfunction jssVendorPrefixer() {\n  function onProcessRule(rule) {\n    if (rule.type === 'keyframes') {\n      var atRule = rule;\n      atRule.at = supportedKeyframes(atRule.at);\n    }\n  }\n  function prefixStyle(style) {\n    for (var prop in style) {\n      var value = style[prop];\n      if (prop === 'fallbacks' && Array.isArray(value)) {\n        style[prop] = value.map(prefixStyle);\n        continue;\n      }\n      var changeProp = false;\n      var supportedProp = supportedProperty(prop);\n      if (supportedProp && supportedProp !== prop) changeProp = true;\n      var changeValue = false;\n      var supportedValue$1 = supportedValue(supportedProp, toCssValue(value));\n      if (supportedValue$1 && supportedValue$1 !== value) changeValue = true;\n      if (changeProp || changeValue) {\n        if (changeProp) delete style[prop];\n        style[supportedProp || prop] = supportedValue$1 || value;\n      }\n    }\n    return style;\n  }\n  function onProcessStyle(style, rule) {\n    if (rule.type !== 'style') return style;\n    return prefixStyle(style);\n  }\n  function onChangeValue(value, prop) {\n    return supportedValue(prop, toCssValue(value)) || value;\n  }\n  return {\n    onProcessRule: onProcessRule,\n    onProcessStyle: onProcessStyle,\n    onChangeValue: onChangeValue\n  };\n}\nexport default jssVendorPrefixer;","/**\n * Sort props by length.\n */\nfunction jssPropsSort() {\n  var sort = function sort(prop0, prop1) {\n    if (prop0.length === prop1.length) {\n      return prop0 > prop1 ? 1 : -1;\n    }\n    return prop0.length - prop1.length;\n  };\n  return {\n    onProcessStyle: function onProcessStyle(style, rule) {\n      if (rule.type !== 'style') return style;\n      var newStyle = {};\n      var props = Object.keys(style).sort(sort);\n      for (var i = 0; i < props.length; i++) {\n        newStyle[props[i]] = style[props[i]];\n      }\n      return newStyle;\n    }\n  };\n}\nexport default jssPropsSort;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport { exactProp } from '@material-ui/utils';\nimport createGenerateClassName from '../createGenerateClassName';\nimport { create } from 'jss';\nimport jssPreset from '../jssPreset'; // Default JSS instance.\n\nvar jss = create(jssPreset()); // Use a singleton or the provided one by the context.\n//\n// The counter-based approach doesn't tolerate any mistake.\n// It's much safer to use the same counter everywhere.\n\nvar generateClassName = createGenerateClassName(); // Exported for test purposes\n\nexport var sheetsManager = new Map();\nvar defaultOptions = {\n  disableGeneration: false,\n  generateClassName: generateClassName,\n  jss: jss,\n  sheetsCache: null,\n  sheetsManager: sheetsManager,\n  sheetsRegistry: null\n};\nexport var StylesContext = React.createContext(defaultOptions);\nif (process.env.NODE_ENV !== 'production') {\n  StylesContext.displayName = 'StylesContext';\n}\nvar injectFirstNode;\nexport default function StylesProvider(props) {\n  var children = props.children,\n    _props$injectFirst = props.injectFirst,\n    injectFirst = _props$injectFirst === void 0 ? false : _props$injectFirst,\n    _props$disableGenerat = props.disableGeneration,\n    disableGeneration = _props$disableGenerat === void 0 ? false : _props$disableGenerat,\n    localOptions = _objectWithoutProperties(props, [\"children\", \"injectFirst\", \"disableGeneration\"]);\n  var outerOptions = React.useContext(StylesContext);\n  var context = _extends({}, outerOptions, {\n    disableGeneration: disableGeneration\n  }, localOptions);\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof window === 'undefined' && !context.sheetsManager) {\n      console.error('Material-UI: You need to use the ServerStyleSheets API when rendering on the server.');\n    }\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    if (context.jss.options.insertionPoint && injectFirst) {\n      console.error('Material-UI: You cannot use a custom insertionPoint and <StylesContext injectFirst> at the same time.');\n    }\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    if (injectFirst && localOptions.jss) {\n      console.error('Material-UI: You cannot use the jss and injectFirst props at the same time.');\n    }\n  }\n  if (!context.jss.options.insertionPoint && injectFirst && typeof window !== 'undefined') {\n    if (!injectFirstNode) {\n      var head = document.head;\n      injectFirstNode = document.createComment('mui-inject-first');\n      head.insertBefore(injectFirstNode, head.firstChild);\n    }\n    context.jss = create({\n      plugins: jssPreset().plugins,\n      insertionPoint: injectFirstNode\n    });\n  }\n  return /*#__PURE__*/React.createElement(StylesContext.Provider, {\n    value: context\n  }, children);\n}\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nif (process.env.NODE_ENV !== 'production') {\n  process.env.NODE_ENV !== \"production\" ? void 0 : void 0;\n}","import functions from 'jss-plugin-rule-value-function';\nimport global from 'jss-plugin-global';\nimport nested from 'jss-plugin-nested';\nimport camelCase from 'jss-plugin-camel-case';\nimport defaultUnit from 'jss-plugin-default-unit';\nimport vendorPrefixer from 'jss-plugin-vendor-prefixer';\nimport propsSort from 'jss-plugin-props-sort'; // Subset of jss-preset-default with only the plugins the Material-UI components are using.\n\nexport default function jssPreset() {\n  return {\n    plugins: [functions(), global(), nested(), camelCase(), defaultUnit(),\n    // Disable the vendor prefixer server-side, it does nothing.\n    // This way, we can get a performance boost.\n    // In the documentation, we are using `autoprefixer` to solve this problem.\n    typeof window === 'undefined' ? null : vendorPrefixer(), propsSort()]\n  };\n}","/* eslint-disable import/prefer-default-export */\n// Global index counter to preserve source order.\n// We create the style sheet during the creation of the component,\n// children are handled after the parents, so the order of style elements would be parent->child.\n// It is a problem though when a parent passes a className\n// which needs to override any child's styles.\n// StyleSheet of the child has a higher specificity, because of the source order.\n// So our solution is to render sheets them in the reverse order child->sheet, so\n// that parent has a higher specificity.\nvar indexCounter = -1e9;\nexport function increment() {\n  indexCounter += 1;\n  if (process.env.NODE_ENV !== 'production') {\n    if (indexCounter >= 0) {\n      console.warn(['Material-UI: You might have a memory leak.', 'The indexCounter is not supposed to grow that much.'].join('\\n'));\n    }\n  }\n  return indexCounter;\n}","// We use the same empty object to ref count the styles that don't need a theme object.\nvar noopTheme = {};\nexport default noopTheme;","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport { getDynamicStyles } from 'jss';\nimport mergeClasses from '../mergeClasses';\nimport multiKeyStore from './multiKeyStore';\nimport useTheme from '../useTheme';\nimport { StylesContext } from '../StylesProvider';\nimport { increment } from './indexCounter';\nimport getStylesCreator from '../getStylesCreator';\nimport noopTheme from '../getStylesCreator/noopTheme';\nfunction getClasses(_ref, classes, Component) {\n  var state = _ref.state,\n    stylesOptions = _ref.stylesOptions;\n  if (stylesOptions.disableGeneration) {\n    return classes || {};\n  }\n  if (!state.cacheClasses) {\n    state.cacheClasses = {\n      // Cache for the finalized classes value.\n      value: null,\n      // Cache for the last used classes prop pointer.\n      lastProp: null,\n      // Cache for the last used rendered classes pointer.\n      lastJSS: {}\n    };\n  } // Tracks if either the rendered classes or classes prop has changed,\n  // requiring the generation of a new finalized classes object.\n\n  var generate = false;\n  if (state.classes !== state.cacheClasses.lastJSS) {\n    state.cacheClasses.lastJSS = state.classes;\n    generate = true;\n  }\n  if (classes !== state.cacheClasses.lastProp) {\n    state.cacheClasses.lastProp = classes;\n    generate = true;\n  }\n  if (generate) {\n    state.cacheClasses.value = mergeClasses({\n      baseClasses: state.cacheClasses.lastJSS,\n      newClasses: classes,\n      Component: Component\n    });\n  }\n  return state.cacheClasses.value;\n}\nfunction attach(_ref2, props) {\n  var state = _ref2.state,\n    theme = _ref2.theme,\n    stylesOptions = _ref2.stylesOptions,\n    stylesCreator = _ref2.stylesCreator,\n    name = _ref2.name;\n  if (stylesOptions.disableGeneration) {\n    return;\n  }\n  var sheetManager = multiKeyStore.get(stylesOptions.sheetsManager, stylesCreator, theme);\n  if (!sheetManager) {\n    sheetManager = {\n      refs: 0,\n      staticSheet: null,\n      dynamicStyles: null\n    };\n    multiKeyStore.set(stylesOptions.sheetsManager, stylesCreator, theme, sheetManager);\n  }\n  var options = _extends({}, stylesCreator.options, stylesOptions, {\n    theme: theme,\n    flip: typeof stylesOptions.flip === 'boolean' ? stylesOptions.flip : theme.direction === 'rtl'\n  });\n  options.generateId = options.serverGenerateClassName || options.generateClassName;\n  var sheetsRegistry = stylesOptions.sheetsRegistry;\n  if (sheetManager.refs === 0) {\n    var staticSheet;\n    if (stylesOptions.sheetsCache) {\n      staticSheet = multiKeyStore.get(stylesOptions.sheetsCache, stylesCreator, theme);\n    }\n    var styles = stylesCreator.create(theme, name);\n    if (!staticSheet) {\n      staticSheet = stylesOptions.jss.createStyleSheet(styles, _extends({\n        link: false\n      }, options));\n      staticSheet.attach();\n      if (stylesOptions.sheetsCache) {\n        multiKeyStore.set(stylesOptions.sheetsCache, stylesCreator, theme, staticSheet);\n      }\n    }\n    if (sheetsRegistry) {\n      sheetsRegistry.add(staticSheet);\n    }\n    sheetManager.staticSheet = staticSheet;\n    sheetManager.dynamicStyles = getDynamicStyles(styles);\n  }\n  if (sheetManager.dynamicStyles) {\n    var dynamicSheet = stylesOptions.jss.createStyleSheet(sheetManager.dynamicStyles, _extends({\n      link: true\n    }, options));\n    dynamicSheet.update(props);\n    dynamicSheet.attach();\n    state.dynamicSheet = dynamicSheet;\n    state.classes = mergeClasses({\n      baseClasses: sheetManager.staticSheet.classes,\n      newClasses: dynamicSheet.classes\n    });\n    if (sheetsRegistry) {\n      sheetsRegistry.add(dynamicSheet);\n    }\n  } else {\n    state.classes = sheetManager.staticSheet.classes;\n  }\n  sheetManager.refs += 1;\n}\nfunction update(_ref3, props) {\n  var state = _ref3.state;\n  if (state.dynamicSheet) {\n    state.dynamicSheet.update(props);\n  }\n}\nfunction detach(_ref4) {\n  var state = _ref4.state,\n    theme = _ref4.theme,\n    stylesOptions = _ref4.stylesOptions,\n    stylesCreator = _ref4.stylesCreator;\n  if (stylesOptions.disableGeneration) {\n    return;\n  }\n  var sheetManager = multiKeyStore.get(stylesOptions.sheetsManager, stylesCreator, theme);\n  sheetManager.refs -= 1;\n  var sheetsRegistry = stylesOptions.sheetsRegistry;\n  if (sheetManager.refs === 0) {\n    multiKeyStore.delete(stylesOptions.sheetsManager, stylesCreator, theme);\n    stylesOptions.jss.removeStyleSheet(sheetManager.staticSheet);\n    if (sheetsRegistry) {\n      sheetsRegistry.remove(sheetManager.staticSheet);\n    }\n  }\n  if (state.dynamicSheet) {\n    stylesOptions.jss.removeStyleSheet(state.dynamicSheet);\n    if (sheetsRegistry) {\n      sheetsRegistry.remove(state.dynamicSheet);\n    }\n  }\n}\nfunction useSynchronousEffect(func, values) {\n  var key = React.useRef([]);\n  var output; // Store \"generation\" key. Just returns a new object every time\n\n  var currentKey = React.useMemo(function () {\n    return {};\n  }, values); // eslint-disable-line react-hooks/exhaustive-deps\n  // \"the first render\", or \"memo dropped the value\"\n\n  if (key.current !== currentKey) {\n    key.current = currentKey;\n    output = func();\n  }\n  React.useEffect(function () {\n    return function () {\n      if (output) {\n        output();\n      }\n    };\n  }, [currentKey] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n}\nexport default function makeStyles(stylesOrCreator) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var name = options.name,\n    classNamePrefixOption = options.classNamePrefix,\n    Component = options.Component,\n    _options$defaultTheme = options.defaultTheme,\n    defaultTheme = _options$defaultTheme === void 0 ? noopTheme : _options$defaultTheme,\n    stylesOptions2 = _objectWithoutProperties(options, [\"name\", \"classNamePrefix\", \"Component\", \"defaultTheme\"]);\n  var stylesCreator = getStylesCreator(stylesOrCreator);\n  var classNamePrefix = name || classNamePrefixOption || 'makeStyles';\n  stylesCreator.options = {\n    index: increment(),\n    name: name,\n    meta: classNamePrefix,\n    classNamePrefix: classNamePrefix\n  };\n  var useStyles = function useStyles() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var theme = useTheme() || defaultTheme;\n    var stylesOptions = _extends({}, React.useContext(StylesContext), stylesOptions2);\n    var instance = React.useRef();\n    var shouldUpdate = React.useRef();\n    useSynchronousEffect(function () {\n      var current = {\n        name: name,\n        state: {},\n        stylesCreator: stylesCreator,\n        stylesOptions: stylesOptions,\n        theme: theme\n      };\n      attach(current, props);\n      shouldUpdate.current = false;\n      instance.current = current;\n      return function () {\n        detach(current);\n      };\n    }, [theme, stylesCreator]);\n    React.useEffect(function () {\n      if (shouldUpdate.current) {\n        update(instance.current, props);\n      }\n      shouldUpdate.current = true;\n    });\n    var classes = getClasses(instance.current, props.classes, Component);\n    if (process.env.NODE_ENV !== 'production') {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      React.useDebugValue(classes);\n    }\n    return classes;\n  };\n  return useStyles;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { deepmerge } from '@material-ui/utils';\nimport noopTheme from './noopTheme';\nexport default function getStylesCreator(stylesOrCreator) {\n  var themingEnabled = typeof stylesOrCreator === 'function';\n  if (process.env.NODE_ENV !== 'production') {\n    if (_typeof(stylesOrCreator) !== 'object' && !themingEnabled) {\n      console.error(['Material-UI: The `styles` argument provided is invalid.', 'You need to provide a function generating the styles or a styles object.'].join('\\n'));\n    }\n  }\n  return {\n    create: function create(theme, name) {\n      var styles;\n      try {\n        styles = themingEnabled ? stylesOrCreator(theme) : stylesOrCreator;\n      } catch (err) {\n        if (process.env.NODE_ENV !== 'production') {\n          if (themingEnabled === true && theme === noopTheme) {\n            // TODO: prepend error message/name instead\n            console.error(['Material-UI: The `styles` argument provided is invalid.', 'You are providing a function without a theme in the context.', 'One of the parent elements needs to use a ThemeProvider.'].join('\\n'));\n          }\n        }\n        throw err;\n      }\n      if (!name || !theme.overrides || !theme.overrides[name]) {\n        return styles;\n      }\n      var overrides = theme.overrides[name];\n      var stylesWithOverrides = _extends({}, styles);\n      Object.keys(overrides).forEach(function (key) {\n        if (process.env.NODE_ENV !== 'production') {\n          if (!stylesWithOverrides[key]) {\n            console.warn(['Material-UI: You are trying to override a style that does not exist.', \"Fix the `\".concat(key, \"` key of `theme.overrides.\").concat(name, \"`.\")].join('\\n'));\n          }\n        }\n        stylesWithOverrides[key] = deepmerge(stylesWithOverrides[key], overrides[key]);\n      });\n      return stylesWithOverrides;\n    },\n    options: {}\n  };\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport { chainPropTypes, getDisplayName } from '@material-ui/utils';\nimport makeStyles from '../makeStyles';\nimport getThemeProps from '../getThemeProps';\nimport useTheme from '../useTheme'; // Link a style sheet with a component.\n// It does not modify the component passed to it;\n// instead, it returns a new component, with a `classes` property.\n\nvar withStyles = function withStyles(stylesOrCreator) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function (Component) {\n    var defaultTheme = options.defaultTheme,\n      _options$withTheme = options.withTheme,\n      withTheme = _options$withTheme === void 0 ? false : _options$withTheme,\n      name = options.name,\n      stylesOptions = _objectWithoutProperties(options, [\"defaultTheme\", \"withTheme\", \"name\"]);\n    if (process.env.NODE_ENV !== 'production') {\n      if (Component === undefined) {\n        throw new Error(['You are calling withStyles(styles)(Component) with an undefined component.', 'You may have forgotten to import it.'].join('\\n'));\n      }\n    }\n    var classNamePrefix = name;\n    if (process.env.NODE_ENV !== 'production') {\n      if (!name) {\n        // Provide a better DX outside production.\n        var displayName = getDisplayName(Component);\n        if (displayName !== undefined) {\n          classNamePrefix = displayName;\n        }\n      }\n    }\n    var useStyles = makeStyles(stylesOrCreator, _extends({\n      defaultTheme: defaultTheme,\n      Component: Component,\n      name: name || Component.displayName,\n      classNamePrefix: classNamePrefix\n    }, stylesOptions));\n    var WithStyles = /*#__PURE__*/React.forwardRef(function WithStyles(props, ref) {\n      var classesProp = props.classes,\n        innerRef = props.innerRef,\n        other = _objectWithoutProperties(props, [\"classes\", \"innerRef\"]); // The wrapper receives only user supplied props, which could be a subset of\n      // the actual props Component might receive due to merging with defaultProps.\n      // So copying it here would give us the same result in the wrapper as well.\n\n      var classes = useStyles(_extends({}, Component.defaultProps, props));\n      var theme;\n      var more = other;\n      if (typeof name === 'string' || withTheme) {\n        // name and withTheme are invariant in the outer scope\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        theme = useTheme() || defaultTheme;\n        if (name) {\n          more = getThemeProps({\n            theme: theme,\n            name: name,\n            props: other\n          });\n        } // Provide the theme to the wrapped component.\n        // So we don't have to use the `withTheme()` Higher-order Component.\n\n        if (withTheme && !more.theme) {\n          more.theme = theme;\n        }\n      }\n      return /*#__PURE__*/React.createElement(Component, _extends({\n        ref: innerRef || ref,\n        classes: classes\n      }, more));\n    });\n    process.env.NODE_ENV !== \"production\" ? void 0 : void 0;\n    if (process.env.NODE_ENV !== 'production') {\n      WithStyles.displayName = \"WithStyles(\".concat(getDisplayName(Component), \")\");\n    }\n    hoistNonReactStatics(WithStyles, Component);\n    if (process.env.NODE_ENV !== 'production') {\n      // Exposed for test purposes.\n      WithStyles.Naked = Component;\n      WithStyles.options = options;\n      WithStyles.useStyles = useStyles;\n    }\n    return WithStyles;\n  };\n};\nexport default withStyles;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { withStyles as withStylesWithoutDefault } from '@material-ui/styles';\nimport defaultTheme from './defaultTheme';\nfunction withStyles(stylesOrCreator, options) {\n  return withStylesWithoutDefault(stylesOrCreator, _extends({\n    defaultTheme: defaultTheme\n  }, options));\n}\nexport default withStyles;","import baseEach from './_baseEach.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n    result = isArrayLike(collection) ? Array(collection.length) : [];\n  baseEach(collection, function (value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\nexport default baseMap;","function r(e) {\n  var t,\n    f,\n    n = \"\";\n  if (\"string\" == typeof e || \"number\" == typeof e) n += e;else if (\"object\" == typeof e) if (Array.isArray(e)) for (t = 0; t < e.length; t++) e[t] && (f = r(e[t])) && (n && (n += \" \"), n += f);else for (t in e) e[t] && (n && (n += \" \"), n += t);\n  return n;\n}\nexport function clsx() {\n  for (var e, t, f = 0, n = \"\"; f < arguments.length;) (e = arguments[f++]) && (t = r(e)) && (n && (n += \" \"), n += t);\n  return n;\n}\nexport default clsx;","// TODO v5: consider to make it private\nexport default function setRef(ref, value) {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref) {\n    ref.current = value;\n  }\n}","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n    length = array == null ? 0 : array.length;\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\nexport default arraySome;","import SetCache from './_SetCache.js';\nimport arraySome from './_arraySome.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n  COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n    arrLength = array.length,\n    othLength = other.length;\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n    result = true,\n    seen = bitmask & COMPARE_UNORDERED_FLAG ? new SetCache() : undefined;\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n      othValue = other[index];\n    if (customizer) {\n      var compared = isPartial ? customizer(othValue, arrValue, index, other, array, stack) : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function (othValue, othIndex) {\n        if (!cacheHas(seen, othIndex) && (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n          return seen.push(othIndex);\n        }\n      })) {\n        result = false;\n        break;\n      }\n    } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\nexport default equalArrays;","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n    result = Array(map.size);\n  map.forEach(function (value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\nexport default mapToArray;","import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport eq from './eq.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n  COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n  dateTag = '[object Date]',\n  errorTag = '[object Error]',\n  mapTag = '[object Map]',\n  numberTag = '[object Number]',\n  regexpTag = '[object RegExp]',\n  setTag = '[object Set]',\n  stringTag = '[object String]',\n  symbolTag = '[object Symbol]';\nvar arrayBufferTag = '[object ArrayBuffer]',\n  dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n  symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n    case arrayBufferTag:\n      if (object.byteLength != other.byteLength || !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == other + '';\n    case mapTag:\n      var convert = mapToArray;\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\nexport default equalByTag;","import getAllKeys from './_getAllKeys.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n    objProps = getAllKeys(object),\n    objLength = objProps.length,\n    othProps = getAllKeys(other),\n    othLength = othProps.length;\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n      othValue = other[key];\n    if (customizer) {\n      var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) : compared)) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n      othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor && 'constructor' in object && 'constructor' in other && !(typeof objCtor == 'function' && objCtor instanceof objCtor && typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\nexport default equalObjects;","import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n  arrayTag = '[object Array]',\n  objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n    othIsArr = isArray(other),\n    objTag = objIsArr ? arrayTag : getTag(object),\n    othTag = othIsArr ? arrayTag : getTag(other);\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n  var objIsObj = objTag == objectTag,\n    othIsObj = othTag == objectTag,\n    isSameTag = objTag == othTag;\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack());\n    return objIsArr || isTypedArray(object) ? equalArrays(object, other, bitmask, customizer, equalFunc, stack) : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n      othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n        othUnwrapped = othIsWrapped ? other.value() : other;\n      stack || (stack = new Stack());\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack());\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\nexport default baseIsEqualDeep;","import baseIsEqualDeep from './_baseIsEqualDeep.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || !isObjectLike(value) && !isObjectLike(other)) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\nexport default baseIsEqual;","import Stack from './_Stack.js';\nimport baseIsEqual from './_baseIsEqual.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n  COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n    length = index,\n    noCustomizer = !customizer;\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if (noCustomizer && data[2] ? data[1] !== object[data[0]] : !(data[0] in object)) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n      objValue = object[key],\n      srcValue = data[1];\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack();\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack) : result)) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\nexport default baseIsMatch;","import isObject from './isObject.js';\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\nexport default isStrictComparable;","import isStrictComparable from './_isStrictComparable.js';\nimport keys from './keys.js';\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n    length = result.length;\n  while (length--) {\n    var key = result[length],\n      value = object[key];\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\nexport default getMatchData;","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function (object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue && (srcValue !== undefined || key in Object(object));\n  };\n}\nexport default matchesStrictComparable;","import baseIsMatch from './_baseIsMatch.js';\nimport getMatchData from './_getMatchData.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function (object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\nexport default baseMatches;","import baseGet from './_baseGet.js';\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\nexport default get;","import baseIsEqual from './_baseIsEqual.js';\nimport get from './get.js';\nimport hasIn from './hasIn.js';\nimport isKey from './_isKey.js';\nimport isStrictComparable from './_isStrictComparable.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\nimport toKey from './_toKey.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n  COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function (object) {\n    var objValue = get(object, path);\n    return objValue === undefined && objValue === srcValue ? hasIn(object, path) : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\nexport default baseMatchesProperty;","import baseGet from './_baseGet.js';\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function (object) {\n    return baseGet(object, path);\n  };\n}\nexport default basePropertyDeep;","import baseProperty from './_baseProperty.js';\nimport basePropertyDeep from './_basePropertyDeep.js';\nimport isKey from './_isKey.js';\nimport toKey from './_toKey.js';\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\nexport default property;","import baseMatches from './_baseMatches.js';\nimport baseMatchesProperty from './_baseMatchesProperty.js';\nimport identity from './identity.js';\nimport isArray from './isArray.js';\nimport property from './property.js';\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value) ? baseMatchesProperty(value[0], value[1]) : baseMatches(value);\n  }\n  return property(value);\n}\nexport default baseIteratee;","import { l as log, m as evaluate, c as getConfig, M as decodeEntities, d as sanitizeText, u as utils } from \"./mermaid-b5860b54.js\";\nimport { select, line, curveBasis } from \"d3\";\nimport { a as createText } from \"./createText-2e5e7dd3.js\";\nconst insertMarkers = (elem, markerArray, type, id) => {\n  markerArray.forEach(markerName => {\n    markers[markerName](elem, type, id);\n  });\n};\nconst extension = (elem, type, id) => {\n  log.trace(\"Making markers for \", id);\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-extensionStart\").attr(\"class\", \"marker extension \" + type).attr(\"refX\", 18).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,7 L18,13 V 1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-extensionEnd\").attr(\"class\", \"marker extension \" + type).attr(\"refX\", 1).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,1 V 13 L18,7 Z\");\n};\nconst composition = (elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-compositionStart\").attr(\"class\", \"marker composition \" + type).attr(\"refX\", 18).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-compositionEnd\").attr(\"class\", \"marker composition \" + type).attr(\"refX\", 1).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n};\nconst aggregation = (elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-aggregationStart\").attr(\"class\", \"marker aggregation \" + type).attr(\"refX\", 18).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-aggregationEnd\").attr(\"class\", \"marker aggregation \" + type).attr(\"refX\", 1).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n};\nconst dependency = (elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-dependencyStart\").attr(\"class\", \"marker dependency \" + type).attr(\"refX\", 6).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 5,7 L9,13 L1,7 L9,1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-dependencyEnd\").attr(\"class\", \"marker dependency \" + type).attr(\"refX\", 13).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L14,7 L9,1 Z\");\n};\nconst lollipop = (elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-lollipopStart\").attr(\"class\", \"marker lollipop \" + type).attr(\"refX\", 13).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"circle\").attr(\"stroke\", \"black\").attr(\"fill\", \"transparent\").attr(\"cx\", 7).attr(\"cy\", 7).attr(\"r\", 6);\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-lollipopEnd\").attr(\"class\", \"marker lollipop \" + type).attr(\"refX\", 1).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"circle\").attr(\"stroke\", \"black\").attr(\"fill\", \"transparent\").attr(\"cx\", 7).attr(\"cy\", 7).attr(\"r\", 6);\n};\nconst point = (elem, type, id) => {\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-pointEnd\").attr(\"class\", \"marker \" + type).attr(\"viewBox\", \"0 0 10 10\").attr(\"refX\", 6).attr(\"refY\", 5).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 12).attr(\"markerHeight\", 12).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 0 0 L 10 5 L 0 10 z\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 1).style(\"stroke-dasharray\", \"1,0\");\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-pointStart\").attr(\"class\", \"marker \" + type).attr(\"viewBox\", \"0 0 10 10\").attr(\"refX\", 4.5).attr(\"refY\", 5).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 12).attr(\"markerHeight\", 12).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 0 5 L 10 10 L 10 0 z\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 1).style(\"stroke-dasharray\", \"1,0\");\n};\nconst circle$1 = (elem, type, id) => {\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-circleEnd\").attr(\"class\", \"marker \" + type).attr(\"viewBox\", \"0 0 10 10\").attr(\"refX\", 11).attr(\"refY\", 5).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 11).attr(\"markerHeight\", 11).attr(\"orient\", \"auto\").append(\"circle\").attr(\"cx\", \"5\").attr(\"cy\", \"5\").attr(\"r\", \"5\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 1).style(\"stroke-dasharray\", \"1,0\");\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-circleStart\").attr(\"class\", \"marker \" + type).attr(\"viewBox\", \"0 0 10 10\").attr(\"refX\", -1).attr(\"refY\", 5).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 11).attr(\"markerHeight\", 11).attr(\"orient\", \"auto\").append(\"circle\").attr(\"cx\", \"5\").attr(\"cy\", \"5\").attr(\"r\", \"5\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 1).style(\"stroke-dasharray\", \"1,0\");\n};\nconst cross = (elem, type, id) => {\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-crossEnd\").attr(\"class\", \"marker cross \" + type).attr(\"viewBox\", \"0 0 11 11\").attr(\"refX\", 12).attr(\"refY\", 5.2).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 11).attr(\"markerHeight\", 11).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,1 l 9,9 M 10,1 l -9,9\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 2).style(\"stroke-dasharray\", \"1,0\");\n  elem.append(\"marker\").attr(\"id\", id + \"_\" + type + \"-crossStart\").attr(\"class\", \"marker cross \" + type).attr(\"viewBox\", \"0 0 11 11\").attr(\"refX\", -1).attr(\"refY\", 5.2).attr(\"markerUnits\", \"userSpaceOnUse\").attr(\"markerWidth\", 11).attr(\"markerHeight\", 11).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,1 l 9,9 M 10,1 l -9,9\").attr(\"class\", \"arrowMarkerPath\").style(\"stroke-width\", 2).style(\"stroke-dasharray\", \"1,0\");\n};\nconst barb = (elem, type, id) => {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", id + \"_\" + type + \"-barbEnd\").attr(\"refX\", 19).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 14).attr(\"markerUnits\", \"strokeWidth\").attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 19,7 L9,13 L14,7 L9,1 Z\");\n};\nconst markers = {\n  extension,\n  composition,\n  aggregation,\n  dependency,\n  lollipop,\n  point,\n  circle: circle$1,\n  cross,\n  barb\n};\nconst insertMarkers$1 = insertMarkers;\nfunction applyStyle(dom, styleFn) {\n  if (styleFn) {\n    dom.attr(\"style\", styleFn);\n  }\n}\nfunction addHtmlLabel(node) {\n  const fo = select(document.createElementNS(\"http://www.w3.org/2000/svg\", \"foreignObject\"));\n  const div = fo.append(\"xhtml:div\");\n  const label = node.label;\n  const labelClass = node.isNode ? \"nodeLabel\" : \"edgeLabel\";\n  div.html('<span class=\"' + labelClass + '\" ' + (node.labelStyle ? 'style=\"' + node.labelStyle + '\"' : \"\") + \">\" + label + \"</span>\");\n  applyStyle(div, node.labelStyle);\n  div.style(\"display\", \"inline-block\");\n  div.style(\"white-space\", \"nowrap\");\n  div.attr(\"xmlns\", \"http://www.w3.org/1999/xhtml\");\n  return fo.node();\n}\nconst createLabel = (_vertexText, style, isTitle, isNode) => {\n  let vertexText = _vertexText || \"\";\n  if (typeof vertexText === \"object\") {\n    vertexText = vertexText[0];\n  }\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    vertexText = vertexText.replace(/\\\\n|\\n/g, \"<br />\");\n    log.debug(\"vertexText\" + vertexText);\n    const node = {\n      isNode,\n      label: decodeEntities(vertexText).replace(/fa[blrs]?:fa-[\\w-]+/g,\n      // cspell: disable-line\n      s => `<i class='${s.replace(\":\", \" \")}'></i>`),\n      labelStyle: style.replace(\"fill:\", \"color:\")\n    };\n    let vertexNode = addHtmlLabel(node);\n    return vertexNode;\n  } else {\n    const svgLabel = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n    svgLabel.setAttribute(\"style\", style.replace(\"color:\", \"fill:\"));\n    let rows = [];\n    if (typeof vertexText === \"string\") {\n      rows = vertexText.split(/\\\\n|\\n|<br\\s*\\/?>/gi);\n    } else if (Array.isArray(vertexText)) {\n      rows = vertexText;\n    } else {\n      rows = [];\n    }\n    for (const row of rows) {\n      const tspan = document.createElementNS(\"http://www.w3.org/2000/svg\", \"tspan\");\n      tspan.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\", \"xml:space\", \"preserve\");\n      tspan.setAttribute(\"dy\", \"1em\");\n      tspan.setAttribute(\"x\", \"0\");\n      if (isTitle) {\n        tspan.setAttribute(\"class\", \"title-row\");\n      } else {\n        tspan.setAttribute(\"class\", \"row\");\n      }\n      tspan.textContent = row.trim();\n      svgLabel.appendChild(tspan);\n    }\n    return svgLabel;\n  }\n};\nconst createLabel$1 = createLabel;\nconst labelHelper = async (parent, node, _classes, isNode) => {\n  let classes;\n  const useHtmlLabels = node.useHtmlLabels || evaluate(getConfig().flowchart.htmlLabels);\n  if (!_classes) {\n    classes = \"node default\";\n  } else {\n    classes = _classes;\n  }\n  const shapeSvg = parent.insert(\"g\").attr(\"class\", classes).attr(\"id\", node.domId || node.id);\n  const label = shapeSvg.insert(\"g\").attr(\"class\", \"label\").attr(\"style\", node.labelStyle);\n  let labelText;\n  if (node.labelText === void 0) {\n    labelText = \"\";\n  } else {\n    labelText = typeof node.labelText === \"string\" ? node.labelText : node.labelText[0];\n  }\n  const textNode = label.node();\n  let text;\n  if (node.labelType === \"markdown\") {\n    text = createText(label, sanitizeText(decodeEntities(labelText), getConfig()), {\n      useHtmlLabels,\n      width: node.width || getConfig().flowchart.wrappingWidth,\n      classes: \"markdown-node-label\"\n    });\n  } else {\n    text = textNode.appendChild(createLabel$1(sanitizeText(decodeEntities(labelText), getConfig()), node.labelStyle, false, isNode));\n  }\n  let bbox = text.getBBox();\n  const halfPadding = node.padding / 2;\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    const div = text.children[0];\n    const dv = select(text);\n    const images = div.getElementsByTagName(\"img\");\n    if (images) {\n      const noImgText = labelText.replace(/<img[^>]*>/g, \"\").trim() === \"\";\n      await Promise.all([...images].map(img => new Promise(res => {\n        function setupImage() {\n          img.style.display = \"flex\";\n          img.style.flexDirection = \"column\";\n          if (noImgText) {\n            const bodyFontSize = getConfig().fontSize ? getConfig().fontSize : window.getComputedStyle(document.body).fontSize;\n            const enlargingFactor = 5;\n            const width = parseInt(bodyFontSize, 10) * enlargingFactor + \"px\";\n            img.style.minWidth = width;\n            img.style.maxWidth = width;\n          } else {\n            img.style.width = \"100%\";\n          }\n          res(img);\n        }\n        setTimeout(() => {\n          if (img.complete) {\n            setupImage();\n          }\n        });\n        img.addEventListener(\"error\", setupImage);\n        img.addEventListener(\"load\", setupImage);\n      })));\n    }\n    bbox = div.getBoundingClientRect();\n    dv.attr(\"width\", bbox.width);\n    dv.attr(\"height\", bbox.height);\n  }\n  if (useHtmlLabels) {\n    label.attr(\"transform\", \"translate(\" + -bbox.width / 2 + \", \" + -bbox.height / 2 + \")\");\n  } else {\n    label.attr(\"transform\", \"translate(0, \" + -bbox.height / 2 + \")\");\n  }\n  if (node.centerLabel) {\n    label.attr(\"transform\", \"translate(\" + -bbox.width / 2 + \", \" + -bbox.height / 2 + \")\");\n  }\n  label.insert(\"rect\", \":first-child\");\n  return {\n    shapeSvg,\n    bbox,\n    halfPadding,\n    label\n  };\n};\nconst updateNodeBounds = (node, element) => {\n  const bbox = element.node().getBBox();\n  node.width = bbox.width;\n  node.height = bbox.height;\n};\nfunction insertPolygonShape(parent, w, h, points) {\n  return parent.insert(\"polygon\", \":first-child\").attr(\"points\", points.map(function (d) {\n    return d.x + \",\" + d.y;\n  }).join(\" \")).attr(\"class\", \"label-container\").attr(\"transform\", \"translate(\" + -w / 2 + \",\" + h / 2 + \")\");\n}\nfunction intersectNode(node, point2) {\n  return node.intersect(point2);\n}\nfunction intersectEllipse(node, rx, ry, point2) {\n  var cx = node.x;\n  var cy = node.y;\n  var px = cx - point2.x;\n  var py = cy - point2.y;\n  var det = Math.sqrt(rx * rx * py * py + ry * ry * px * px);\n  var dx = Math.abs(rx * ry * px / det);\n  if (point2.x < cx) {\n    dx = -dx;\n  }\n  var dy = Math.abs(rx * ry * py / det);\n  if (point2.y < cy) {\n    dy = -dy;\n  }\n  return {\n    x: cx + dx,\n    y: cy + dy\n  };\n}\nfunction intersectCircle(node, rx, point2) {\n  return intersectEllipse(node, rx, rx, point2);\n}\nfunction intersectLine(p1, p2, q1, q2) {\n  var a1, a2, b1, b2, c1, c2;\n  var r1, r2, r3, r4;\n  var denom, offset, num;\n  var x, y;\n  a1 = p2.y - p1.y;\n  b1 = p1.x - p2.x;\n  c1 = p2.x * p1.y - p1.x * p2.y;\n  r3 = a1 * q1.x + b1 * q1.y + c1;\n  r4 = a1 * q2.x + b1 * q2.y + c1;\n  if (r3 !== 0 && r4 !== 0 && sameSign(r3, r4)) {\n    return;\n  }\n  a2 = q2.y - q1.y;\n  b2 = q1.x - q2.x;\n  c2 = q2.x * q1.y - q1.x * q2.y;\n  r1 = a2 * p1.x + b2 * p1.y + c2;\n  r2 = a2 * p2.x + b2 * p2.y + c2;\n  if (r1 !== 0 && r2 !== 0 && sameSign(r1, r2)) {\n    return;\n  }\n  denom = a1 * b2 - a2 * b1;\n  if (denom === 0) {\n    return;\n  }\n  offset = Math.abs(denom / 2);\n  num = b1 * c2 - b2 * c1;\n  x = num < 0 ? (num - offset) / denom : (num + offset) / denom;\n  num = a2 * c1 - a1 * c2;\n  y = num < 0 ? (num - offset) / denom : (num + offset) / denom;\n  return {\n    x,\n    y\n  };\n}\nfunction sameSign(r1, r2) {\n  return r1 * r2 > 0;\n}\nfunction intersectPolygon(node, polyPoints, point2) {\n  var x1 = node.x;\n  var y1 = node.y;\n  var intersections = [];\n  var minX = Number.POSITIVE_INFINITY;\n  var minY = Number.POSITIVE_INFINITY;\n  if (typeof polyPoints.forEach === \"function\") {\n    polyPoints.forEach(function (entry) {\n      minX = Math.min(minX, entry.x);\n      minY = Math.min(minY, entry.y);\n    });\n  } else {\n    minX = Math.min(minX, polyPoints.x);\n    minY = Math.min(minY, polyPoints.y);\n  }\n  var left = x1 - node.width / 2 - minX;\n  var top = y1 - node.height / 2 - minY;\n  for (var i = 0; i < polyPoints.length; i++) {\n    var p1 = polyPoints[i];\n    var p2 = polyPoints[i < polyPoints.length - 1 ? i + 1 : 0];\n    var intersect2 = intersectLine(node, point2, {\n      x: left + p1.x,\n      y: top + p1.y\n    }, {\n      x: left + p2.x,\n      y: top + p2.y\n    });\n    if (intersect2) {\n      intersections.push(intersect2);\n    }\n  }\n  if (!intersections.length) {\n    return node;\n  }\n  if (intersections.length > 1) {\n    intersections.sort(function (p, q) {\n      var pdx = p.x - point2.x;\n      var pdy = p.y - point2.y;\n      var distp = Math.sqrt(pdx * pdx + pdy * pdy);\n      var qdx = q.x - point2.x;\n      var qdy = q.y - point2.y;\n      var distq = Math.sqrt(qdx * qdx + qdy * qdy);\n      return distp < distq ? -1 : distp === distq ? 0 : 1;\n    });\n  }\n  return intersections[0];\n}\nconst intersectRect = (node, point2) => {\n  var x = node.x;\n  var y = node.y;\n  var dx = point2.x - x;\n  var dy = point2.y - y;\n  var w = node.width / 2;\n  var h = node.height / 2;\n  var sx, sy;\n  if (Math.abs(dy) * w > Math.abs(dx) * h) {\n    if (dy < 0) {\n      h = -h;\n    }\n    sx = dy === 0 ? 0 : h * dx / dy;\n    sy = h;\n  } else {\n    if (dx < 0) {\n      w = -w;\n    }\n    sx = w;\n    sy = dx === 0 ? 0 : w * dy / dx;\n  }\n  return {\n    x: x + sx,\n    y: y + sy\n  };\n};\nconst intersectRect$1 = intersectRect;\nconst intersect = {\n  node: intersectNode,\n  circle: intersectCircle,\n  ellipse: intersectEllipse,\n  polygon: intersectPolygon,\n  rect: intersectRect$1\n};\nconst note = async (parent, node) => {\n  const useHtmlLabels = node.useHtmlLabels || getConfig().flowchart.htmlLabels;\n  if (!useHtmlLabels) {\n    node.centerLabel = true;\n  }\n  const {\n    shapeSvg,\n    bbox,\n    halfPadding\n  } = await labelHelper(parent, node, \"node \" + node.classes, true);\n  log.info(\"Classes = \", node.classes);\n  const rect2 = shapeSvg.insert(\"rect\", \":first-child\");\n  rect2.attr(\"rx\", node.rx).attr(\"ry\", node.ry).attr(\"x\", -bbox.width / 2 - halfPadding).attr(\"y\", -bbox.height / 2 - halfPadding).attr(\"width\", bbox.width + node.padding).attr(\"height\", bbox.height + node.padding);\n  updateNodeBounds(node, rect2);\n  node.intersect = function (point2) {\n    return intersect.rect(node, point2);\n  };\n  return shapeSvg;\n};\nconst note$1 = note;\nconst expandAndDeduplicateDirections = directions => {\n  const uniqueDirections = /* @__PURE__ */new Set();\n  for (const direction of directions) {\n    switch (direction) {\n      case \"x\":\n        uniqueDirections.add(\"right\");\n        uniqueDirections.add(\"left\");\n        break;\n      case \"y\":\n        uniqueDirections.add(\"up\");\n        uniqueDirections.add(\"down\");\n        break;\n      default:\n        uniqueDirections.add(direction);\n        break;\n    }\n  }\n  return uniqueDirections;\n};\nconst getArrowPoints = (duplicatedDirections, bbox, node) => {\n  const directions = expandAndDeduplicateDirections(duplicatedDirections);\n  const f = 2;\n  const height = bbox.height + 2 * node.padding;\n  const midpoint = height / f;\n  const width = bbox.width + 2 * midpoint + node.padding;\n  const padding = node.padding / 2;\n  if (directions.has(\"right\") && directions.has(\"left\") && directions.has(\"up\") && directions.has(\"down\")) {\n    return [\n    // Bottom\n    {\n      x: 0,\n      y: 0\n    }, {\n      x: midpoint,\n      y: 0\n    }, {\n      x: width / 2,\n      y: 2 * padding\n    }, {\n      x: width - midpoint,\n      y: 0\n    }, {\n      x: width,\n      y: 0\n    },\n    // Right\n    {\n      x: width,\n      y: -height / 3\n    }, {\n      x: width + 2 * padding,\n      y: -height / 2\n    }, {\n      x: width,\n      y: -2 * height / 3\n    }, {\n      x: width,\n      y: -height\n    },\n    // Top\n    {\n      x: width - midpoint,\n      y: -height\n    }, {\n      x: width / 2,\n      y: -height - 2 * padding\n    }, {\n      x: midpoint,\n      y: -height\n    },\n    // Left\n    {\n      x: 0,\n      y: -height\n    }, {\n      x: 0,\n      y: -2 * height / 3\n    }, {\n      x: -2 * padding,\n      y: -height / 2\n    }, {\n      x: 0,\n      y: -height / 3\n    }];\n  }\n  if (directions.has(\"right\") && directions.has(\"left\") && directions.has(\"up\")) {\n    return [{\n      x: midpoint,\n      y: 0\n    }, {\n      x: width - midpoint,\n      y: 0\n    }, {\n      x: width,\n      y: -height / 2\n    }, {\n      x: width - midpoint,\n      y: -height\n    }, {\n      x: midpoint,\n      y: -height\n    }, {\n      x: 0,\n      y: -height / 2\n    }];\n  }\n  if (directions.has(\"right\") && directions.has(\"left\") && directions.has(\"down\")) {\n    return [{\n      x: 0,\n      y: 0\n    }, {\n      x: midpoint,\n      y: -height\n    }, {\n      x: width - midpoint,\n      y: -height\n    }, {\n      x: width,\n      y: 0\n    }];\n  }\n  if (directions.has(\"right\") && directions.has(\"up\") && directions.has(\"down\")) {\n    return [{\n      x: 0,\n      y: 0\n    }, {\n      x: width,\n      y: -midpoint\n    }, {\n      x: width,\n      y: -height + midpoint\n    }, {\n      x: 0,\n      y: -height\n    }];\n  }\n  if (directions.has(\"left\") && directions.has(\"up\") && directions.has(\"down\")) {\n    return [{\n      x: width,\n      y: 0\n    }, {\n      x: 0,\n      y: -midpoint\n    }, {\n      x: 0,\n      y: -height + midpoint\n    }, {\n      x: width,\n      y: -height\n    }];\n  }\n  if (directions.has(\"right\") && directions.has(\"left\")) {\n    return [{\n      x: midpoint,\n      y: 0\n    }, {\n      x: midpoint,\n      y: -padding\n    }, {\n      x: width - midpoint,\n      y: -padding\n    }, {\n      x: width - midpoint,\n      y: 0\n    }, {\n      x: width,\n      y: -height / 2\n    }, {\n      x: width - midpoint,\n      y: -height\n    }, {\n      x: width - midpoint,\n      y: -height + padding\n    }, {\n      x: midpoint,\n      y: -height + padding\n    }, {\n      x: midpoint,\n      y: -height\n    }, {\n      x: 0,\n      y: -height / 2\n    }];\n  }\n  if (directions.has(\"up\") && directions.has(\"down\")) {\n    return [\n    // Bottom center\n    {\n      x: width / 2,\n      y: 0\n    },\n    // Left pont of bottom arrow\n    {\n      x: 0,\n      y: -padding\n    }, {\n      x: midpoint,\n      y: -padding\n    },\n    // Left top over vertical section\n    {\n      x: midpoint,\n      y: -height + padding\n    }, {\n      x: 0,\n      y: -height + padding\n    },\n    // Top of arrow\n    {\n      x: width / 2,\n      y: -height\n    }, {\n      x: width,\n      y: -height + padding\n    },\n    // Top of right vertical bar\n    {\n      x: width - midpoint,\n      y: -height + padding\n    }, {\n      x: width - midpoint,\n      y: -padding\n    }, {\n      x: width,\n      y: -padding\n    }];\n  }\n  if (directions.has(\"right\") && directions.has(\"up\")) {\n    return [{\n      x: 0,\n      y: 0\n    }, {\n      x: width,\n      y: -midpoint\n    }, {\n      x: 0,\n      y: -height\n    }];\n  }\n  if (directions.has(\"right\") && directions.has(\"down\")) {\n    return [{\n      x: 0,\n      y: 0\n    }, {\n      x: width,\n      y: 0\n    }, {\n      x: 0,\n      y: -height\n    }];\n  }\n  if (directions.has(\"left\") && directions.has(\"up\")) {\n    return [{\n      x: width,\n      y: 0\n    }, {\n      x: 0,\n      y: -midpoint\n    }, {\n      x: width,\n      y: -height\n    }];\n  }\n  if (directions.has(\"left\") && directions.has(\"down\")) {\n    return [{\n      x: width,\n      y: 0\n    }, {\n      x: 0,\n      y: 0\n    }, {\n      x: width,\n      y: -height\n    }];\n  }\n  if (directions.has(\"right\")) {\n    return [{\n      x: midpoint,\n      y: -padding\n    }, {\n      x: midpoint,\n      y: -padding\n    }, {\n      x: width - midpoint,\n      y: -padding\n    }, {\n      x: width - midpoint,\n      y: 0\n    }, {\n      x: width,\n      y: -height / 2\n    }, {\n      x: width - midpoint,\n      y: -height\n    }, {\n      x: width - midpoint,\n      y: -height + padding\n    },\n    // top left corner of arrow\n    {\n      x: midpoint,\n      y: -height + padding\n    }, {\n      x: midpoint,\n      y: -height + padding\n    }];\n  }\n  if (directions.has(\"left\")) {\n    return [{\n      x: midpoint,\n      y: 0\n    }, {\n      x: midpoint,\n      y: -padding\n    },\n    // Two points, the right corners\n    {\n      x: width - midpoint,\n      y: -padding\n    }, {\n      x: width - midpoint,\n      y: -height + padding\n    }, {\n      x: midpoint,\n      y: -height + padding\n    }, {\n      x: midpoint,\n      y: -height\n    }, {\n      x: 0,\n      y: -height / 2\n    }];\n  }\n  if (directions.has(\"up\")) {\n    return [\n    // Bottom center\n    {\n      x: midpoint,\n      y: -padding\n    },\n    // Left top over vertical section\n    {\n      x: midpoint,\n      y: -height + padding\n    }, {\n      x: 0,\n      y: -height + padding\n    },\n    // Top of arrow\n    {\n      x: width / 2,\n      y: -height\n    }, {\n      x: width,\n      y: -height + padding\n    },\n    // Top of right vertical bar\n    {\n      x: width - midpoint,\n      y: -height + padding\n    }, {\n      x: width - midpoint,\n      y: -padding\n    }];\n  }\n  if (directions.has(\"down\")) {\n    return [\n    // Bottom center\n    {\n      x: width / 2,\n      y: 0\n    },\n    // Left pont of bottom arrow\n    {\n      x: 0,\n      y: -padding\n    }, {\n      x: midpoint,\n      y: -padding\n    },\n    // Left top over vertical section\n    {\n      x: midpoint,\n      y: -height + padding\n    }, {\n      x: width - midpoint,\n      y: -height + padding\n    }, {\n      x: width - midpoint,\n      y: -padding\n    }, {\n      x: width,\n      y: -padding\n    }];\n  }\n  return [{\n    x: 0,\n    y: 0\n  }];\n};\nconst formatClass = str => {\n  if (str) {\n    return \" \" + str;\n  }\n  return \"\";\n};\nconst getClassesFromNode = (node, otherClasses) => {\n  return `${otherClasses ? otherClasses : \"node default\"}${formatClass(node.classes)} ${formatClass(node.class)}`;\n};\nconst question = async (parent, node) => {\n  const {\n    shapeSvg,\n    bbox\n  } = await labelHelper(parent, node, getClassesFromNode(node, void 0), true);\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const s = w + h;\n  const points = [{\n    x: s / 2,\n    y: 0\n  }, {\n    x: s,\n    y: -s / 2\n  }, {\n    x: s / 2,\n    y: -s\n  }, {\n    x: 0,\n    y: -s / 2\n  }];\n  log.info(\"Question main (Circle)\");\n  const questionElem = insertPolygonShape(shapeSvg, s, s, points);\n  questionElem.attr(\"style\", node.style);\n  updateNodeBounds(node, questionElem);\n  node.intersect = function (point2) {\n    log.warn(\"Intersect called\");\n    return intersect.polygon(node, points, point2);\n  };\n  return shapeSvg;\n};\nconst choice = (parent, node) => {\n  const shapeSvg = parent.insert(\"g\").attr(\"class\", \"node default\").attr(\"id\", node.domId || node.id);\n  const s = 28;\n  const points = [{\n    x: 0,\n    y: s / 2\n  }, {\n    x: s / 2,\n    y: 0\n  }, {\n    x: 0,\n    y: -s / 2\n  }, {\n    x: -s / 2,\n    y: 0\n  }];\n  const choice2 = shapeSvg.insert(\"polygon\", \":first-child\").attr(\"points\", points.map(function (d) {\n    return d.x + \",\" + d.y;\n  }).join(\" \"));\n  choice2.attr(\"class\", \"state-start\").attr(\"r\", 7).attr(\"width\", 28).attr(\"height\", 28);\n  node.width = 28;\n  node.height = 28;\n  node.intersect = function (point2) {\n    return intersect.circle(node, 14, point2);\n  };\n  return shapeSvg;\n};\nconst hexagon = async (parent, node) => {\n  const {\n    shapeSvg,\n    bbox\n  } = await labelHelper(parent, node, getClassesFromNode(node, void 0), true);\n  const f = 4;\n  const h = bbox.height + node.padding;\n  const m = h / f;\n  const w = bbox.width + 2 * m + node.padding;\n  const points = [{\n    x: m,\n    y: 0\n  }, {\n    x: w - m,\n    y: 0\n  }, {\n    x: w,\n    y: -h / 2\n  }, {\n    x: w - m,\n    y: -h\n  }, {\n    x: m,\n    y: -h\n  }, {\n    x: 0,\n    y: -h / 2\n  }];\n  const hex = insertPolygonShape(shapeSvg, w, h, points);\n  hex.attr(\"style\", node.style);\n  updateNodeBounds(node, hex);\n  node.intersect = function (point2) {\n    return intersect.polygon(node, points, point2);\n  };\n  return shapeSvg;\n};\nconst block_arrow = async (parent, node) => {\n  const {\n    shapeSvg,\n    bbox\n  } = await labelHelper(parent, node, void 0, true);\n  const f = 2;\n  const h = bbox.height + 2 * node.padding;\n  const m = h / f;\n  const w = bbox.width + 2 * m + node.padding;\n  const points = getArrowPoints(node.directions, bbox, node);\n  const blockArrow = insertPolygonShape(shapeSvg, w, h, points);\n  blockArrow.attr(\"style\", node.style);\n  updateNodeBounds(node, blockArrow);\n  node.intersect = function (point2) {\n    return intersect.polygon(node, points, point2);\n  };\n  return shapeSvg;\n};\nconst rect_left_inv_arrow = async (parent, node) => {\n  const {\n    shapeSvg,\n    bbox\n  } = await labelHelper(parent, node, getClassesFromNode(node, void 0), true);\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [{\n    x: -h / 2,\n    y: 0\n  }, {\n    x: w,\n    y: 0\n  }, {\n    x: w,\n    y: -h\n  }, {\n    x: -h / 2,\n    y: -h\n  }, {\n    x: 0,\n    y: -h / 2\n  }];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr(\"style\", node.style);\n  node.width = w + h;\n  node.height = h;\n  node.intersect = function (point2) {\n    return intersect.polygon(node, points, point2);\n  };\n  return shapeSvg;\n};\nconst lean_right = async (parent, node) => {\n  const {\n    shapeSvg,\n    bbox\n  } = await labelHelper(parent, node, getClassesFromNode(node), true);\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [{\n    x: -2 * h / 6,\n    y: 0\n  }, {\n    x: w - h / 6,\n    y: 0\n  }, {\n    x: w + 2 * h / 6,\n    y: -h\n  }, {\n    x: h / 6,\n    y: -h\n  }];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr(\"style\", node.style);\n  updateNodeBounds(node, el);\n  node.intersect = function (point2) {\n    return intersect.polygon(node, points, point2);\n  };\n  return shapeSvg;\n};\nconst lean_left = async (parent, node) => {\n  const {\n    shapeSvg,\n    bbox\n  } = await labelHelper(parent, node, getClassesFromNode(node, void 0), true);\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [{\n    x: 2 * h / 6,\n    y: 0\n  }, {\n    x: w + h / 6,\n    y: 0\n  }, {\n    x: w - 2 * h / 6,\n    y: -h\n  }, {\n    x: -h / 6,\n    y: -h\n  }];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr(\"style\", node.style);\n  updateNodeBounds(node, el);\n  node.intersect = function (point2) {\n    return intersect.polygon(node, points, point2);\n  };\n  return shapeSvg;\n};\nconst trapezoid = async (parent, node) => {\n  const {\n    shapeSvg,\n    bbox\n  } = await labelHelper(parent, node, getClassesFromNode(node, void 0), true);\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [{\n    x: -2 * h / 6,\n    y: 0\n  }, {\n    x: w + 2 * h / 6,\n    y: 0\n  }, {\n    x: w - h / 6,\n    y: -h\n  }, {\n    x: h / 6,\n    y: -h\n  }];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr(\"style\", node.style);\n  updateNodeBounds(node, el);\n  node.intersect = function (point2) {\n    return intersect.polygon(node, points, point2);\n  };\n  return shapeSvg;\n};\nconst inv_trapezoid = async (parent, node) => {\n  const {\n    shapeSvg,\n    bbox\n  } = await labelHelper(parent, node, getClassesFromNode(node, void 0), true);\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [{\n    x: h / 6,\n    y: 0\n  }, {\n    x: w - h / 6,\n    y: 0\n  }, {\n    x: w + 2 * h / 6,\n    y: -h\n  }, {\n    x: -2 * h / 6,\n    y: -h\n  }];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr(\"style\", node.style);\n  updateNodeBounds(node, el);\n  node.intersect = function (point2) {\n    return intersect.polygon(node, points, point2);\n  };\n  return shapeSvg;\n};\nconst rect_right_inv_arrow = async (parent, node) => {\n  const {\n    shapeSvg,\n    bbox\n  } = await labelHelper(parent, node, getClassesFromNode(node, void 0), true);\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [{\n    x: 0,\n    y: 0\n  }, {\n    x: w + h / 2,\n    y: 0\n  }, {\n    x: w,\n    y: -h / 2\n  }, {\n    x: w + h / 2,\n    y: -h\n  }, {\n    x: 0,\n    y: -h\n  }];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr(\"style\", node.style);\n  updateNodeBounds(node, el);\n  node.intersect = function (point2) {\n    return intersect.polygon(node, points, point2);\n  };\n  return shapeSvg;\n};\nconst cylinder = async (parent, node) => {\n  const {\n    shapeSvg,\n    bbox\n  } = await labelHelper(parent, node, getClassesFromNode(node, void 0), true);\n  const w = bbox.width + node.padding;\n  const rx = w / 2;\n  const ry = rx / (2.5 + w / 50);\n  const h = bbox.height + ry + node.padding;\n  const shape = \"M 0,\" + ry + \" a \" + rx + \",\" + ry + \" 0,0,0 \" + w + \" 0 a \" + rx + \",\" + ry + \" 0,0,0 \" + -w + \" 0 l 0,\" + h + \" a \" + rx + \",\" + ry + \" 0,0,0 \" + w + \" 0 l 0,\" + -h;\n  const el = shapeSvg.attr(\"label-offset-y\", ry).insert(\"path\", \":first-child\").attr(\"style\", node.style).attr(\"d\", shape).attr(\"transform\", \"translate(\" + -w / 2 + \",\" + -(h / 2 + ry) + \")\");\n  updateNodeBounds(node, el);\n  node.intersect = function (point2) {\n    const pos = intersect.rect(node, point2);\n    const x = pos.x - node.x;\n    if (rx != 0 && (Math.abs(x) < node.width / 2 || Math.abs(x) == node.width / 2 && Math.abs(pos.y - node.y) > node.height / 2 - ry)) {\n      let y = ry * ry * (1 - x * x / (rx * rx));\n      if (y != 0) {\n        y = Math.sqrt(y);\n      }\n      y = ry - y;\n      if (point2.y - node.y > 0) {\n        y = -y;\n      }\n      pos.y += y;\n    }\n    return pos;\n  };\n  return shapeSvg;\n};\nconst rect = async (parent, node) => {\n  const {\n    shapeSvg,\n    bbox,\n    halfPadding\n  } = await labelHelper(parent, node, \"node \" + node.classes + \" \" + node.class, true);\n  const rect2 = shapeSvg.insert(\"rect\", \":first-child\");\n  const totalWidth = node.positioned ? node.width : bbox.width + node.padding;\n  const totalHeight = node.positioned ? node.height : bbox.height + node.padding;\n  const x = node.positioned ? -totalWidth / 2 : -bbox.width / 2 - halfPadding;\n  const y = node.positioned ? -totalHeight / 2 : -bbox.height / 2 - halfPadding;\n  rect2.attr(\"class\", \"basic label-container\").attr(\"style\", node.style).attr(\"rx\", node.rx).attr(\"ry\", node.ry).attr(\"x\", x).attr(\"y\", y).attr(\"width\", totalWidth).attr(\"height\", totalHeight);\n  if (node.props) {\n    const propKeys = new Set(Object.keys(node.props));\n    if (node.props.borders) {\n      applyNodePropertyBorders(rect2, node.props.borders, totalWidth, totalHeight);\n      propKeys.delete(\"borders\");\n    }\n    propKeys.forEach(propKey => {\n      log.warn(`Unknown node property ${propKey}`);\n    });\n  }\n  updateNodeBounds(node, rect2);\n  node.intersect = function (point2) {\n    return intersect.rect(node, point2);\n  };\n  return shapeSvg;\n};\nconst composite = async (parent, node) => {\n  const {\n    shapeSvg,\n    bbox,\n    halfPadding\n  } = await labelHelper(parent, node, \"node \" + node.classes, true);\n  const rect2 = shapeSvg.insert(\"rect\", \":first-child\");\n  const totalWidth = node.positioned ? node.width : bbox.width + node.padding;\n  const totalHeight = node.positioned ? node.height : bbox.height + node.padding;\n  const x = node.positioned ? -totalWidth / 2 : -bbox.width / 2 - halfPadding;\n  const y = node.positioned ? -totalHeight / 2 : -bbox.height / 2 - halfPadding;\n  rect2.attr(\"class\", \"basic cluster composite label-container\").attr(\"style\", node.style).attr(\"rx\", node.rx).attr(\"ry\", node.ry).attr(\"x\", x).attr(\"y\", y).attr(\"width\", totalWidth).attr(\"height\", totalHeight);\n  if (node.props) {\n    const propKeys = new Set(Object.keys(node.props));\n    if (node.props.borders) {\n      applyNodePropertyBorders(rect2, node.props.borders, totalWidth, totalHeight);\n      propKeys.delete(\"borders\");\n    }\n    propKeys.forEach(propKey => {\n      log.warn(`Unknown node property ${propKey}`);\n    });\n  }\n  updateNodeBounds(node, rect2);\n  node.intersect = function (point2) {\n    return intersect.rect(node, point2);\n  };\n  return shapeSvg;\n};\nconst labelRect = async (parent, node) => {\n  const {\n    shapeSvg\n  } = await labelHelper(parent, node, \"label\", true);\n  log.trace(\"Classes = \", node.class);\n  const rect2 = shapeSvg.insert(\"rect\", \":first-child\");\n  const totalWidth = 0;\n  const totalHeight = 0;\n  rect2.attr(\"width\", totalWidth).attr(\"height\", totalHeight);\n  shapeSvg.attr(\"class\", \"label edgeLabel\");\n  if (node.props) {\n    const propKeys = new Set(Object.keys(node.props));\n    if (node.props.borders) {\n      applyNodePropertyBorders(rect2, node.props.borders, totalWidth, totalHeight);\n      propKeys.delete(\"borders\");\n    }\n    propKeys.forEach(propKey => {\n      log.warn(`Unknown node property ${propKey}`);\n    });\n  }\n  updateNodeBounds(node, rect2);\n  node.intersect = function (point2) {\n    return intersect.rect(node, point2);\n  };\n  return shapeSvg;\n};\nfunction applyNodePropertyBorders(rect2, borders, totalWidth, totalHeight) {\n  const strokeDashArray = [];\n  const addBorder = length => {\n    strokeDashArray.push(length, 0);\n  };\n  const skipBorder = length => {\n    strokeDashArray.push(0, length);\n  };\n  if (borders.includes(\"t\")) {\n    log.debug(\"add top border\");\n    addBorder(totalWidth);\n  } else {\n    skipBorder(totalWidth);\n  }\n  if (borders.includes(\"r\")) {\n    log.debug(\"add right border\");\n    addBorder(totalHeight);\n  } else {\n    skipBorder(totalHeight);\n  }\n  if (borders.includes(\"b\")) {\n    log.debug(\"add bottom border\");\n    addBorder(totalWidth);\n  } else {\n    skipBorder(totalWidth);\n  }\n  if (borders.includes(\"l\")) {\n    log.debug(\"add left border\");\n    addBorder(totalHeight);\n  } else {\n    skipBorder(totalHeight);\n  }\n  rect2.attr(\"stroke-dasharray\", strokeDashArray.join(\" \"));\n}\nconst rectWithTitle = (parent, node) => {\n  let classes;\n  if (!node.classes) {\n    classes = \"node default\";\n  } else {\n    classes = \"node \" + node.classes;\n  }\n  const shapeSvg = parent.insert(\"g\").attr(\"class\", classes).attr(\"id\", node.domId || node.id);\n  const rect2 = shapeSvg.insert(\"rect\", \":first-child\");\n  const innerLine = shapeSvg.insert(\"line\");\n  const label = shapeSvg.insert(\"g\").attr(\"class\", \"label\");\n  const text2 = node.labelText.flat ? node.labelText.flat() : node.labelText;\n  let title = \"\";\n  if (typeof text2 === \"object\") {\n    title = text2[0];\n  } else {\n    title = text2;\n  }\n  log.info(\"Label text abc79\", title, text2, typeof text2 === \"object\");\n  const text = label.node().appendChild(createLabel$1(title, node.labelStyle, true, true));\n  let bbox = {\n    width: 0,\n    height: 0\n  };\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    const div = text.children[0];\n    const dv = select(text);\n    bbox = div.getBoundingClientRect();\n    dv.attr(\"width\", bbox.width);\n    dv.attr(\"height\", bbox.height);\n  }\n  log.info(\"Text 2\", text2);\n  const textRows = text2.slice(1, text2.length);\n  let titleBox = text.getBBox();\n  const descr = label.node().appendChild(createLabel$1(textRows.join ? textRows.join(\"<br/>\") : textRows, node.labelStyle, true, true));\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    const div = descr.children[0];\n    const dv = select(descr);\n    bbox = div.getBoundingClientRect();\n    dv.attr(\"width\", bbox.width);\n    dv.attr(\"height\", bbox.height);\n  }\n  const halfPadding = node.padding / 2;\n  select(descr).attr(\"transform\", \"translate( \" + (\n  // (titleBox.width - bbox.width) / 2 +\n  bbox.width > titleBox.width ? 0 : (titleBox.width - bbox.width) / 2) + \", \" + (titleBox.height + halfPadding + 5) + \")\");\n  select(text).attr(\"transform\", \"translate( \" + (\n  // (titleBox.width - bbox.width) / 2 +\n  bbox.width < titleBox.width ? 0 : -(titleBox.width - bbox.width) / 2) + \", 0)\");\n  bbox = label.node().getBBox();\n  label.attr(\"transform\", \"translate(\" + -bbox.width / 2 + \", \" + (-bbox.height / 2 - halfPadding + 3) + \")\");\n  rect2.attr(\"class\", \"outer title-state\").attr(\"x\", -bbox.width / 2 - halfPadding).attr(\"y\", -bbox.height / 2 - halfPadding).attr(\"width\", bbox.width + node.padding).attr(\"height\", bbox.height + node.padding);\n  innerLine.attr(\"class\", \"divider\").attr(\"x1\", -bbox.width / 2 - halfPadding).attr(\"x2\", bbox.width / 2 + halfPadding).attr(\"y1\", -bbox.height / 2 - halfPadding + titleBox.height + halfPadding).attr(\"y2\", -bbox.height / 2 - halfPadding + titleBox.height + halfPadding);\n  updateNodeBounds(node, rect2);\n  node.intersect = function (point2) {\n    return intersect.rect(node, point2);\n  };\n  return shapeSvg;\n};\nconst stadium = async (parent, node) => {\n  const {\n    shapeSvg,\n    bbox\n  } = await labelHelper(parent, node, getClassesFromNode(node, void 0), true);\n  const h = bbox.height + node.padding;\n  const w = bbox.width + h / 4 + node.padding;\n  const rect2 = shapeSvg.insert(\"rect\", \":first-child\").attr(\"style\", node.style).attr(\"rx\", h / 2).attr(\"ry\", h / 2).attr(\"x\", -w / 2).attr(\"y\", -h / 2).attr(\"width\", w).attr(\"height\", h);\n  updateNodeBounds(node, rect2);\n  node.intersect = function (point2) {\n    return intersect.rect(node, point2);\n  };\n  return shapeSvg;\n};\nconst circle = async (parent, node) => {\n  const {\n    shapeSvg,\n    bbox,\n    halfPadding\n  } = await labelHelper(parent, node, getClassesFromNode(node, void 0), true);\n  const circle2 = shapeSvg.insert(\"circle\", \":first-child\");\n  circle2.attr(\"style\", node.style).attr(\"rx\", node.rx).attr(\"ry\", node.ry).attr(\"r\", bbox.width / 2 + halfPadding).attr(\"width\", bbox.width + node.padding).attr(\"height\", bbox.height + node.padding);\n  log.info(\"Circle main\");\n  updateNodeBounds(node, circle2);\n  node.intersect = function (point2) {\n    log.info(\"Circle intersect\", node, bbox.width / 2 + halfPadding, point2);\n    return intersect.circle(node, bbox.width / 2 + halfPadding, point2);\n  };\n  return shapeSvg;\n};\nconst doublecircle = async (parent, node) => {\n  const {\n    shapeSvg,\n    bbox,\n    halfPadding\n  } = await labelHelper(parent, node, getClassesFromNode(node, void 0), true);\n  const gap = 5;\n  const circleGroup = shapeSvg.insert(\"g\", \":first-child\");\n  const outerCircle = circleGroup.insert(\"circle\");\n  const innerCircle = circleGroup.insert(\"circle\");\n  circleGroup.attr(\"class\", node.class);\n  outerCircle.attr(\"style\", node.style).attr(\"rx\", node.rx).attr(\"ry\", node.ry).attr(\"r\", bbox.width / 2 + halfPadding + gap).attr(\"width\", bbox.width + node.padding + gap * 2).attr(\"height\", bbox.height + node.padding + gap * 2);\n  innerCircle.attr(\"style\", node.style).attr(\"rx\", node.rx).attr(\"ry\", node.ry).attr(\"r\", bbox.width / 2 + halfPadding).attr(\"width\", bbox.width + node.padding).attr(\"height\", bbox.height + node.padding);\n  log.info(\"DoubleCircle main\");\n  updateNodeBounds(node, outerCircle);\n  node.intersect = function (point2) {\n    log.info(\"DoubleCircle intersect\", node, bbox.width / 2 + halfPadding + gap, point2);\n    return intersect.circle(node, bbox.width / 2 + halfPadding + gap, point2);\n  };\n  return shapeSvg;\n};\nconst subroutine = async (parent, node) => {\n  const {\n    shapeSvg,\n    bbox\n  } = await labelHelper(parent, node, getClassesFromNode(node, void 0), true);\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [{\n    x: 0,\n    y: 0\n  }, {\n    x: w,\n    y: 0\n  }, {\n    x: w,\n    y: -h\n  }, {\n    x: 0,\n    y: -h\n  }, {\n    x: 0,\n    y: 0\n  }, {\n    x: -8,\n    y: 0\n  }, {\n    x: w + 8,\n    y: 0\n  }, {\n    x: w + 8,\n    y: -h\n  }, {\n    x: -8,\n    y: -h\n  }, {\n    x: -8,\n    y: 0\n  }];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr(\"style\", node.style);\n  updateNodeBounds(node, el);\n  node.intersect = function (point2) {\n    return intersect.polygon(node, points, point2);\n  };\n  return shapeSvg;\n};\nconst start = (parent, node) => {\n  const shapeSvg = parent.insert(\"g\").attr(\"class\", \"node default\").attr(\"id\", node.domId || node.id);\n  const circle2 = shapeSvg.insert(\"circle\", \":first-child\");\n  circle2.attr(\"class\", \"state-start\").attr(\"r\", 7).attr(\"width\", 14).attr(\"height\", 14);\n  updateNodeBounds(node, circle2);\n  node.intersect = function (point2) {\n    return intersect.circle(node, 7, point2);\n  };\n  return shapeSvg;\n};\nconst forkJoin = (parent, node, dir) => {\n  const shapeSvg = parent.insert(\"g\").attr(\"class\", \"node default\").attr(\"id\", node.domId || node.id);\n  let width = 70;\n  let height = 10;\n  if (dir === \"LR\") {\n    width = 10;\n    height = 70;\n  }\n  const shape = shapeSvg.append(\"rect\").attr(\"x\", -1 * width / 2).attr(\"y\", -1 * height / 2).attr(\"width\", width).attr(\"height\", height).attr(\"class\", \"fork-join\");\n  updateNodeBounds(node, shape);\n  node.height = node.height + node.padding / 2;\n  node.width = node.width + node.padding / 2;\n  node.intersect = function (point2) {\n    return intersect.rect(node, point2);\n  };\n  return shapeSvg;\n};\nconst end = (parent, node) => {\n  const shapeSvg = parent.insert(\"g\").attr(\"class\", \"node default\").attr(\"id\", node.domId || node.id);\n  const innerCircle = shapeSvg.insert(\"circle\", \":first-child\");\n  const circle2 = shapeSvg.insert(\"circle\", \":first-child\");\n  circle2.attr(\"class\", \"state-start\").attr(\"r\", 7).attr(\"width\", 14).attr(\"height\", 14);\n  innerCircle.attr(\"class\", \"state-end\").attr(\"r\", 5).attr(\"width\", 10).attr(\"height\", 10);\n  updateNodeBounds(node, circle2);\n  node.intersect = function (point2) {\n    return intersect.circle(node, 7, point2);\n  };\n  return shapeSvg;\n};\nconst class_box = (parent, node) => {\n  const halfPadding = node.padding / 2;\n  const rowPadding = 4;\n  const lineHeight = 8;\n  let classes;\n  if (!node.classes) {\n    classes = \"node default\";\n  } else {\n    classes = \"node \" + node.classes;\n  }\n  const shapeSvg = parent.insert(\"g\").attr(\"class\", classes).attr(\"id\", node.domId || node.id);\n  const rect2 = shapeSvg.insert(\"rect\", \":first-child\");\n  const topLine = shapeSvg.insert(\"line\");\n  const bottomLine = shapeSvg.insert(\"line\");\n  let maxWidth = 0;\n  let maxHeight = rowPadding;\n  const labelContainer = shapeSvg.insert(\"g\").attr(\"class\", \"label\");\n  let verticalPos = 0;\n  const hasInterface = node.classData.annotations && node.classData.annotations[0];\n  const interfaceLabelText = node.classData.annotations[0] ? \"«\" + node.classData.annotations[0] + \"»\" : \"\";\n  const interfaceLabel = labelContainer.node().appendChild(createLabel$1(interfaceLabelText, node.labelStyle, true, true));\n  let interfaceBBox = interfaceLabel.getBBox();\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    const div = interfaceLabel.children[0];\n    const dv = select(interfaceLabel);\n    interfaceBBox = div.getBoundingClientRect();\n    dv.attr(\"width\", interfaceBBox.width);\n    dv.attr(\"height\", interfaceBBox.height);\n  }\n  if (node.classData.annotations[0]) {\n    maxHeight += interfaceBBox.height + rowPadding;\n    maxWidth += interfaceBBox.width;\n  }\n  let classTitleString = node.classData.label;\n  if (node.classData.type !== void 0 && node.classData.type !== \"\") {\n    if (getConfig().flowchart.htmlLabels) {\n      classTitleString += \"&lt;\" + node.classData.type + \"&gt;\";\n    } else {\n      classTitleString += \"<\" + node.classData.type + \">\";\n    }\n  }\n  const classTitleLabel = labelContainer.node().appendChild(createLabel$1(classTitleString, node.labelStyle, true, true));\n  select(classTitleLabel).attr(\"class\", \"classTitle\");\n  let classTitleBBox = classTitleLabel.getBBox();\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    const div = classTitleLabel.children[0];\n    const dv = select(classTitleLabel);\n    classTitleBBox = div.getBoundingClientRect();\n    dv.attr(\"width\", classTitleBBox.width);\n    dv.attr(\"height\", classTitleBBox.height);\n  }\n  maxHeight += classTitleBBox.height + rowPadding;\n  if (classTitleBBox.width > maxWidth) {\n    maxWidth = classTitleBBox.width;\n  }\n  const classAttributes = [];\n  node.classData.members.forEach(member => {\n    const parsedInfo = member.getDisplayDetails();\n    let parsedText = parsedInfo.displayText;\n    if (getConfig().flowchart.htmlLabels) {\n      parsedText = parsedText.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n    }\n    const lbl = labelContainer.node().appendChild(createLabel$1(parsedText, parsedInfo.cssStyle ? parsedInfo.cssStyle : node.labelStyle, true, true));\n    let bbox = lbl.getBBox();\n    if (evaluate(getConfig().flowchart.htmlLabels)) {\n      const div = lbl.children[0];\n      const dv = select(lbl);\n      bbox = div.getBoundingClientRect();\n      dv.attr(\"width\", bbox.width);\n      dv.attr(\"height\", bbox.height);\n    }\n    if (bbox.width > maxWidth) {\n      maxWidth = bbox.width;\n    }\n    maxHeight += bbox.height + rowPadding;\n    classAttributes.push(lbl);\n  });\n  maxHeight += lineHeight;\n  const classMethods = [];\n  node.classData.methods.forEach(member => {\n    const parsedInfo = member.getDisplayDetails();\n    let displayText = parsedInfo.displayText;\n    if (getConfig().flowchart.htmlLabels) {\n      displayText = displayText.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n    }\n    const lbl = labelContainer.node().appendChild(createLabel$1(displayText, parsedInfo.cssStyle ? parsedInfo.cssStyle : node.labelStyle, true, true));\n    let bbox = lbl.getBBox();\n    if (evaluate(getConfig().flowchart.htmlLabels)) {\n      const div = lbl.children[0];\n      const dv = select(lbl);\n      bbox = div.getBoundingClientRect();\n      dv.attr(\"width\", bbox.width);\n      dv.attr(\"height\", bbox.height);\n    }\n    if (bbox.width > maxWidth) {\n      maxWidth = bbox.width;\n    }\n    maxHeight += bbox.height + rowPadding;\n    classMethods.push(lbl);\n  });\n  maxHeight += lineHeight;\n  if (hasInterface) {\n    let diffX2 = (maxWidth - interfaceBBox.width) / 2;\n    select(interfaceLabel).attr(\"transform\", \"translate( \" + (-1 * maxWidth / 2 + diffX2) + \", \" + -1 * maxHeight / 2 + \")\");\n    verticalPos = interfaceBBox.height + rowPadding;\n  }\n  let diffX = (maxWidth - classTitleBBox.width) / 2;\n  select(classTitleLabel).attr(\"transform\", \"translate( \" + (-1 * maxWidth / 2 + diffX) + \", \" + (-1 * maxHeight / 2 + verticalPos) + \")\");\n  verticalPos += classTitleBBox.height + rowPadding;\n  topLine.attr(\"class\", \"divider\").attr(\"x1\", -maxWidth / 2 - halfPadding).attr(\"x2\", maxWidth / 2 + halfPadding).attr(\"y1\", -maxHeight / 2 - halfPadding + lineHeight + verticalPos).attr(\"y2\", -maxHeight / 2 - halfPadding + lineHeight + verticalPos);\n  verticalPos += lineHeight;\n  classAttributes.forEach(lbl => {\n    select(lbl).attr(\"transform\", \"translate( \" + -maxWidth / 2 + \", \" + (-1 * maxHeight / 2 + verticalPos + lineHeight / 2) + \")\");\n    const memberBBox = lbl == null ? void 0 : lbl.getBBox();\n    verticalPos += ((memberBBox == null ? void 0 : memberBBox.height) ?? 0) + rowPadding;\n  });\n  verticalPos += lineHeight;\n  bottomLine.attr(\"class\", \"divider\").attr(\"x1\", -maxWidth / 2 - halfPadding).attr(\"x2\", maxWidth / 2 + halfPadding).attr(\"y1\", -maxHeight / 2 - halfPadding + lineHeight + verticalPos).attr(\"y2\", -maxHeight / 2 - halfPadding + lineHeight + verticalPos);\n  verticalPos += lineHeight;\n  classMethods.forEach(lbl => {\n    select(lbl).attr(\"transform\", \"translate( \" + -maxWidth / 2 + \", \" + (-1 * maxHeight / 2 + verticalPos) + \")\");\n    const memberBBox = lbl == null ? void 0 : lbl.getBBox();\n    verticalPos += ((memberBBox == null ? void 0 : memberBBox.height) ?? 0) + rowPadding;\n  });\n  rect2.attr(\"style\", node.style).attr(\"class\", \"outer title-state\").attr(\"x\", -maxWidth / 2 - halfPadding).attr(\"y\", -(maxHeight / 2) - halfPadding).attr(\"width\", maxWidth + node.padding).attr(\"height\", maxHeight + node.padding);\n  updateNodeBounds(node, rect2);\n  node.intersect = function (point2) {\n    return intersect.rect(node, point2);\n  };\n  return shapeSvg;\n};\nconst shapes = {\n  rhombus: question,\n  composite,\n  question,\n  rect,\n  labelRect,\n  rectWithTitle,\n  choice,\n  circle,\n  doublecircle,\n  stadium,\n  hexagon,\n  block_arrow,\n  rect_left_inv_arrow,\n  lean_right,\n  lean_left,\n  trapezoid,\n  inv_trapezoid,\n  rect_right_inv_arrow,\n  cylinder,\n  start,\n  end,\n  note: note$1,\n  subroutine,\n  fork: forkJoin,\n  join: forkJoin,\n  class_box\n};\nlet nodeElems = {};\nconst insertNode = async (elem, node, dir) => {\n  let newEl;\n  let el;\n  if (node.link) {\n    let target;\n    if (getConfig().securityLevel === \"sandbox\") {\n      target = \"_top\";\n    } else if (node.linkTarget) {\n      target = node.linkTarget || \"_blank\";\n    }\n    newEl = elem.insert(\"svg:a\").attr(\"xlink:href\", node.link).attr(\"target\", target);\n    el = await shapes[node.shape](newEl, node, dir);\n  } else {\n    el = await shapes[node.shape](elem, node, dir);\n    newEl = el;\n  }\n  if (node.tooltip) {\n    el.attr(\"title\", node.tooltip);\n  }\n  if (node.class) {\n    el.attr(\"class\", \"node default \" + node.class);\n  }\n  newEl.attr(\"data-node\", \"true\");\n  newEl.attr(\"data-id\", node.id);\n  nodeElems[node.id] = newEl;\n  if (node.haveCallback) {\n    nodeElems[node.id].attr(\"class\", nodeElems[node.id].attr(\"class\") + \" clickable\");\n  }\n  return newEl;\n};\nconst setNodeElem = (elem, node) => {\n  nodeElems[node.id] = elem;\n};\nconst clear$1 = () => {\n  nodeElems = {};\n};\nconst positionNode = node => {\n  const el = nodeElems[node.id];\n  log.trace(\"Transforming node\", node.diff, node, \"translate(\" + (node.x - node.width / 2 - 5) + \", \" + node.width / 2 + \")\");\n  const padding = 8;\n  const diff = node.diff || 0;\n  if (node.clusterNode) {\n    el.attr(\"transform\", \"translate(\" + (node.x + diff - node.width / 2) + \", \" + (node.y - node.height / 2 - padding) + \")\");\n  } else {\n    el.attr(\"transform\", \"translate(\" + node.x + \", \" + node.y + \")\");\n  }\n  return diff;\n};\nconst getSubGraphTitleMargins = _ref => {\n  let {\n    flowchart\n  } = _ref;\n  var _a, _b;\n  const subGraphTitleTopMargin = ((_a = flowchart == null ? void 0 : flowchart.subGraphTitleMargin) == null ? void 0 : _a.top) ?? 0;\n  const subGraphTitleBottomMargin = ((_b = flowchart == null ? void 0 : flowchart.subGraphTitleMargin) == null ? void 0 : _b.bottom) ?? 0;\n  const subGraphTitleTotalMargin = subGraphTitleTopMargin + subGraphTitleBottomMargin;\n  return {\n    subGraphTitleTopMargin,\n    subGraphTitleBottomMargin,\n    subGraphTitleTotalMargin\n  };\n};\nconst markerOffsets = {\n  aggregation: 18,\n  extension: 18,\n  composition: 18,\n  dependency: 6,\n  lollipop: 13.5,\n  arrow_point: 5.3\n};\nfunction calculateDeltaAndAngle(point1, point2) {\n  if (point1 === void 0 || point2 === void 0) {\n    return {\n      angle: 0,\n      deltaX: 0,\n      deltaY: 0\n    };\n  }\n  point1 = pointTransformer(point1);\n  point2 = pointTransformer(point2);\n  const [x1, y1] = [point1.x, point1.y];\n  const [x2, y2] = [point2.x, point2.y];\n  const deltaX = x2 - x1;\n  const deltaY = y2 - y1;\n  return {\n    angle: Math.atan(deltaY / deltaX),\n    deltaX,\n    deltaY\n  };\n}\nconst pointTransformer = data => {\n  if (Array.isArray(data)) {\n    return {\n      x: data[0],\n      y: data[1]\n    };\n  }\n  return data;\n};\nconst getLineFunctionsWithOffset = edge => {\n  return {\n    x: function (d, i, data) {\n      let offset = 0;\n      if (i === 0 && Object.hasOwn(markerOffsets, edge.arrowTypeStart)) {\n        const {\n          angle,\n          deltaX\n        } = calculateDeltaAndAngle(data[0], data[1]);\n        offset = markerOffsets[edge.arrowTypeStart] * Math.cos(angle) * (deltaX >= 0 ? 1 : -1);\n      } else if (i === data.length - 1 && Object.hasOwn(markerOffsets, edge.arrowTypeEnd)) {\n        const {\n          angle,\n          deltaX\n        } = calculateDeltaAndAngle(data[data.length - 1], data[data.length - 2]);\n        offset = markerOffsets[edge.arrowTypeEnd] * Math.cos(angle) * (deltaX >= 0 ? 1 : -1);\n      }\n      return pointTransformer(d).x + offset;\n    },\n    y: function (d, i, data) {\n      let offset = 0;\n      if (i === 0 && Object.hasOwn(markerOffsets, edge.arrowTypeStart)) {\n        const {\n          angle,\n          deltaY\n        } = calculateDeltaAndAngle(data[0], data[1]);\n        offset = markerOffsets[edge.arrowTypeStart] * Math.abs(Math.sin(angle)) * (deltaY >= 0 ? 1 : -1);\n      } else if (i === data.length - 1 && Object.hasOwn(markerOffsets, edge.arrowTypeEnd)) {\n        const {\n          angle,\n          deltaY\n        } = calculateDeltaAndAngle(data[data.length - 1], data[data.length - 2]);\n        offset = markerOffsets[edge.arrowTypeEnd] * Math.abs(Math.sin(angle)) * (deltaY >= 0 ? 1 : -1);\n      }\n      return pointTransformer(d).y + offset;\n    }\n  };\n};\nconst addEdgeMarkers = (svgPath, edge, url, id, diagramType) => {\n  if (edge.arrowTypeStart) {\n    addEdgeMarker(svgPath, \"start\", edge.arrowTypeStart, url, id, diagramType);\n  }\n  if (edge.arrowTypeEnd) {\n    addEdgeMarker(svgPath, \"end\", edge.arrowTypeEnd, url, id, diagramType);\n  }\n};\nconst arrowTypesMap = {\n  arrow_cross: \"cross\",\n  arrow_point: \"point\",\n  arrow_barb: \"barb\",\n  arrow_circle: \"circle\",\n  aggregation: \"aggregation\",\n  extension: \"extension\",\n  composition: \"composition\",\n  dependency: \"dependency\",\n  lollipop: \"lollipop\"\n};\nconst addEdgeMarker = (svgPath, position, arrowType, url, id, diagramType) => {\n  const endMarkerType = arrowTypesMap[arrowType];\n  if (!endMarkerType) {\n    log.warn(`Unknown arrow type: ${arrowType}`);\n    return;\n  }\n  const suffix = position === \"start\" ? \"Start\" : \"End\";\n  svgPath.attr(`marker-${position}`, `url(${url}#${id}_${diagramType}-${endMarkerType}${suffix})`);\n};\nlet edgeLabels = {};\nlet terminalLabels = {};\nconst clear = () => {\n  edgeLabels = {};\n  terminalLabels = {};\n};\nconst insertEdgeLabel = (elem, edge) => {\n  const useHtmlLabels = evaluate(getConfig().flowchart.htmlLabels);\n  const labelElement = edge.labelType === \"markdown\" ? createText(elem, edge.label, {\n    style: edge.labelStyle,\n    useHtmlLabels,\n    addSvgBackground: true\n  }) : createLabel$1(edge.label, edge.labelStyle);\n  const edgeLabel = elem.insert(\"g\").attr(\"class\", \"edgeLabel\");\n  const label = edgeLabel.insert(\"g\").attr(\"class\", \"label\");\n  label.node().appendChild(labelElement);\n  let bbox = labelElement.getBBox();\n  if (useHtmlLabels) {\n    const div = labelElement.children[0];\n    const dv = select(labelElement);\n    bbox = div.getBoundingClientRect();\n    dv.attr(\"width\", bbox.width);\n    dv.attr(\"height\", bbox.height);\n  }\n  label.attr(\"transform\", \"translate(\" + -bbox.width / 2 + \", \" + -bbox.height / 2 + \")\");\n  edgeLabels[edge.id] = edgeLabel;\n  edge.width = bbox.width;\n  edge.height = bbox.height;\n  let fo;\n  if (edge.startLabelLeft) {\n    const startLabelElement = createLabel$1(edge.startLabelLeft, edge.labelStyle);\n    const startEdgeLabelLeft = elem.insert(\"g\").attr(\"class\", \"edgeTerminals\");\n    const inner = startEdgeLabelLeft.insert(\"g\").attr(\"class\", \"inner\");\n    fo = inner.node().appendChild(startLabelElement);\n    const slBox = startLabelElement.getBBox();\n    inner.attr(\"transform\", \"translate(\" + -slBox.width / 2 + \", \" + -slBox.height / 2 + \")\");\n    if (!terminalLabels[edge.id]) {\n      terminalLabels[edge.id] = {};\n    }\n    terminalLabels[edge.id].startLeft = startEdgeLabelLeft;\n    setTerminalWidth(fo, edge.startLabelLeft);\n  }\n  if (edge.startLabelRight) {\n    const startLabelElement = createLabel$1(edge.startLabelRight, edge.labelStyle);\n    const startEdgeLabelRight = elem.insert(\"g\").attr(\"class\", \"edgeTerminals\");\n    const inner = startEdgeLabelRight.insert(\"g\").attr(\"class\", \"inner\");\n    fo = startEdgeLabelRight.node().appendChild(startLabelElement);\n    inner.node().appendChild(startLabelElement);\n    const slBox = startLabelElement.getBBox();\n    inner.attr(\"transform\", \"translate(\" + -slBox.width / 2 + \", \" + -slBox.height / 2 + \")\");\n    if (!terminalLabels[edge.id]) {\n      terminalLabels[edge.id] = {};\n    }\n    terminalLabels[edge.id].startRight = startEdgeLabelRight;\n    setTerminalWidth(fo, edge.startLabelRight);\n  }\n  if (edge.endLabelLeft) {\n    const endLabelElement = createLabel$1(edge.endLabelLeft, edge.labelStyle);\n    const endEdgeLabelLeft = elem.insert(\"g\").attr(\"class\", \"edgeTerminals\");\n    const inner = endEdgeLabelLeft.insert(\"g\").attr(\"class\", \"inner\");\n    fo = inner.node().appendChild(endLabelElement);\n    const slBox = endLabelElement.getBBox();\n    inner.attr(\"transform\", \"translate(\" + -slBox.width / 2 + \", \" + -slBox.height / 2 + \")\");\n    endEdgeLabelLeft.node().appendChild(endLabelElement);\n    if (!terminalLabels[edge.id]) {\n      terminalLabels[edge.id] = {};\n    }\n    terminalLabels[edge.id].endLeft = endEdgeLabelLeft;\n    setTerminalWidth(fo, edge.endLabelLeft);\n  }\n  if (edge.endLabelRight) {\n    const endLabelElement = createLabel$1(edge.endLabelRight, edge.labelStyle);\n    const endEdgeLabelRight = elem.insert(\"g\").attr(\"class\", \"edgeTerminals\");\n    const inner = endEdgeLabelRight.insert(\"g\").attr(\"class\", \"inner\");\n    fo = inner.node().appendChild(endLabelElement);\n    const slBox = endLabelElement.getBBox();\n    inner.attr(\"transform\", \"translate(\" + -slBox.width / 2 + \", \" + -slBox.height / 2 + \")\");\n    endEdgeLabelRight.node().appendChild(endLabelElement);\n    if (!terminalLabels[edge.id]) {\n      terminalLabels[edge.id] = {};\n    }\n    terminalLabels[edge.id].endRight = endEdgeLabelRight;\n    setTerminalWidth(fo, edge.endLabelRight);\n  }\n  return labelElement;\n};\nfunction setTerminalWidth(fo, value) {\n  if (getConfig().flowchart.htmlLabels && fo) {\n    fo.style.width = value.length * 9 + \"px\";\n    fo.style.height = \"12px\";\n  }\n}\nconst positionEdgeLabel = (edge, paths) => {\n  log.debug(\"Moving label abc88 \", edge.id, edge.label, edgeLabels[edge.id], paths);\n  let path = paths.updatedPath ? paths.updatedPath : paths.originalPath;\n  const siteConfig = getConfig();\n  const {\n    subGraphTitleTotalMargin\n  } = getSubGraphTitleMargins(siteConfig);\n  if (edge.label) {\n    const el = edgeLabels[edge.id];\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils.calcLabelPosition(path);\n      log.debug(\"Moving label \" + edge.label + \" from (\", x, \",\", y, \") to (\", pos.x, \",\", pos.y, \") abc88\");\n      if (paths.updatedPath) {\n        x = pos.x;\n        y = pos.y;\n      }\n    }\n    el.attr(\"transform\", `translate(${x}, ${y + subGraphTitleTotalMargin / 2})`);\n  }\n  if (edge.startLabelLeft) {\n    const el = terminalLabels[edge.id].startLeft;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils.calcTerminalLabelPosition(edge.arrowTypeStart ? 10 : 0, \"start_left\", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr(\"transform\", `translate(${x}, ${y})`);\n  }\n  if (edge.startLabelRight) {\n    const el = terminalLabels[edge.id].startRight;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils.calcTerminalLabelPosition(edge.arrowTypeStart ? 10 : 0, \"start_right\", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr(\"transform\", `translate(${x}, ${y})`);\n  }\n  if (edge.endLabelLeft) {\n    const el = terminalLabels[edge.id].endLeft;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, \"end_left\", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr(\"transform\", `translate(${x}, ${y})`);\n  }\n  if (edge.endLabelRight) {\n    const el = terminalLabels[edge.id].endRight;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      const pos = utils.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, \"end_right\", path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr(\"transform\", `translate(${x}, ${y})`);\n  }\n};\nconst outsideNode = (node, point2) => {\n  const x = node.x;\n  const y = node.y;\n  const dx = Math.abs(point2.x - x);\n  const dy = Math.abs(point2.y - y);\n  const w = node.width / 2;\n  const h = node.height / 2;\n  if (dx >= w || dy >= h) {\n    return true;\n  }\n  return false;\n};\nconst intersection = (node, outsidePoint, insidePoint) => {\n  log.debug(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(outsidePoint)}\n  insidePoint : ${JSON.stringify(insidePoint)}\n  node        : x:${node.x} y:${node.y} w:${node.width} h:${node.height}`);\n  const x = node.x;\n  const y = node.y;\n  const dx = Math.abs(x - insidePoint.x);\n  const w = node.width / 2;\n  let r = insidePoint.x < outsidePoint.x ? w - dx : w + dx;\n  const h = node.height / 2;\n  const Q = Math.abs(outsidePoint.y - insidePoint.y);\n  const R = Math.abs(outsidePoint.x - insidePoint.x);\n  if (Math.abs(y - outsidePoint.y) * w > Math.abs(x - outsidePoint.x) * h) {\n    let q = insidePoint.y < outsidePoint.y ? outsidePoint.y - h - y : y - h - outsidePoint.y;\n    r = R * q / Q;\n    const res = {\n      x: insidePoint.x < outsidePoint.x ? insidePoint.x + r : insidePoint.x - R + r,\n      y: insidePoint.y < outsidePoint.y ? insidePoint.y + Q - q : insidePoint.y - Q + q\n    };\n    if (r === 0) {\n      res.x = outsidePoint.x;\n      res.y = outsidePoint.y;\n    }\n    if (R === 0) {\n      res.x = outsidePoint.x;\n    }\n    if (Q === 0) {\n      res.y = outsidePoint.y;\n    }\n    log.debug(`abc89 topp/bott calc, Q ${Q}, q ${q}, R ${R}, r ${r}`, res);\n    return res;\n  } else {\n    if (insidePoint.x < outsidePoint.x) {\n      r = outsidePoint.x - w - x;\n    } else {\n      r = x - w - outsidePoint.x;\n    }\n    let q = Q * r / R;\n    let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : insidePoint.x - R + r;\n    let _y = insidePoint.y < outsidePoint.y ? insidePoint.y + q : insidePoint.y - q;\n    log.debug(`sides calc abc89, Q ${Q}, q ${q}, R ${R}, r ${r}`, {\n      _x,\n      _y\n    });\n    if (r === 0) {\n      _x = outsidePoint.x;\n      _y = outsidePoint.y;\n    }\n    if (R === 0) {\n      _x = outsidePoint.x;\n    }\n    if (Q === 0) {\n      _y = outsidePoint.y;\n    }\n    return {\n      x: _x,\n      y: _y\n    };\n  }\n};\nconst cutPathAtIntersect = (_points, boundaryNode) => {\n  log.debug(\"abc88 cutPathAtIntersect\", _points, boundaryNode);\n  let points = [];\n  let lastPointOutside = _points[0];\n  let isInside = false;\n  _points.forEach(point2 => {\n    if (!outsideNode(boundaryNode, point2) && !isInside) {\n      const inter = intersection(boundaryNode, lastPointOutside, point2);\n      let pointPresent = false;\n      points.forEach(p => {\n        pointPresent = pointPresent || p.x === inter.x && p.y === inter.y;\n      });\n      if (!points.some(e => e.x === inter.x && e.y === inter.y)) {\n        points.push(inter);\n      }\n      isInside = true;\n    } else {\n      lastPointOutside = point2;\n      if (!isInside) {\n        points.push(point2);\n      }\n    }\n  });\n  return points;\n};\nconst insertEdge = function (elem, e, edge, clusterDb, diagramType, graph, id) {\n  let points = edge.points;\n  log.debug(\"abc88 InsertEdge: edge=\", edge, \"e=\", e);\n  let pointsHasChanged = false;\n  const tail = graph.node(e.v);\n  var head = graph.node(e.w);\n  if ((head == null ? void 0 : head.intersect) && (tail == null ? void 0 : tail.intersect)) {\n    points = points.slice(1, edge.points.length - 1);\n    points.unshift(tail.intersect(points[0]));\n    points.push(head.intersect(points[points.length - 1]));\n  }\n  if (edge.toCluster) {\n    log.debug(\"to cluster abc88\", clusterDb[edge.toCluster]);\n    points = cutPathAtIntersect(edge.points, clusterDb[edge.toCluster].node);\n    pointsHasChanged = true;\n  }\n  if (edge.fromCluster) {\n    log.debug(\"from cluster abc88\", clusterDb[edge.fromCluster]);\n    points = cutPathAtIntersect(points.reverse(), clusterDb[edge.fromCluster].node).reverse();\n    pointsHasChanged = true;\n  }\n  const lineData = points.filter(p => !Number.isNaN(p.y));\n  let curve = curveBasis;\n  if (edge.curve && (diagramType === \"graph\" || diagramType === \"flowchart\")) {\n    curve = edge.curve;\n  }\n  const {\n    x,\n    y\n  } = getLineFunctionsWithOffset(edge);\n  const lineFunction = line().x(x).y(y).curve(curve);\n  let strokeClasses;\n  switch (edge.thickness) {\n    case \"normal\":\n      strokeClasses = \"edge-thickness-normal\";\n      break;\n    case \"thick\":\n      strokeClasses = \"edge-thickness-thick\";\n      break;\n    case \"invisible\":\n      strokeClasses = \"edge-thickness-thick\";\n      break;\n    default:\n      strokeClasses = \"\";\n  }\n  switch (edge.pattern) {\n    case \"solid\":\n      strokeClasses += \" edge-pattern-solid\";\n      break;\n    case \"dotted\":\n      strokeClasses += \" edge-pattern-dotted\";\n      break;\n    case \"dashed\":\n      strokeClasses += \" edge-pattern-dashed\";\n      break;\n  }\n  const svgPath = elem.append(\"path\").attr(\"d\", lineFunction(lineData)).attr(\"id\", edge.id).attr(\"class\", \" \" + strokeClasses + (edge.classes ? \" \" + edge.classes : \"\")).attr(\"style\", edge.style);\n  let url = \"\";\n  if (getConfig().flowchart.arrowMarkerAbsolute || getConfig().state.arrowMarkerAbsolute) {\n    url = window.location.protocol + \"//\" + window.location.host + window.location.pathname + window.location.search;\n    url = url.replace(/\\(/g, \"\\\\(\");\n    url = url.replace(/\\)/g, \"\\\\)\");\n  }\n  addEdgeMarkers(svgPath, edge, url, id, diagramType);\n  let paths = {};\n  if (pointsHasChanged) {\n    paths.updatedPath = points;\n  }\n  paths.originalPath = edge.points;\n  return paths;\n};\nexport { insertMarkers$1 as a, clear$1 as b, createLabel$1 as c, clear as d, insertNode as e, insertEdgeLabel as f, getSubGraphTitleMargins as g, insertEdge as h, intersectRect$1 as i, positionEdgeLabel as j, getLineFunctionsWithOffset as k, labelHelper as l, addEdgeMarkers as m, positionNode as p, setNodeElem as s, updateNodeBounds as u };","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\nexport default setCacheAdd;","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\nexport default setCacheHas;","import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n    length = values == null ? 0 : values.length;\n  this.__data__ = new MapCache();\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\nexport default SetCache;","import assignValue from './_assignValue.js';\nimport castPath from './_castPath.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n  var index = -1,\n    length = path.length,\n    lastIndex = length - 1,\n    nested = object;\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n      newValue = value;\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return object;\n    }\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue) ? objValue : isIndex(path[index + 1]) ? [] : {};\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\nexport default baseSet;","import baseGet from './_baseGet.js';\nimport baseSet from './_baseSet.js';\nimport castPath from './_castPath.js';\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n    length = paths.length,\n    result = {};\n  while (++index < length) {\n    var path = paths[index],\n      value = baseGet(object, path);\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\nexport default basePickBy;","import basePickBy from './_basePickBy.js';\nimport hasIn from './hasIn.js';\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function (value, path) {\n    return hasIn(object, path);\n  });\n}\nexport default basePick;","import flatten from './flatten.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\nexport default flatRest;","import basePick from './_basePick.js';\nimport flatRest from './_flatRest.js';\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function (object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\nexport default pick;","module.exports = {\n  siteTitle: 'bradkim06', // <title>\n  shortSiteTitle: 'bradkim06', // <title> ending for posts and pages\n  siteDescription: 'made with GatsbyJS',\n  siteUrl: 'https://bradkim06.github.io',\n  pathPrefix: '',\n  siteImage: 'icon.jpg',\n  siteLanguage: 'en',\n  // author\n  authorName: 'bradkim06',\n  // info\n  infoTitle: 'bradkim06',\n  infoTitleNote: 'personal blog',\n  infoText: 'Embedded S/W developer',\n  // manifest.json\n  // PWA App Name\n  manifestName: 'bradkim06 blog',\n  // max 12 characters, If name is too long to display, ShortName display instead of name\n  manifestShortName: 'bradkim06',\n  manifestDescription:\n    'manifest is part of the PWA specification, allows users to add your site to their home screen',\n  // PWA App start url\n  manifestStartUrl: '/',\n  // App Background Color in using, loading state\n  manifestBackgroundColor: '#baffc9',\n  // UI[address, task switcher etc...] Color\n  manifestThemeColor: '#bae1ff',\n  // option[browser, standalone, fullscreen]\n  manifestDisplay: 'standalone',\n  manifestCrossOrigin: 'anonymous',\n  manifestLang: 'en',\n  // contact\n  contactEmail: 'bradkim06@gmail.com',\n  // Google Search\n  googleSiteVerification: '87GTb3Xk9fFlW-c1OLlIX3JinPcgE7GNTSbInlWdbB0',\n};\n","import baseFor from './_baseFor.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\nexport default baseForOwn;","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n    result = Array(set.size);\n  set.forEach(function (value) {\n    result[++index] = value;\n  });\n  return result;\n}\nexport default setToArray;","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\nexport default stubArray;","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n    length = array == null ? 0 : array.length,\n    result = Array(length);\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\nexport default arrayMap;","// Corresponds to 10 frames at 60 Hz.\n// A few bytes payload overhead when lodash/debounce is ~3 kB and debounce ~300 B.\nexport default function debounce(func) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 166;\n  var timeout;\n  function debounced() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // eslint-disable-next-line consistent-this\n    var that = this;\n    var later = function later() {\n      func.apply(that, args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  }\n  debounced.clear = function () {\n    clearTimeout(timeout);\n  };\n  return debounced;\n}","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      userSelect: 'none',\n      width: '1em',\n      height: '1em',\n      display: 'inline-block',\n      fill: 'currentColor',\n      flexShrink: 0,\n      fontSize: theme.typography.pxToRem(24),\n      transition: theme.transitions.create('fill', {\n        duration: theme.transitions.duration.shorter\n      })\n    },\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      color: theme.palette.secondary.main\n    },\n    /* Styles applied to the root element if `color=\"action\"`. */\n    colorAction: {\n      color: theme.palette.action.active\n    },\n    /* Styles applied to the root element if `color=\"error\"`. */\n    colorError: {\n      color: theme.palette.error.main\n    },\n    /* Styles applied to the root element if `color=\"disabled\"`. */\n    colorDisabled: {\n      color: theme.palette.action.disabled\n    },\n    /* Styles applied to the root element if `fontSize=\"inherit\"`. */\n    fontSizeInherit: {\n      fontSize: 'inherit'\n    },\n    /* Styles applied to the root element if `fontSize=\"small\"`. */\n    fontSizeSmall: {\n      fontSize: theme.typography.pxToRem(20)\n    },\n    /* Styles applied to the root element if `fontSize=\"large\"`. */\n    fontSizeLarge: {\n      fontSize: theme.typography.pxToRem(35)\n    }\n  };\n};\nvar SvgIcon = /*#__PURE__*/React.forwardRef(function SvgIcon(props, ref) {\n  var children = props.children,\n    classes = props.classes,\n    className = props.className,\n    _props$color = props.color,\n    color = _props$color === void 0 ? 'inherit' : _props$color,\n    _props$component = props.component,\n    Component = _props$component === void 0 ? 'svg' : _props$component,\n    _props$fontSize = props.fontSize,\n    fontSize = _props$fontSize === void 0 ? 'medium' : _props$fontSize,\n    htmlColor = props.htmlColor,\n    titleAccess = props.titleAccess,\n    _props$viewBox = props.viewBox,\n    viewBox = _props$viewBox === void 0 ? '0 0 24 24' : _props$viewBox,\n    other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"color\", \"component\", \"fontSize\", \"htmlColor\", \"titleAccess\", \"viewBox\"]);\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, color !== 'inherit' && classes[\"color\".concat(capitalize(color))], fontSize !== 'default' && fontSize !== 'medium' && classes[\"fontSize\".concat(capitalize(fontSize))]),\n    focusable: \"false\",\n    viewBox: viewBox,\n    color: htmlColor,\n    \"aria-hidden\": titleAccess ? undefined : true,\n    role: titleAccess ? 'img' : undefined,\n    ref: ref\n  }, other), children, titleAccess ? /*#__PURE__*/React.createElement(\"title\", null, titleAccess) : null);\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nSvgIcon.muiName = 'SvgIcon';\nexport default withStyles(styles, {\n  name: 'MuiSvgIcon'\n})(SvgIcon);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport SvgIcon from '../SvgIcon';\n/**\n * Private module reserved for @material-ui/x packages.\n */\n\nexport default function createSvgIcon(path, displayName) {\n  var Component = function Component(props, ref) {\n    return /*#__PURE__*/React.createElement(SvgIcon, _extends({\n      ref: ref\n    }, props), path);\n  };\n  if (process.env.NODE_ENV !== 'production') {\n    // Need to set `displayName` on the inner component for React.memo.\n    // React prior to 16.14 ignores `displayName` on the wrapper.\n    Component.displayName = \"\".concat(displayName, \"Icon\");\n  }\n  Component.muiName = SvgIcon.muiName;\n  return /*#__PURE__*/React.memo(/*#__PURE__*/React.forwardRef(Component));\n}","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\nexport default trimmedEndIndex;","import trimmedEndIndex from './_trimmedEndIndex.js';\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '') : string;\n}\nexport default baseTrim;","import baseTrim from './_baseTrim.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? other + '' : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\nexport default toNumber;","import toNumber from './toNumber.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n  MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = value < 0 ? -1 : 1;\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\nexport default toFinite;","import React from 'react';\nexport default React.createContext(null);","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n    length = array == null ? 0 : array.length;\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\nexport default arrayEach;","import { layout } from \"dagre-d3-es/src/dagre/index.js\";\nimport * as graphlibJson from \"dagre-d3-es/src/graphlib/json.js\";\nimport { c as createLabel, g as getSubGraphTitleMargins, i as intersectRect, a as insertMarkers, b as clear$2, d as clear$3, u as updateNodeBounds, s as setNodeElem, e as insertNode, f as insertEdgeLabel, p as positionNode, h as insertEdge, j as positionEdgeLabel } from \"./edges-e0da2a9e.js\";\nimport { l as log, c as getConfig, m as evaluate } from \"./mermaid-b5860b54.js\";\nimport * as graphlib from \"dagre-d3-es/src/graphlib/index.js\";\nimport { a as createText } from \"./createText-2e5e7dd3.js\";\nimport { select } from \"d3\";\nlet clusterDb = {};\nlet descendants = {};\nlet parents = {};\nconst clear$1 = () => {\n  descendants = {};\n  parents = {};\n  clusterDb = {};\n};\nconst isDescendant = (id, ancestorId) => {\n  log.trace(\"In isDescendant\", ancestorId, \" \", id, \" = \", descendants[ancestorId].includes(id));\n  if (descendants[ancestorId].includes(id)) {\n    return true;\n  }\n  return false;\n};\nconst edgeInCluster = (edge, clusterId) => {\n  log.info(\"Descendants of \", clusterId, \" is \", descendants[clusterId]);\n  log.info(\"Edge is \", edge);\n  if (edge.v === clusterId) {\n    return false;\n  }\n  if (edge.w === clusterId) {\n    return false;\n  }\n  if (!descendants[clusterId]) {\n    log.debug(\"Tilt, \", clusterId, \",not in descendants\");\n    return false;\n  }\n  return descendants[clusterId].includes(edge.v) || isDescendant(edge.v, clusterId) || isDescendant(edge.w, clusterId) || descendants[clusterId].includes(edge.w);\n};\nconst copy = (clusterId, graph, newGraph, rootId) => {\n  log.warn(\"Copying children of \", clusterId, \"root\", rootId, \"data\", graph.node(clusterId), rootId);\n  const nodes = graph.children(clusterId) || [];\n  if (clusterId !== rootId) {\n    nodes.push(clusterId);\n  }\n  log.warn(\"Copying (nodes) clusterId\", clusterId, \"nodes\", nodes);\n  nodes.forEach(node => {\n    if (graph.children(node).length > 0) {\n      copy(node, graph, newGraph, rootId);\n    } else {\n      const data = graph.node(node);\n      log.info(\"cp \", node, \" to \", rootId, \" with parent \", clusterId);\n      newGraph.setNode(node, data);\n      if (rootId !== graph.parent(node)) {\n        log.warn(\"Setting parent\", node, graph.parent(node));\n        newGraph.setParent(node, graph.parent(node));\n      }\n      if (clusterId !== rootId && node !== clusterId) {\n        log.debug(\"Setting parent\", node, clusterId);\n        newGraph.setParent(node, clusterId);\n      } else {\n        log.info(\"In copy \", clusterId, \"root\", rootId, \"data\", graph.node(clusterId), rootId);\n        log.debug(\"Not Setting parent for node=\", node, \"cluster!==rootId\", clusterId !== rootId, \"node!==clusterId\", node !== clusterId);\n      }\n      const edges = graph.edges(node);\n      log.debug(\"Copying Edges\", edges);\n      edges.forEach(edge => {\n        log.info(\"Edge\", edge);\n        const data2 = graph.edge(edge.v, edge.w, edge.name);\n        log.info(\"Edge data\", data2, rootId);\n        try {\n          if (edgeInCluster(edge, rootId)) {\n            log.info(\"Copying as \", edge.v, edge.w, data2, edge.name);\n            newGraph.setEdge(edge.v, edge.w, data2, edge.name);\n            log.info(\"newGraph edges \", newGraph.edges(), newGraph.edge(newGraph.edges()[0]));\n          } else {\n            log.info(\"Skipping copy of edge \", edge.v, \"-->\", edge.w, \" rootId: \", rootId, \" clusterId:\", clusterId);\n          }\n        } catch (e) {\n          log.error(e);\n        }\n      });\n    }\n    log.debug(\"Removing node\", node);\n    graph.removeNode(node);\n  });\n};\nconst extractDescendants = (id, graph) => {\n  const children = graph.children(id);\n  let res = [...children];\n  for (const child of children) {\n    parents[child] = id;\n    res = [...res, ...extractDescendants(child, graph)];\n  }\n  return res;\n};\nconst findNonClusterChild = (id, graph) => {\n  log.trace(\"Searching\", id);\n  const children = graph.children(id);\n  log.trace(\"Searching children of id \", id, children);\n  if (children.length < 1) {\n    log.trace(\"This is a valid node\", id);\n    return id;\n  }\n  for (const child of children) {\n    const _id = findNonClusterChild(child, graph);\n    if (_id) {\n      log.trace(\"Found replacement for\", id, \" => \", _id);\n      return _id;\n    }\n  }\n};\nconst getAnchorId = id => {\n  if (!clusterDb[id]) {\n    return id;\n  }\n  if (!clusterDb[id].externalConnections) {\n    return id;\n  }\n  if (clusterDb[id]) {\n    return clusterDb[id].id;\n  }\n  return id;\n};\nconst adjustClustersAndEdges = (graph, depth) => {\n  if (!graph || depth > 10) {\n    log.debug(\"Opting out, no graph \");\n    return;\n  } else {\n    log.debug(\"Opting in, graph \");\n  }\n  graph.nodes().forEach(function (id) {\n    const children = graph.children(id);\n    if (children.length > 0) {\n      log.warn(\"Cluster identified\", id, \" Replacement id in edges: \", findNonClusterChild(id, graph));\n      descendants[id] = extractDescendants(id, graph);\n      clusterDb[id] = {\n        id: findNonClusterChild(id, graph),\n        clusterData: graph.node(id)\n      };\n    }\n  });\n  graph.nodes().forEach(function (id) {\n    const children = graph.children(id);\n    const edges = graph.edges();\n    if (children.length > 0) {\n      log.debug(\"Cluster identified\", id, descendants);\n      edges.forEach(edge => {\n        if (edge.v !== id && edge.w !== id) {\n          const d1 = isDescendant(edge.v, id);\n          const d2 = isDescendant(edge.w, id);\n          if (d1 ^ d2) {\n            log.warn(\"Edge: \", edge, \" leaves cluster \", id);\n            log.warn(\"Descendants of XXX \", id, \": \", descendants[id]);\n            clusterDb[id].externalConnections = true;\n          }\n        }\n      });\n    } else {\n      log.debug(\"Not a cluster \", id, descendants);\n    }\n  });\n  for (let id of Object.keys(clusterDb)) {\n    const nonClusterChild = clusterDb[id].id;\n    const parent = graph.parent(nonClusterChild);\n    if (parent !== id && clusterDb[parent] && !clusterDb[parent].externalConnections) {\n      clusterDb[id].id = parent;\n    }\n  }\n  graph.edges().forEach(function (e) {\n    const edge = graph.edge(e);\n    log.warn(\"Edge \" + e.v + \" -> \" + e.w + \": \" + JSON.stringify(e));\n    log.warn(\"Edge \" + e.v + \" -> \" + e.w + \": \" + JSON.stringify(graph.edge(e)));\n    let v = e.v;\n    let w = e.w;\n    log.warn(\"Fix XXX\", clusterDb, \"ids:\", e.v, e.w, \"Translating: \", clusterDb[e.v], \" --- \", clusterDb[e.w]);\n    if (clusterDb[e.v] && clusterDb[e.w] && clusterDb[e.v] === clusterDb[e.w]) {\n      log.warn(\"Fixing and trixing link to self - removing XXX\", e.v, e.w, e.name);\n      log.warn(\"Fixing and trixing - removing XXX\", e.v, e.w, e.name);\n      v = getAnchorId(e.v);\n      w = getAnchorId(e.w);\n      graph.removeEdge(e.v, e.w, e.name);\n      const specialId = e.w + \"---\" + e.v;\n      graph.setNode(specialId, {\n        domId: specialId,\n        id: specialId,\n        labelStyle: \"\",\n        labelText: edge.label,\n        padding: 0,\n        shape: \"labelRect\",\n        style: \"\"\n      });\n      const edge1 = structuredClone(edge);\n      const edge2 = structuredClone(edge);\n      edge1.label = \"\";\n      edge1.arrowTypeEnd = \"none\";\n      edge2.label = \"\";\n      edge1.fromCluster = e.v;\n      edge2.toCluster = e.v;\n      graph.setEdge(v, specialId, edge1, e.name + \"-cyclic-special\");\n      graph.setEdge(specialId, w, edge2, e.name + \"-cyclic-special\");\n    } else if (clusterDb[e.v] || clusterDb[e.w]) {\n      log.warn(\"Fixing and trixing - removing XXX\", e.v, e.w, e.name);\n      v = getAnchorId(e.v);\n      w = getAnchorId(e.w);\n      graph.removeEdge(e.v, e.w, e.name);\n      if (v !== e.v) {\n        const parent = graph.parent(v);\n        clusterDb[parent].externalConnections = true;\n        edge.fromCluster = e.v;\n      }\n      if (w !== e.w) {\n        const parent = graph.parent(w);\n        clusterDb[parent].externalConnections = true;\n        edge.toCluster = e.w;\n      }\n      log.warn(\"Fix Replacing with XXX\", v, w, e.name);\n      graph.setEdge(v, w, edge, e.name);\n    }\n  });\n  log.warn(\"Adjusted Graph\", graphlibJson.write(graph));\n  extractor(graph, 0);\n  log.trace(clusterDb);\n};\nconst extractor = (graph, depth) => {\n  log.warn(\"extractor - \", depth, graphlibJson.write(graph), graph.children(\"D\"));\n  if (depth > 10) {\n    log.error(\"Bailing out\");\n    return;\n  }\n  let nodes = graph.nodes();\n  let hasChildren = false;\n  for (const node of nodes) {\n    const children = graph.children(node);\n    hasChildren = hasChildren || children.length > 0;\n  }\n  if (!hasChildren) {\n    log.debug(\"Done, no node has children\", graph.nodes());\n    return;\n  }\n  log.debug(\"Nodes = \", nodes, depth);\n  for (const node of nodes) {\n    log.debug(\"Extracting node\", node, clusterDb, clusterDb[node] && !clusterDb[node].externalConnections, !graph.parent(node), graph.node(node), graph.children(\"D\"), \" Depth \", depth);\n    if (!clusterDb[node]) {\n      log.debug(\"Not a cluster\", node, depth);\n    } else if (!clusterDb[node].externalConnections &&\n    // !graph.parent(node) &&\n    graph.children(node) && graph.children(node).length > 0) {\n      log.warn(\"Cluster without external connections, without a parent and with children\", node, depth);\n      const graphSettings = graph.graph();\n      let dir = graphSettings.rankdir === \"TB\" ? \"LR\" : \"TB\";\n      if (clusterDb[node] && clusterDb[node].clusterData && clusterDb[node].clusterData.dir) {\n        dir = clusterDb[node].clusterData.dir;\n        log.warn(\"Fixing dir\", clusterDb[node].clusterData.dir, dir);\n      }\n      const clusterGraph = new graphlib.Graph({\n        multigraph: true,\n        compound: true\n      }).setGraph({\n        rankdir: dir,\n        // Todo: set proper spacing\n        nodesep: 50,\n        ranksep: 50,\n        marginx: 8,\n        marginy: 8\n      }).setDefaultEdgeLabel(function () {\n        return {};\n      });\n      log.warn(\"Old graph before copy\", graphlibJson.write(graph));\n      copy(node, graph, clusterGraph, node);\n      graph.setNode(node, {\n        clusterNode: true,\n        id: node,\n        clusterData: clusterDb[node].clusterData,\n        labelText: clusterDb[node].labelText,\n        graph: clusterGraph\n      });\n      log.warn(\"New graph after copy node: (\", node, \")\", graphlibJson.write(clusterGraph));\n      log.debug(\"Old graph after copy\", graphlibJson.write(graph));\n    } else {\n      log.warn(\"Cluster ** \", node, \" **not meeting the criteria !externalConnections:\", !clusterDb[node].externalConnections, \" no parent: \", !graph.parent(node), \" children \", graph.children(node) && graph.children(node).length > 0, graph.children(\"D\"), depth);\n      log.debug(clusterDb);\n    }\n  }\n  nodes = graph.nodes();\n  log.warn(\"New list of nodes\", nodes);\n  for (const node of nodes) {\n    const data = graph.node(node);\n    log.warn(\" Now next level\", node, data);\n    if (data.clusterNode) {\n      extractor(data.graph, depth + 1);\n    }\n  }\n};\nconst sorter = (graph, nodes) => {\n  if (nodes.length === 0) {\n    return [];\n  }\n  let result = Object.assign(nodes);\n  nodes.forEach(node => {\n    const children = graph.children(node);\n    const sorted = sorter(graph, children);\n    result = [...result, ...sorted];\n  });\n  return result;\n};\nconst sortNodesByHierarchy = graph => sorter(graph, graph.children());\nconst rect = (parent, node) => {\n  log.info(\"Creating subgraph rect for \", node.id, node);\n  const siteConfig = getConfig();\n  const shapeSvg = parent.insert(\"g\").attr(\"class\", \"cluster\" + (node.class ? \" \" + node.class : \"\")).attr(\"id\", node.id);\n  const rect2 = shapeSvg.insert(\"rect\", \":first-child\");\n  const useHtmlLabels = evaluate(siteConfig.flowchart.htmlLabels);\n  const label = shapeSvg.insert(\"g\").attr(\"class\", \"cluster-label\");\n  const text = node.labelType === \"markdown\" ? createText(label, node.labelText, {\n    style: node.labelStyle,\n    useHtmlLabels\n  }) : label.node().appendChild(createLabel(node.labelText, node.labelStyle, void 0, true));\n  let bbox = text.getBBox();\n  if (evaluate(siteConfig.flowchart.htmlLabels)) {\n    const div = text.children[0];\n    const dv = select(text);\n    bbox = div.getBoundingClientRect();\n    dv.attr(\"width\", bbox.width);\n    dv.attr(\"height\", bbox.height);\n  }\n  const padding = 0 * node.padding;\n  const halfPadding = padding / 2;\n  const width = node.width <= bbox.width + padding ? bbox.width + padding : node.width;\n  if (node.width <= bbox.width + padding) {\n    node.diff = (bbox.width - node.width) / 2 - node.padding / 2;\n  } else {\n    node.diff = -node.padding / 2;\n  }\n  log.trace(\"Data \", node, JSON.stringify(node));\n  rect2.attr(\"style\", node.style).attr(\"rx\", node.rx).attr(\"ry\", node.ry).attr(\"x\", node.x - width / 2).attr(\"y\", node.y - node.height / 2 - halfPadding).attr(\"width\", width).attr(\"height\", node.height + padding);\n  const {\n    subGraphTitleTopMargin\n  } = getSubGraphTitleMargins(siteConfig);\n  if (useHtmlLabels) {\n    label.attr(\"transform\",\n    // This puts the label on top of the box instead of inside it\n    `translate(${node.x - bbox.width / 2}, ${node.y - node.height / 2 + subGraphTitleTopMargin})`);\n  } else {\n    label.attr(\"transform\",\n    // This puts the label on top of the box instead of inside it\n    `translate(${node.x}, ${node.y - node.height / 2 + subGraphTitleTopMargin})`);\n  }\n  const rectBox = rect2.node().getBBox();\n  node.width = rectBox.width;\n  node.height = rectBox.height;\n  node.intersect = function (point) {\n    return intersectRect(node, point);\n  };\n  return shapeSvg;\n};\nconst noteGroup = (parent, node) => {\n  const shapeSvg = parent.insert(\"g\").attr(\"class\", \"note-cluster\").attr(\"id\", node.id);\n  const rect2 = shapeSvg.insert(\"rect\", \":first-child\");\n  const padding = 0 * node.padding;\n  const halfPadding = padding / 2;\n  rect2.attr(\"rx\", node.rx).attr(\"ry\", node.ry).attr(\"x\", node.x - node.width / 2 - halfPadding).attr(\"y\", node.y - node.height / 2 - halfPadding).attr(\"width\", node.width + padding).attr(\"height\", node.height + padding).attr(\"fill\", \"none\");\n  const rectBox = rect2.node().getBBox();\n  node.width = rectBox.width;\n  node.height = rectBox.height;\n  node.intersect = function (point) {\n    return intersectRect(node, point);\n  };\n  return shapeSvg;\n};\nconst roundedWithTitle = (parent, node) => {\n  const siteConfig = getConfig();\n  const shapeSvg = parent.insert(\"g\").attr(\"class\", node.classes).attr(\"id\", node.id);\n  const rect2 = shapeSvg.insert(\"rect\", \":first-child\");\n  const label = shapeSvg.insert(\"g\").attr(\"class\", \"cluster-label\");\n  const innerRect = shapeSvg.append(\"rect\");\n  const text = label.node().appendChild(createLabel(node.labelText, node.labelStyle, void 0, true));\n  let bbox = text.getBBox();\n  if (evaluate(siteConfig.flowchart.htmlLabels)) {\n    const div = text.children[0];\n    const dv = select(text);\n    bbox = div.getBoundingClientRect();\n    dv.attr(\"width\", bbox.width);\n    dv.attr(\"height\", bbox.height);\n  }\n  bbox = text.getBBox();\n  const padding = 0 * node.padding;\n  const halfPadding = padding / 2;\n  const width = node.width <= bbox.width + node.padding ? bbox.width + node.padding : node.width;\n  if (node.width <= bbox.width + node.padding) {\n    node.diff = (bbox.width + node.padding * 0 - node.width) / 2;\n  } else {\n    node.diff = -node.padding / 2;\n  }\n  rect2.attr(\"class\", \"outer\").attr(\"x\", node.x - width / 2 - halfPadding).attr(\"y\", node.y - node.height / 2 - halfPadding).attr(\"width\", width + padding).attr(\"height\", node.height + padding);\n  innerRect.attr(\"class\", \"inner\").attr(\"x\", node.x - width / 2 - halfPadding).attr(\"y\", node.y - node.height / 2 - halfPadding + bbox.height - 1).attr(\"width\", width + padding).attr(\"height\", node.height + padding - bbox.height - 3);\n  const {\n    subGraphTitleTopMargin\n  } = getSubGraphTitleMargins(siteConfig);\n  label.attr(\"transform\", `translate(${node.x - bbox.width / 2}, ${node.y - node.height / 2 - node.padding / 3 + (evaluate(siteConfig.flowchart.htmlLabels) ? 5 : 3) + subGraphTitleTopMargin})`);\n  const rectBox = rect2.node().getBBox();\n  node.height = rectBox.height;\n  node.intersect = function (point) {\n    return intersectRect(node, point);\n  };\n  return shapeSvg;\n};\nconst divider = (parent, node) => {\n  const shapeSvg = parent.insert(\"g\").attr(\"class\", node.classes).attr(\"id\", node.id);\n  const rect2 = shapeSvg.insert(\"rect\", \":first-child\");\n  const padding = 0 * node.padding;\n  const halfPadding = padding / 2;\n  rect2.attr(\"class\", \"divider\").attr(\"x\", node.x - node.width / 2 - halfPadding).attr(\"y\", node.y - node.height / 2).attr(\"width\", node.width + padding).attr(\"height\", node.height + padding);\n  const rectBox = rect2.node().getBBox();\n  node.width = rectBox.width;\n  node.height = rectBox.height;\n  node.diff = -node.padding / 2;\n  node.intersect = function (point) {\n    return intersectRect(node, point);\n  };\n  return shapeSvg;\n};\nconst shapes = {\n  rect,\n  roundedWithTitle,\n  noteGroup,\n  divider\n};\nlet clusterElems = {};\nconst insertCluster = (elem, node) => {\n  log.trace(\"Inserting cluster\");\n  const shape = node.shape || \"rect\";\n  clusterElems[node.id] = shapes[shape](elem, node);\n};\nconst clear = () => {\n  clusterElems = {};\n};\nconst recursiveRender = async (_elem, graph, diagramType, id, parentCluster, siteConfig) => {\n  log.info(\"Graph in recursive render: XXX\", graphlibJson.write(graph), parentCluster);\n  const dir = graph.graph().rankdir;\n  log.trace(\"Dir in recursive render - dir:\", dir);\n  const elem = _elem.insert(\"g\").attr(\"class\", \"root\");\n  if (!graph.nodes()) {\n    log.info(\"No nodes found for\", graph);\n  } else {\n    log.info(\"Recursive render XXX\", graph.nodes());\n  }\n  if (graph.edges().length > 0) {\n    log.trace(\"Recursive edges\", graph.edge(graph.edges()[0]));\n  }\n  const clusters = elem.insert(\"g\").attr(\"class\", \"clusters\");\n  const edgePaths = elem.insert(\"g\").attr(\"class\", \"edgePaths\");\n  const edgeLabels = elem.insert(\"g\").attr(\"class\", \"edgeLabels\");\n  const nodes = elem.insert(\"g\").attr(\"class\", \"nodes\");\n  await Promise.all(graph.nodes().map(async function (v) {\n    const node = graph.node(v);\n    if (parentCluster !== void 0) {\n      const data = JSON.parse(JSON.stringify(parentCluster.clusterData));\n      log.info(\"Setting data for cluster XXX (\", v, \") \", data, parentCluster);\n      graph.setNode(parentCluster.id, data);\n      if (!graph.parent(v)) {\n        log.trace(\"Setting parent\", v, parentCluster.id);\n        graph.setParent(v, parentCluster.id, data);\n      }\n    }\n    log.info(\"(Insert) Node XXX\" + v + \": \" + JSON.stringify(graph.node(v)));\n    if (node && node.clusterNode) {\n      log.info(\"Cluster identified\", v, node.width, graph.node(v));\n      const o = await recursiveRender(nodes, node.graph, diagramType, id, graph.node(v), siteConfig);\n      const newEl = o.elem;\n      updateNodeBounds(node, newEl);\n      node.diff = o.diff || 0;\n      log.info(\"Node bounds (abc123)\", v, node, node.width, node.x, node.y);\n      setNodeElem(newEl, node);\n      log.warn(\"Recursive render complete \", newEl, node);\n    } else {\n      if (graph.children(v).length > 0) {\n        log.info(\"Cluster - the non recursive path XXX\", v, node.id, node, graph);\n        log.info(findNonClusterChild(node.id, graph));\n        clusterDb[node.id] = {\n          id: findNonClusterChild(node.id, graph),\n          node\n        };\n      } else {\n        log.info(\"Node - the non recursive path\", v, node.id, node);\n        await insertNode(nodes, graph.node(v), dir);\n      }\n    }\n  }));\n  graph.edges().forEach(function (e) {\n    const edge = graph.edge(e.v, e.w, e.name);\n    log.info(\"Edge \" + e.v + \" -> \" + e.w + \": \" + JSON.stringify(e));\n    log.info(\"Edge \" + e.v + \" -> \" + e.w + \": \", e, \" \", JSON.stringify(graph.edge(e)));\n    log.info(\"Fix\", clusterDb, \"ids:\", e.v, e.w, \"Translating: \", clusterDb[e.v], clusterDb[e.w]);\n    insertEdgeLabel(edgeLabels, edge);\n  });\n  graph.edges().forEach(function (e) {\n    log.info(\"Edge \" + e.v + \" -> \" + e.w + \": \" + JSON.stringify(e));\n  });\n  log.info(\"#############################################\");\n  log.info(\"###                Layout                 ###\");\n  log.info(\"#############################################\");\n  log.info(graph);\n  layout(graph);\n  log.info(\"Graph after layout:\", graphlibJson.write(graph));\n  let diff = 0;\n  const {\n    subGraphTitleTotalMargin\n  } = getSubGraphTitleMargins(siteConfig);\n  sortNodesByHierarchy(graph).forEach(function (v) {\n    const node = graph.node(v);\n    log.info(\"Position \" + v + \": \" + JSON.stringify(graph.node(v)));\n    log.info(\"Position \" + v + \": (\" + node.x, \",\" + node.y, \") width: \", node.width, \" height: \", node.height);\n    if (node && node.clusterNode) {\n      node.y += subGraphTitleTotalMargin;\n      positionNode(node);\n    } else {\n      if (graph.children(v).length > 0) {\n        node.height += subGraphTitleTotalMargin;\n        insertCluster(clusters, node);\n        clusterDb[node.id].node = node;\n      } else {\n        node.y += subGraphTitleTotalMargin / 2;\n        positionNode(node);\n      }\n    }\n  });\n  graph.edges().forEach(function (e) {\n    const edge = graph.edge(e);\n    log.info(\"Edge \" + e.v + \" -> \" + e.w + \": \" + JSON.stringify(edge), edge);\n    edge.points.forEach(point => point.y += subGraphTitleTotalMargin / 2);\n    const paths = insertEdge(edgePaths, e, edge, clusterDb, diagramType, graph, id);\n    positionEdgeLabel(edge, paths);\n  });\n  graph.nodes().forEach(function (v) {\n    const n = graph.node(v);\n    log.info(v, n.type, n.diff);\n    if (n.type === \"group\") {\n      diff = n.diff;\n    }\n  });\n  return {\n    elem,\n    diff\n  };\n};\nconst render = async (elem, graph, markers, diagramType, id) => {\n  insertMarkers(elem, markers, diagramType, id);\n  clear$2();\n  clear$3();\n  clear();\n  clear$1();\n  log.warn(\"Graph at first:\", JSON.stringify(graphlibJson.write(graph)));\n  adjustClustersAndEdges(graph);\n  log.warn(\"Graph after:\", JSON.stringify(graphlibJson.write(graph)));\n  const siteConfig = getConfig();\n  await recursiveRender(elem, graph, diagramType, id, void 0, siteConfig);\n};\nexport { render as r };","/* eslint-disable react-hooks/rules-of-hooks, react-hooks/exhaustive-deps */\nimport * as React from 'react';\nexport default function useControlled(_ref) {\n  var controlled = _ref.controlled,\n    defaultProp = _ref.default,\n    name = _ref.name,\n    _ref$state = _ref.state,\n    state = _ref$state === void 0 ? 'value' : _ref$state;\n  var _React$useRef = React.useRef(controlled !== undefined),\n    isControlled = _React$useRef.current;\n  var _React$useState = React.useState(defaultProp),\n    valueState = _React$useState[0],\n    setValue = _React$useState[1];\n  var value = isControlled ? controlled : valueState;\n  if (process.env.NODE_ENV !== 'production') {\n    React.useEffect(function () {\n      if (isControlled !== (controlled !== undefined)) {\n        console.error([\"Material-UI: A component is changing the \".concat(isControlled ? '' : 'un', \"controlled \").concat(state, \" state of \").concat(name, \" to be \").concat(isControlled ? 'un' : '', \"controlled.\"), 'Elements should not switch from uncontrolled to controlled (or vice versa).', \"Decide between using a controlled or uncontrolled \".concat(name, \" \") + 'element for the lifetime of the component.', \"The nature of the state is determined during the first render, it's considered controlled if the value is not `undefined`.\", 'More info: https://fb.me/react-controlled-components'].join('\\n'));\n      }\n    }, [controlled]);\n    var _React$useRef2 = React.useRef(defaultProp),\n      defaultValue = _React$useRef2.current;\n    React.useEffect(function () {\n      if (!isControlled && defaultValue !== defaultProp) {\n        console.error([\"Material-UI: A component is changing the default \".concat(state, \" state of an uncontrolled \").concat(name, \" after being initialized. \") + \"To suppress this warning opt to use a controlled \".concat(name, \".\")].join('\\n'));\n      }\n    }, [JSON.stringify(defaultProp)]);\n  }\n  var setValueIfUncontrolled = React.useCallback(function (newValue) {\n    if (!isControlled) {\n      setValue(newValue);\n    }\n  }, []);\n  return [value, setValueIfUncontrolled];\n}","/**\n * Safe chained function\n *\n * Will only create a new function if needed,\n * otherwise will pass back existing functions or null.\n *\n * @param {function} functions to chain\n * @returns {function|null}\n */\nexport default function createChainedFunction() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n  return funcs.reduce(function (acc, func) {\n    if (func == null) {\n      return acc;\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof func !== 'function') {\n        console.error('Material-UI: Invalid Argument Type, must only provide functions, undefined, or null.');\n      }\n    }\n    return function chainedFunction() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      acc.apply(this, args);\n      func.apply(this, args);\n    };\n  }, function () {});\n}","import arrayMap from './_arrayMap.js';\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function (key) {\n    return object[key];\n  });\n}\nexport default baseValues;","import baseValues from './_baseValues.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\nexport default values;","/*\n * Simple doubly linked list implementation derived from Cormen, et al.,\n * \"Introduction to Algorithms\".\n */\n\nexport { List };\nclass List {\n  constructor() {\n    var sentinel = {};\n    sentinel._next = sentinel._prev = sentinel;\n    this._sentinel = sentinel;\n  }\n  dequeue() {\n    var sentinel = this._sentinel;\n    var entry = sentinel._prev;\n    if (entry !== sentinel) {\n      unlink(entry);\n      return entry;\n    }\n  }\n  enqueue(entry) {\n    var sentinel = this._sentinel;\n    if (entry._prev && entry._next) {\n      unlink(entry);\n    }\n    entry._next = sentinel._next;\n    sentinel._next._prev = entry;\n    sentinel._next = entry;\n    entry._prev = sentinel;\n  }\n  toString() {\n    var strs = [];\n    var sentinel = this._sentinel;\n    var curr = sentinel._prev;\n    while (curr !== sentinel) {\n      strs.push(JSON.stringify(curr, filterOutLinks));\n      curr = curr._prev;\n    }\n    return '[' + strs.join(', ') + ']';\n  }\n}\nfunction unlink(entry) {\n  entry._prev._next = entry._next;\n  entry._next._prev = entry._prev;\n  delete entry._next;\n  delete entry._prev;\n}\nfunction filterOutLinks(k, v) {\n  if (k !== '_next' && k !== '_prev') {\n    return v;\n  }\n}","import * as _ from 'lodash-es';\nimport { Graph } from '../graphlib/index.js';\nimport { List } from './data/list.js';\n\n/*\n * A greedy heuristic for finding a feedback arc set for a graph. A feedback\n * arc set is a set of edges that can be removed to make a graph acyclic.\n * The algorithm comes from: P. Eades, X. Lin, and W. F. Smyth, \"A fast and\n * effective heuristic for the feedback arc set problem.\" This implementation\n * adjusts that from the paper to allow for weighted edges.\n */\nexport { greedyFAS };\nvar DEFAULT_WEIGHT_FN = _.constant(1);\nfunction greedyFAS(g, weightFn) {\n  if (g.nodeCount() <= 1) {\n    return [];\n  }\n  var state = buildState(g, weightFn || DEFAULT_WEIGHT_FN);\n  var results = doGreedyFAS(state.graph, state.buckets, state.zeroIdx);\n\n  // Expand multi-edges\n  return _.flatten(_.map(results, function (e) {\n    return g.outEdges(e.v, e.w);\n  }));\n}\nfunction doGreedyFAS(g, buckets, zeroIdx) {\n  var results = [];\n  var sources = buckets[buckets.length - 1];\n  var sinks = buckets[0];\n  var entry;\n  while (g.nodeCount()) {\n    while (entry = sinks.dequeue()) {\n      removeNode(g, buckets, zeroIdx, entry);\n    }\n    while (entry = sources.dequeue()) {\n      removeNode(g, buckets, zeroIdx, entry);\n    }\n    if (g.nodeCount()) {\n      for (var i = buckets.length - 2; i > 0; --i) {\n        entry = buckets[i].dequeue();\n        if (entry) {\n          results = results.concat(removeNode(g, buckets, zeroIdx, entry, true));\n          break;\n        }\n      }\n    }\n  }\n  return results;\n}\nfunction removeNode(g, buckets, zeroIdx, entry, collectPredecessors) {\n  var results = collectPredecessors ? [] : undefined;\n  _.forEach(g.inEdges(entry.v), function (edge) {\n    var weight = g.edge(edge);\n    var uEntry = g.node(edge.v);\n    if (collectPredecessors) {\n      results.push({\n        v: edge.v,\n        w: edge.w\n      });\n    }\n    uEntry.out -= weight;\n    assignBucket(buckets, zeroIdx, uEntry);\n  });\n  _.forEach(g.outEdges(entry.v), function (edge) {\n    var weight = g.edge(edge);\n    var w = edge.w;\n    var wEntry = g.node(w);\n    wEntry['in'] -= weight;\n    assignBucket(buckets, zeroIdx, wEntry);\n  });\n  g.removeNode(entry.v);\n  return results;\n}\nfunction buildState(g, weightFn) {\n  var fasGraph = new Graph();\n  var maxIn = 0;\n  var maxOut = 0;\n  _.forEach(g.nodes(), function (v) {\n    fasGraph.setNode(v, {\n      v: v,\n      in: 0,\n      out: 0\n    });\n  });\n\n  // Aggregate weights on nodes, but also sum the weights across multi-edges\n  // into a single edge for the fasGraph.\n  _.forEach(g.edges(), function (e) {\n    var prevWeight = fasGraph.edge(e.v, e.w) || 0;\n    var weight = weightFn(e);\n    var edgeWeight = prevWeight + weight;\n    fasGraph.setEdge(e.v, e.w, edgeWeight);\n    maxOut = Math.max(maxOut, fasGraph.node(e.v).out += weight);\n    maxIn = Math.max(maxIn, fasGraph.node(e.w)['in'] += weight);\n  });\n  var buckets = _.range(maxOut + maxIn + 3).map(function () {\n    return new List();\n  });\n  var zeroIdx = maxIn + 1;\n  _.forEach(fasGraph.nodes(), function (v) {\n    assignBucket(buckets, zeroIdx, fasGraph.node(v));\n  });\n  return {\n    graph: fasGraph,\n    buckets: buckets,\n    zeroIdx: zeroIdx\n  };\n}\nfunction assignBucket(buckets, zeroIdx, entry) {\n  if (!entry.out) {\n    buckets[0].enqueue(entry);\n  } else if (!entry['in']) {\n    buckets[buckets.length - 1].enqueue(entry);\n  } else {\n    buckets[entry.out - entry['in'] + zeroIdx].enqueue(entry);\n  }\n}","import * as _ from 'lodash-es';\nimport { greedyFAS } from './greedy-fas.js';\nexport { run, undo };\nfunction run(g) {\n  var fas = g.graph().acyclicer === 'greedy' ? greedyFAS(g, weightFn(g)) : dfsFAS(g);\n  _.forEach(fas, function (e) {\n    var label = g.edge(e);\n    g.removeEdge(e);\n    label.forwardName = e.name;\n    label.reversed = true;\n    g.setEdge(e.w, e.v, label, _.uniqueId('rev'));\n  });\n  function weightFn(g) {\n    return function (e) {\n      return g.edge(e).weight;\n    };\n  }\n}\nfunction dfsFAS(g) {\n  var fas = [];\n  var stack = {};\n  var visited = {};\n  function dfs(v) {\n    if (_.has(visited, v)) {\n      return;\n    }\n    visited[v] = true;\n    stack[v] = true;\n    _.forEach(g.outEdges(v), function (e) {\n      if (_.has(stack, e.w)) {\n        fas.push(e);\n      } else {\n        dfs(e.w);\n      }\n    });\n    delete stack[v];\n  }\n  _.forEach(g.nodes(), dfs);\n  return fas;\n}\nfunction undo(g) {\n  _.forEach(g.edges(), function (e) {\n    var label = g.edge(e);\n    if (label.reversed) {\n      g.removeEdge(e);\n      var forwardName = label.forwardName;\n      delete label.reversed;\n      delete label.forwardName;\n      g.setEdge(e.w, e.v, label, forwardName);\n    }\n  });\n}","import isSymbol from './isSymbol.js';\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n    length = array.length;\n  while (++index < length) {\n    var value = array[index],\n      current = iteratee(value);\n    if (current != null && (computed === undefined ? current === current && !isSymbol(current) : comparator(current, computed))) {\n      var computed = current,\n        result = value;\n    }\n  }\n  return result;\n}\nexport default baseExtremum;","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\nexport default baseGt;","import baseExtremum from './_baseExtremum.js';\nimport baseGt from './_baseGt.js';\nimport identity from './identity.js';\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return array && array.length ? baseExtremum(array, identity, baseGt) : undefined;\n}\nexport default max;","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\nexport default last;","import baseAssignValue from './_baseAssignValue.js';\nimport baseForOwn from './_baseForOwn.js';\nimport baseIteratee from './_baseIteratee.js';\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n  baseForOwn(object, function (value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\nexport default mapValues;","/**\n * The base implementation of `_.lt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than `other`,\n *  else `false`.\n */\nfunction baseLt(value, other) {\n  return value < other;\n}\nexport default baseLt;","import baseExtremum from './_baseExtremum.js';\nimport baseLt from './_baseLt.js';\nimport identity from './identity.js';\n\n/**\n * Computes the minimum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * _.min([4, 2, 8, 6]);\n * // => 2\n *\n * _.min([]);\n * // => undefined\n */\nfunction min(array) {\n  return array && array.length ? baseExtremum(array, identity, baseLt) : undefined;\n}\nexport default min;","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function () {\n  return root.Date.now();\n};\nexport default now;","import * as _ from 'lodash-es';\nimport { Graph } from '../graphlib/index.js';\nexport { addDummyNode, simplify, asNonCompoundGraph, successorWeights, predecessorWeights, intersectRect, buildLayerMatrix, normalizeRanks, removeEmptyRanks, addBorderNode, maxRank, partition, time, notime };\n\n/*\n * Adds a dummy node to the graph and return v.\n */\nfunction addDummyNode(g, type, attrs, name) {\n  var v;\n  do {\n    v = _.uniqueId(name);\n  } while (g.hasNode(v));\n  attrs.dummy = type;\n  g.setNode(v, attrs);\n  return v;\n}\n\n/*\n * Returns a new graph with only simple edges. Handles aggregation of data\n * associated with multi-edges.\n */\nfunction simplify(g) {\n  var simplified = new Graph().setGraph(g.graph());\n  _.forEach(g.nodes(), function (v) {\n    simplified.setNode(v, g.node(v));\n  });\n  _.forEach(g.edges(), function (e) {\n    var simpleLabel = simplified.edge(e.v, e.w) || {\n      weight: 0,\n      minlen: 1\n    };\n    var label = g.edge(e);\n    simplified.setEdge(e.v, e.w, {\n      weight: simpleLabel.weight + label.weight,\n      minlen: Math.max(simpleLabel.minlen, label.minlen)\n    });\n  });\n  return simplified;\n}\nfunction asNonCompoundGraph(g) {\n  var simplified = new Graph({\n    multigraph: g.isMultigraph()\n  }).setGraph(g.graph());\n  _.forEach(g.nodes(), function (v) {\n    if (!g.children(v).length) {\n      simplified.setNode(v, g.node(v));\n    }\n  });\n  _.forEach(g.edges(), function (e) {\n    simplified.setEdge(e, g.edge(e));\n  });\n  return simplified;\n}\nfunction successorWeights(g) {\n  var weightMap = _.map(g.nodes(), function (v) {\n    var sucs = {};\n    _.forEach(g.outEdges(v), function (e) {\n      sucs[e.w] = (sucs[e.w] || 0) + g.edge(e).weight;\n    });\n    return sucs;\n  });\n  return _.zipObject(g.nodes(), weightMap);\n}\nfunction predecessorWeights(g) {\n  var weightMap = _.map(g.nodes(), function (v) {\n    var preds = {};\n    _.forEach(g.inEdges(v), function (e) {\n      preds[e.v] = (preds[e.v] || 0) + g.edge(e).weight;\n    });\n    return preds;\n  });\n  return _.zipObject(g.nodes(), weightMap);\n}\n\n/*\n * Finds where a line starting at point ({x, y}) would intersect a rectangle\n * ({x, y, width, height}) if it were pointing at the rectangle's center.\n */\nfunction intersectRect(rect, point) {\n  var x = rect.x;\n  var y = rect.y;\n\n  // Rectangle intersection algorithm from:\n  // http://math.stackexchange.com/questions/108113/find-edge-between-two-boxes\n  var dx = point.x - x;\n  var dy = point.y - y;\n  var w = rect.width / 2;\n  var h = rect.height / 2;\n  if (!dx && !dy) {\n    throw new Error('Not possible to find intersection inside of the rectangle');\n  }\n  var sx, sy;\n  if (Math.abs(dy) * w > Math.abs(dx) * h) {\n    // Intersection is top or bottom of rect.\n    if (dy < 0) {\n      h = -h;\n    }\n    sx = h * dx / dy;\n    sy = h;\n  } else {\n    // Intersection is left or right of rect.\n    if (dx < 0) {\n      w = -w;\n    }\n    sx = w;\n    sy = w * dy / dx;\n  }\n  return {\n    x: x + sx,\n    y: y + sy\n  };\n}\n\n/*\n * Given a DAG with each node assigned \"rank\" and \"order\" properties, this\n * function will produce a matrix with the ids of each node.\n */\nfunction buildLayerMatrix(g) {\n  var layering = _.map(_.range(maxRank(g) + 1), function () {\n    return [];\n  });\n  _.forEach(g.nodes(), function (v) {\n    var node = g.node(v);\n    var rank = node.rank;\n    if (!_.isUndefined(rank)) {\n      layering[rank][node.order] = v;\n    }\n  });\n  return layering;\n}\n\n/*\n * Adjusts the ranks for all nodes in the graph such that all nodes v have\n * rank(v) >= 0 and at least one node w has rank(w) = 0.\n */\nfunction normalizeRanks(g) {\n  var min = _.min(_.map(g.nodes(), function (v) {\n    return g.node(v).rank;\n  }));\n  _.forEach(g.nodes(), function (v) {\n    var node = g.node(v);\n    if (_.has(node, 'rank')) {\n      node.rank -= min;\n    }\n  });\n}\nfunction removeEmptyRanks(g) {\n  // Ranks may not start at 0, so we need to offset them\n  var offset = _.min(_.map(g.nodes(), function (v) {\n    return g.node(v).rank;\n  }));\n  var layers = [];\n  _.forEach(g.nodes(), function (v) {\n    var rank = g.node(v).rank - offset;\n    if (!layers[rank]) {\n      layers[rank] = [];\n    }\n    layers[rank].push(v);\n  });\n  var delta = 0;\n  var nodeRankFactor = g.graph().nodeRankFactor;\n  _.forEach(layers, function (vs, i) {\n    if (_.isUndefined(vs) && i % nodeRankFactor !== 0) {\n      --delta;\n    } else if (delta) {\n      _.forEach(vs, function (v) {\n        g.node(v).rank += delta;\n      });\n    }\n  });\n}\nfunction addBorderNode(g, prefix, rank, order) {\n  var node = {\n    width: 0,\n    height: 0\n  };\n  if (arguments.length >= 4) {\n    node.rank = rank;\n    node.order = order;\n  }\n  return addDummyNode(g, 'border', node, prefix);\n}\nfunction maxRank(g) {\n  return _.max(_.map(g.nodes(), function (v) {\n    var rank = g.node(v).rank;\n    if (!_.isUndefined(rank)) {\n      return rank;\n    }\n  }));\n}\n\n/*\n * Partition a collection into two groups: `lhs` and `rhs`. If the supplied\n * function returns true for an entry it goes into `lhs`. Otherwise it goes\n * into `rhs.\n */\nfunction partition(collection, fn) {\n  var result = {\n    lhs: [],\n    rhs: []\n  };\n  _.forEach(collection, function (value) {\n    if (fn(value)) {\n      result.lhs.push(value);\n    } else {\n      result.rhs.push(value);\n    }\n  });\n  return result;\n}\n\n/*\n * Returns a new function that wraps `fn` with a timer. The wrapper logs the\n * time it takes to execute the function.\n */\nfunction time(name, fn) {\n  var start = _.now();\n  try {\n    return fn();\n  } finally {\n    console.log(name + ' time: ' + (_.now() - start) + 'ms');\n  }\n}\nfunction notime(name, fn) {\n  return fn();\n}","import * as _ from 'lodash-es';\nimport * as util from './util.js';\nexport { addBorderSegments };\nfunction addBorderSegments(g) {\n  function dfs(v) {\n    var children = g.children(v);\n    var node = g.node(v);\n    if (children.length) {\n      _.forEach(children, dfs);\n    }\n    if (_.has(node, 'minRank')) {\n      node.borderLeft = [];\n      node.borderRight = [];\n      for (var rank = node.minRank, maxRank = node.maxRank + 1; rank < maxRank; ++rank) {\n        addBorderNode(g, 'borderLeft', '_bl', v, node, rank);\n        addBorderNode(g, 'borderRight', '_br', v, node, rank);\n      }\n    }\n  }\n  _.forEach(g.children(), dfs);\n}\nfunction addBorderNode(g, prop, prefix, sg, sgNode, rank) {\n  var label = {\n    width: 0,\n    height: 0,\n    rank: rank,\n    borderType: prop\n  };\n  var prev = sgNode[prop][rank - 1];\n  var curr = util.addDummyNode(g, 'border', label, prefix);\n  sgNode[prop][rank] = curr;\n  g.setParent(curr, sg);\n  if (prev) {\n    g.setEdge(prev, curr, {\n      weight: 1\n    });\n  }\n}","import * as _ from 'lodash-es';\nexport { adjust, undo };\nfunction adjust(g) {\n  var rankDir = g.graph().rankdir.toLowerCase();\n  if (rankDir === 'lr' || rankDir === 'rl') {\n    swapWidthHeight(g);\n  }\n}\nfunction undo(g) {\n  var rankDir = g.graph().rankdir.toLowerCase();\n  if (rankDir === 'bt' || rankDir === 'rl') {\n    reverseY(g);\n  }\n  if (rankDir === 'lr' || rankDir === 'rl') {\n    swapXY(g);\n    swapWidthHeight(g);\n  }\n}\nfunction swapWidthHeight(g) {\n  _.forEach(g.nodes(), function (v) {\n    swapWidthHeightOne(g.node(v));\n  });\n  _.forEach(g.edges(), function (e) {\n    swapWidthHeightOne(g.edge(e));\n  });\n}\nfunction swapWidthHeightOne(attrs) {\n  var w = attrs.width;\n  attrs.width = attrs.height;\n  attrs.height = w;\n}\nfunction reverseY(g) {\n  _.forEach(g.nodes(), function (v) {\n    reverseYOne(g.node(v));\n  });\n  _.forEach(g.edges(), function (e) {\n    var edge = g.edge(e);\n    _.forEach(edge.points, reverseYOne);\n    if (_.has(edge, 'y')) {\n      reverseYOne(edge);\n    }\n  });\n}\nfunction reverseYOne(attrs) {\n  attrs.y = -attrs.y;\n}\nfunction swapXY(g) {\n  _.forEach(g.nodes(), function (v) {\n    swapXYOne(g.node(v));\n  });\n  _.forEach(g.edges(), function (e) {\n    var edge = g.edge(e);\n    _.forEach(edge.points, swapXYOne);\n    if (_.has(edge, 'x')) {\n      swapXYOne(edge);\n    }\n  });\n}\nfunction swapXYOne(attrs) {\n  var x = attrs.x;\n  attrs.x = attrs.y;\n  attrs.y = x;\n}","import * as _ from 'lodash-es';\nimport * as util from './util.js';\nexport { run, undo };\n\n/*\n * Breaks any long edges in the graph into short segments that span 1 layer\n * each. This operation is undoable with the denormalize function.\n *\n * Pre-conditions:\n *\n *    1. The input graph is a DAG.\n *    2. Each node in the graph has a \"rank\" property.\n *\n * Post-condition:\n *\n *    1. All edges in the graph have a length of 1.\n *    2. Dummy nodes are added where edges have been split into segments.\n *    3. The graph is augmented with a \"dummyChains\" attribute which contains\n *       the first dummy in each chain of dummy nodes produced.\n */\nfunction run(g) {\n  g.graph().dummyChains = [];\n  _.forEach(g.edges(), function (edge) {\n    normalizeEdge(g, edge);\n  });\n}\nfunction normalizeEdge(g, e) {\n  var v = e.v;\n  var vRank = g.node(v).rank;\n  var w = e.w;\n  var wRank = g.node(w).rank;\n  var name = e.name;\n  var edgeLabel = g.edge(e);\n  var labelRank = edgeLabel.labelRank;\n  if (wRank === vRank + 1) return;\n  g.removeEdge(e);\n  var dummy, attrs, i;\n  for (i = 0, ++vRank; vRank < wRank; ++i, ++vRank) {\n    edgeLabel.points = [];\n    attrs = {\n      width: 0,\n      height: 0,\n      edgeLabel: edgeLabel,\n      edgeObj: e,\n      rank: vRank\n    };\n    dummy = util.addDummyNode(g, 'edge', attrs, '_d');\n    if (vRank === labelRank) {\n      attrs.width = edgeLabel.width;\n      attrs.height = edgeLabel.height;\n      // @ts-expect-error\n      attrs.dummy = 'edge-label';\n      // @ts-expect-error\n      attrs.labelpos = edgeLabel.labelpos;\n    }\n    g.setEdge(v, dummy, {\n      weight: edgeLabel.weight\n    }, name);\n    if (i === 0) {\n      g.graph().dummyChains.push(dummy);\n    }\n    v = dummy;\n  }\n  g.setEdge(v, w, {\n    weight: edgeLabel.weight\n  }, name);\n}\nfunction undo(g) {\n  _.forEach(g.graph().dummyChains, function (v) {\n    var node = g.node(v);\n    var origLabel = node.edgeLabel;\n    var w;\n    g.setEdge(node.edgeObj, origLabel);\n    while (node.dummy) {\n      w = g.successors(v)[0];\n      g.removeNode(v);\n      origLabel.points.push({\n        x: node.x,\n        y: node.y\n      });\n      if (node.dummy === 'edge-label') {\n        origLabel.x = node.x;\n        origLabel.y = node.y;\n        origLabel.width = node.width;\n        origLabel.height = node.height;\n      }\n      v = w;\n      node = g.node(v);\n    }\n  });\n}","import baseExtremum from './_baseExtremum.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseLt from './_baseLt.js';\n\n/**\n * This method is like `_.min` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * // The `_.property` iteratee shorthand.\n * _.minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nfunction minBy(array, iteratee) {\n  return array && array.length ? baseExtremum(array, baseIteratee(iteratee, 2), baseLt) : undefined;\n}\nexport default minBy;","import * as _ from 'lodash-es';\nexport { longestPath, slack };\n\n/*\n * Initializes ranks for the input graph using the longest path algorithm. This\n * algorithm scales well and is fast in practice, it yields rather poor\n * solutions. Nodes are pushed to the lowest layer possible, leaving the bottom\n * ranks wide and leaving edges longer than necessary. However, due to its\n * speed, this algorithm is good for getting an initial ranking that can be fed\n * into other algorithms.\n *\n * This algorithm does not normalize layers because it will be used by other\n * algorithms in most cases. If using this algorithm directly, be sure to\n * run normalize at the end.\n *\n * Pre-conditions:\n *\n *    1. Input graph is a DAG.\n *    2. Input graph node labels can be assigned properties.\n *\n * Post-conditions:\n *\n *    1. Each node will be assign an (unnormalized) \"rank\" property.\n */\nfunction longestPath(g) {\n  var visited = {};\n  function dfs(v) {\n    var label = g.node(v);\n    if (_.has(visited, v)) {\n      return label.rank;\n    }\n    visited[v] = true;\n    var rank = _.min(_.map(g.outEdges(v), function (e) {\n      return dfs(e.w) - g.edge(e).minlen;\n    }));\n    if (rank === Number.POSITIVE_INFINITY ||\n    // return value of _.map([]) for Lodash 3\n    rank === undefined ||\n    // return value of _.map([]) for Lodash 4\n    rank === null) {\n      // return value of _.map([null])\n      rank = 0;\n    }\n    return label.rank = rank;\n  }\n  _.forEach(g.sources(), dfs);\n}\n\n/*\n * Returns the amount of slack for the given edge. The slack is defined as the\n * difference between the length of the edge and its minimum length.\n */\nfunction slack(g, e) {\n  return g.node(e.w).rank - g.node(e.v).rank - g.edge(e).minlen;\n}","import * as _ from 'lodash-es';\nimport { Graph } from '../../graphlib/index.js';\nimport { slack } from './util.js';\nexport { feasibleTree };\n\n/*\n * Constructs a spanning tree with tight edges and adjusted the input node's\n * ranks to achieve this. A tight edge is one that is has a length that matches\n * its \"minlen\" attribute.\n *\n * The basic structure for this function is derived from Gansner, et al., \"A\n * Technique for Drawing Directed Graphs.\"\n *\n * Pre-conditions:\n *\n *    1. Graph must be a DAG.\n *    2. Graph must be connected.\n *    3. Graph must have at least one node.\n *    5. Graph nodes must have been previously assigned a \"rank\" property that\n *       respects the \"minlen\" property of incident edges.\n *    6. Graph edges must have a \"minlen\" property.\n *\n * Post-conditions:\n *\n *    - Graph nodes will have their rank adjusted to ensure that all edges are\n *      tight.\n *\n * Returns a tree (undirected graph) that is constructed using only \"tight\"\n * edges.\n */\nfunction feasibleTree(g) {\n  var t = new Graph({\n    directed: false\n  });\n\n  // Choose arbitrary node from which to start our tree\n  var start = g.nodes()[0];\n  var size = g.nodeCount();\n  t.setNode(start, {});\n  var edge, delta;\n  while (tightTree(t, g) < size) {\n    edge = findMinSlackEdge(t, g);\n    delta = t.hasNode(edge.v) ? slack(g, edge) : -slack(g, edge);\n    shiftRanks(t, g, delta);\n  }\n  return t;\n}\n\n/*\n * Finds a maximal tree of tight edges and returns the number of nodes in the\n * tree.\n */\nfunction tightTree(t, g) {\n  function dfs(v) {\n    _.forEach(g.nodeEdges(v), function (e) {\n      var edgeV = e.v,\n        w = v === edgeV ? e.w : edgeV;\n      if (!t.hasNode(w) && !slack(g, e)) {\n        t.setNode(w, {});\n        t.setEdge(v, w, {});\n        dfs(w);\n      }\n    });\n  }\n  _.forEach(t.nodes(), dfs);\n  return t.nodeCount();\n}\n\n/*\n * Finds the edge with the smallest slack that is incident on tree and returns\n * it.\n */\nfunction findMinSlackEdge(t, g) {\n  return _.minBy(g.edges(), function (e) {\n    if (t.hasNode(e.v) !== t.hasNode(e.w)) {\n      return slack(g, e);\n    }\n  });\n}\nfunction shiftRanks(t, g, delta) {\n  _.forEach(t.nodes(), function (v) {\n    g.node(v).rank += delta;\n  });\n}","import baseIteratee from './_baseIteratee.js';\nimport isArrayLike from './isArrayLike.js';\nimport keys from './keys.js';\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function (collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function (key) {\n        return iteratee(iterable[key], key, iterable);\n      };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\nexport default createFind;","import toFinite from './toFinite.js';\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n    remainder = result % 1;\n  return result === result ? remainder ? result - remainder : result : 0;\n}\nexport default toInteger;","import baseFindIndex from './_baseFindIndex.js';\nimport baseIteratee from './_baseIteratee.js';\nimport toInteger from './toInteger.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\nexport default findIndex;","import createFind from './_createFind.js';\nimport findIndex from './findIndex.js';\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\nexport default find;","import * as _ from 'lodash-es';\nimport { PriorityQueue } from '../data/priority-queue.js';\nexport { dijkstra };\nvar DEFAULT_WEIGHT_FUNC = _.constant(1);\nfunction dijkstra(g, source, weightFn, edgeFn) {\n  return runDijkstra(g, String(source), weightFn || DEFAULT_WEIGHT_FUNC, edgeFn || function (v) {\n    return g.outEdges(v);\n  });\n}\nfunction runDijkstra(g, source, weightFn, edgeFn) {\n  var results = {};\n  var pq = new PriorityQueue();\n  var v, vEntry;\n  var updateNeighbors = function (edge) {\n    var w = edge.v !== v ? edge.v : edge.w;\n    var wEntry = results[w];\n    var weight = weightFn(edge);\n    var distance = vEntry.distance + weight;\n    if (weight < 0) {\n      throw new Error('dijkstra does not allow negative edge weights. ' + 'Bad edge: ' + edge + ' Weight: ' + weight);\n    }\n    if (distance < wEntry.distance) {\n      wEntry.distance = distance;\n      wEntry.predecessor = v;\n      pq.decrease(w, distance);\n    }\n  };\n  g.nodes().forEach(function (v) {\n    var distance = v === source ? 0 : Number.POSITIVE_INFINITY;\n    results[v] = {\n      distance: distance\n    };\n    pq.add(v, distance);\n  });\n  while (pq.size() > 0) {\n    v = pq.removeMin();\n    vEntry = results[v];\n    if (vEntry.distance === Number.POSITIVE_INFINITY) {\n      break;\n    }\n    edgeFn(v).forEach(updateNeighbors);\n  }\n  return results;\n}","import * as _ from 'lodash-es';\nexport { floydWarshall };\nvar DEFAULT_WEIGHT_FUNC = _.constant(1);\nfunction floydWarshall(g, weightFn, edgeFn) {\n  return runFloydWarshall(g, weightFn || DEFAULT_WEIGHT_FUNC, edgeFn || function (v) {\n    return g.outEdges(v);\n  });\n}\nfunction runFloydWarshall(g, weightFn, edgeFn) {\n  var results = {};\n  var nodes = g.nodes();\n  nodes.forEach(function (v) {\n    results[v] = {};\n    results[v][v] = {\n      distance: 0\n    };\n    nodes.forEach(function (w) {\n      if (v !== w) {\n        results[v][w] = {\n          distance: Number.POSITIVE_INFINITY\n        };\n      }\n    });\n    edgeFn(v).forEach(function (edge) {\n      var w = edge.v === v ? edge.w : edge.v;\n      var d = weightFn(edge);\n      results[v][w] = {\n        distance: d,\n        predecessor: v\n      };\n    });\n  });\n  nodes.forEach(function (k) {\n    var rowK = results[k];\n    nodes.forEach(function (i) {\n      var rowI = results[i];\n      nodes.forEach(function (j) {\n        var ik = rowI[k];\n        var kj = rowK[j];\n        var ij = rowI[j];\n        var altDistance = ik.distance + kj.distance;\n        if (altDistance < ij.distance) {\n          ij.distance = altDistance;\n          ij.predecessor = kj.predecessor;\n        }\n      });\n    });\n  });\n  return results;\n}","import baseProperty from './_baseProperty.js';\n\n/**\n * Gets the size of an ASCII `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nvar asciiSize = baseProperty('length');\nexport default asciiSize;","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n  rsComboMarksRange = '\\\\u0300-\\\\u036f',\n  reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n  rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n  rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n  rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\nexport default hasUnicode;","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n  rsComboMarksRange = '\\\\u0300-\\\\u036f',\n  reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n  rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n  rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n  rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n  rsCombo = '[' + rsComboRange + ']',\n  rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n  rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n  rsNonAstral = '[^' + rsAstralRange + ']',\n  rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n  rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n  rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n  rsOptVar = '[' + rsVarRange + ']?',\n  rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n  rsSeq = rsOptVar + reOptMod + rsOptJoin,\n  rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Gets the size of a Unicode `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nfunction unicodeSize(string) {\n  var result = reUnicode.lastIndex = 0;\n  while (reUnicode.test(string)) {\n    ++result;\n  }\n  return result;\n}\nexport default unicodeSize;","import * as _ from 'lodash-es';\nexport { topsort, CycleException };\ntopsort.CycleException = CycleException;\nfunction topsort(g) {\n  var visited = {};\n  var stack = {};\n  var results = [];\n  function visit(node) {\n    if (_.has(stack, node)) {\n      throw new CycleException();\n    }\n    if (!_.has(visited, node)) {\n      stack[node] = true;\n      visited[node] = true;\n      _.each(g.predecessors(node), visit);\n      delete stack[node];\n      results.push(node);\n    }\n  }\n  _.each(g.sinks(), visit);\n  if (_.size(visited) !== g.nodeCount()) {\n    throw new CycleException();\n  }\n  return results;\n}\nfunction CycleException() {}\nCycleException.prototype = new Error(); // must be an instance of Error to pass testing","import * as _ from 'lodash-es';\nexport { dfs };\n\n/*\n * A helper that preforms a pre- or post-order traversal on the input graph\n * and returns the nodes in the order they were visited. If the graph is\n * undirected then this algorithm will navigate using neighbors. If the graph\n * is directed then this algorithm will navigate using successors.\n *\n * Order must be one of \"pre\" or \"post\".\n */\nfunction dfs(g, vs, order) {\n  if (!_.isArray(vs)) {\n    vs = [vs];\n  }\n  var navigation = (g.isDirected() ? g.successors : g.neighbors).bind(g);\n  var acc = [];\n  var visited = {};\n  _.each(vs, function (v) {\n    if (!g.hasNode(v)) {\n      throw new Error('Graph does not have node: ' + v);\n    }\n    doDfs(g, v, order === 'post', visited, navigation, acc);\n  });\n  return acc;\n}\nfunction doDfs(g, v, postorder, visited, navigation, acc) {\n  if (!_.has(visited, v)) {\n    visited[v] = true;\n    if (!postorder) {\n      acc.push(v);\n    }\n    _.each(navigation(v), function (w) {\n      doDfs(g, w, postorder, visited, navigation, acc);\n    });\n    if (postorder) {\n      acc.push(v);\n    }\n  }\n}","import * as _ from 'lodash-es';\nimport * as alg from '../../graphlib/alg/index.js';\nimport { simplify } from '../util.js';\nimport { feasibleTree } from './feasible-tree.js';\nimport { longestPath, slack } from './util.js';\nexport { networkSimplex };\n\n// Expose some internals for testing purposes\nnetworkSimplex.initLowLimValues = initLowLimValues;\nnetworkSimplex.initCutValues = initCutValues;\nnetworkSimplex.calcCutValue = calcCutValue;\nnetworkSimplex.leaveEdge = leaveEdge;\nnetworkSimplex.enterEdge = enterEdge;\nnetworkSimplex.exchangeEdges = exchangeEdges;\n\n/*\n * The network simplex algorithm assigns ranks to each node in the input graph\n * and iteratively improves the ranking to reduce the length of edges.\n *\n * Preconditions:\n *\n *    1. The input graph must be a DAG.\n *    2. All nodes in the graph must have an object value.\n *    3. All edges in the graph must have \"minlen\" and \"weight\" attributes.\n *\n * Postconditions:\n *\n *    1. All nodes in the graph will have an assigned \"rank\" attribute that has\n *       been optimized by the network simplex algorithm. Ranks start at 0.\n *\n *\n * A rough sketch of the algorithm is as follows:\n *\n *    1. Assign initial ranks to each node. We use the longest path algorithm,\n *       which assigns ranks to the lowest position possible. In general this\n *       leads to very wide bottom ranks and unnecessarily long edges.\n *    2. Construct a feasible tight tree. A tight tree is one such that all\n *       edges in the tree have no slack (difference between length of edge\n *       and minlen for the edge). This by itself greatly improves the assigned\n *       rankings by shorting edges.\n *    3. Iteratively find edges that have negative cut values. Generally a\n *       negative cut value indicates that the edge could be removed and a new\n *       tree edge could be added to produce a more compact graph.\n *\n * Much of the algorithms here are derived from Gansner, et al., \"A Technique\n * for Drawing Directed Graphs.\" The structure of the file roughly follows the\n * structure of the overall algorithm.\n */\nfunction networkSimplex(g) {\n  g = simplify(g);\n  longestPath(g);\n  var t = feasibleTree(g);\n  initLowLimValues(t);\n  initCutValues(t, g);\n  var e, f;\n  while (e = leaveEdge(t)) {\n    f = enterEdge(t, g, e);\n    exchangeEdges(t, g, e, f);\n  }\n}\n\n/*\n * Initializes cut values for all edges in the tree.\n */\nfunction initCutValues(t, g) {\n  var vs = alg.postorder(t, t.nodes());\n  vs = vs.slice(0, vs.length - 1);\n  _.forEach(vs, function (v) {\n    assignCutValue(t, g, v);\n  });\n}\nfunction assignCutValue(t, g, child) {\n  var childLab = t.node(child);\n  var parent = childLab.parent;\n  t.edge(child, parent).cutvalue = calcCutValue(t, g, child);\n}\n\n/*\n * Given the tight tree, its graph, and a child in the graph calculate and\n * return the cut value for the edge between the child and its parent.\n */\nfunction calcCutValue(t, g, child) {\n  var childLab = t.node(child);\n  var parent = childLab.parent;\n  // True if the child is on the tail end of the edge in the directed graph\n  var childIsTail = true;\n  // The graph's view of the tree edge we're inspecting\n  var graphEdge = g.edge(child, parent);\n  // The accumulated cut value for the edge between this node and its parent\n  var cutValue = 0;\n  if (!graphEdge) {\n    childIsTail = false;\n    graphEdge = g.edge(parent, child);\n  }\n  cutValue = graphEdge.weight;\n  _.forEach(g.nodeEdges(child), function (e) {\n    var isOutEdge = e.v === child,\n      other = isOutEdge ? e.w : e.v;\n    if (other !== parent) {\n      var pointsToHead = isOutEdge === childIsTail,\n        otherWeight = g.edge(e).weight;\n      cutValue += pointsToHead ? otherWeight : -otherWeight;\n      if (isTreeEdge(t, child, other)) {\n        var otherCutValue = t.edge(child, other).cutvalue;\n        cutValue += pointsToHead ? -otherCutValue : otherCutValue;\n      }\n    }\n  });\n  return cutValue;\n}\nfunction initLowLimValues(tree, root) {\n  if (arguments.length < 2) {\n    root = tree.nodes()[0];\n  }\n  dfsAssignLowLim(tree, {}, 1, root);\n}\nfunction dfsAssignLowLim(tree, visited, nextLim, v, parent) {\n  var low = nextLim;\n  var label = tree.node(v);\n  visited[v] = true;\n  _.forEach(tree.neighbors(v), function (w) {\n    if (!_.has(visited, w)) {\n      nextLim = dfsAssignLowLim(tree, visited, nextLim, w, v);\n    }\n  });\n  label.low = low;\n  label.lim = nextLim++;\n  if (parent) {\n    label.parent = parent;\n  } else {\n    // TODO should be able to remove this when we incrementally update low lim\n    delete label.parent;\n  }\n  return nextLim;\n}\nfunction leaveEdge(tree) {\n  return _.find(tree.edges(), function (e) {\n    return tree.edge(e).cutvalue < 0;\n  });\n}\nfunction enterEdge(t, g, edge) {\n  var v = edge.v;\n  var w = edge.w;\n\n  // For the rest of this function we assume that v is the tail and w is the\n  // head, so if we don't have this edge in the graph we should flip it to\n  // match the correct orientation.\n  if (!g.hasEdge(v, w)) {\n    v = edge.w;\n    w = edge.v;\n  }\n  var vLabel = t.node(v);\n  var wLabel = t.node(w);\n  var tailLabel = vLabel;\n  var flip = false;\n\n  // If the root is in the tail of the edge then we need to flip the logic that\n  // checks for the head and tail nodes in the candidates function below.\n  if (vLabel.lim > wLabel.lim) {\n    tailLabel = wLabel;\n    flip = true;\n  }\n  var candidates = _.filter(g.edges(), function (edge) {\n    return flip === isDescendant(t, t.node(edge.v), tailLabel) && flip !== isDescendant(t, t.node(edge.w), tailLabel);\n  });\n  return _.minBy(candidates, function (edge) {\n    return slack(g, edge);\n  });\n}\nfunction exchangeEdges(t, g, e, f) {\n  var v = e.v;\n  var w = e.w;\n  t.removeEdge(v, w);\n  t.setEdge(f.v, f.w, {});\n  initLowLimValues(t);\n  initCutValues(t, g);\n  updateRanks(t, g);\n}\nfunction updateRanks(t, g) {\n  var root = _.find(t.nodes(), function (v) {\n    return !g.node(v).parent;\n  });\n  var vs = alg.preorder(t, root);\n  vs = vs.slice(1);\n  _.forEach(vs, function (v) {\n    var parent = t.node(v).parent,\n      edge = g.edge(v, parent),\n      flipped = false;\n    if (!edge) {\n      edge = g.edge(parent, v);\n      flipped = true;\n    }\n    g.node(v).rank = g.node(parent).rank + (flipped ? edge.minlen : -edge.minlen);\n  });\n}\n\n/*\n * Returns true if the edge is in the tree.\n */\nfunction isTreeEdge(tree, u, v) {\n  return tree.hasEdge(u, v);\n}\n\n/*\n * Returns true if the specified node is descendant of the root node per the\n * assigned low and lim attributes in the tree.\n */\nfunction isDescendant(tree, vLabel, rootLabel) {\n  return rootLabel.low <= vLabel.lim && vLabel.lim <= rootLabel.lim;\n}","import { dfs } from './dfs.js';\nexport { postorder };\nfunction postorder(g, vs) {\n  return dfs(g, vs, 'post');\n}","import { dfs } from './dfs.js';\nexport { preorder };\nfunction preorder(g, vs) {\n  return dfs(g, vs, 'pre');\n}","import { feasibleTree } from './feasible-tree.js';\nimport { networkSimplex } from './network-simplex.js';\nimport { longestPath } from './util.js';\nexport { rank };\n\n/*\n * Assigns a rank to each node in the input graph that respects the \"minlen\"\n * constraint specified on edges between nodes.\n *\n * This basic structure is derived from Gansner, et al., \"A Technique for\n * Drawing Directed Graphs.\"\n *\n * Pre-conditions:\n *\n *    1. Graph must be a connected DAG\n *    2. Graph nodes must be objects\n *    3. Graph edges must have \"weight\" and \"minlen\" attributes\n *\n * Post-conditions:\n *\n *    1. Graph nodes will have a \"rank\" attribute based on the results of the\n *       algorithm. Ranks can start at any index (including negative), we'll\n *       fix them up later.\n */\nfunction rank(g) {\n  switch (g.graph().ranker) {\n    case 'network-simplex':\n      networkSimplexRanker(g);\n      break;\n    case 'tight-tree':\n      tightTreeRanker(g);\n      break;\n    case 'longest-path':\n      longestPathRanker(g);\n      break;\n    default:\n      networkSimplexRanker(g);\n  }\n}\n\n// A fast and simple ranker, but results are far from optimal.\nvar longestPathRanker = longestPath;\nfunction tightTreeRanker(g) {\n  longestPath(g);\n  feasibleTree(g);\n}\nfunction networkSimplexRanker(g) {\n  networkSimplex(g);\n}","import * as _ from 'lodash-es';\nimport * as util from './util.js';\nexport { run, cleanup };\n\n/*\n * A nesting graph creates dummy nodes for the tops and bottoms of subgraphs,\n * adds appropriate edges to ensure that all cluster nodes are placed between\n * these boundries, and ensures that the graph is connected.\n *\n * In addition we ensure, through the use of the minlen property, that nodes\n * and subgraph border nodes to not end up on the same rank.\n *\n * Preconditions:\n *\n *    1. Input graph is a DAG\n *    2. Nodes in the input graph has a minlen attribute\n *\n * Postconditions:\n *\n *    1. Input graph is connected.\n *    2. Dummy nodes are added for the tops and bottoms of subgraphs.\n *    3. The minlen attribute for nodes is adjusted to ensure nodes do not\n *       get placed on the same rank as subgraph border nodes.\n *\n * The nesting graph idea comes from Sander, \"Layout of Compound Directed\n * Graphs.\"\n */\nfunction run(g) {\n  var root = util.addDummyNode(g, 'root', {}, '_root');\n  var depths = treeDepths(g);\n  var height = _.max(_.values(depths)) - 1; // Note: depths is an Object not an array\n  var nodeSep = 2 * height + 1;\n  g.graph().nestingRoot = root;\n\n  // Multiply minlen by nodeSep to align nodes on non-border ranks.\n  _.forEach(g.edges(), function (e) {\n    g.edge(e).minlen *= nodeSep;\n  });\n\n  // Calculate a weight that is sufficient to keep subgraphs vertically compact\n  var weight = sumWeights(g) + 1;\n\n  // Create border nodes and link them up\n  _.forEach(g.children(), function (child) {\n    dfs(g, root, nodeSep, weight, height, depths, child);\n  });\n\n  // Save the multiplier for node layers for later removal of empty border\n  // layers.\n  g.graph().nodeRankFactor = nodeSep;\n}\nfunction dfs(g, root, nodeSep, weight, height, depths, v) {\n  var children = g.children(v);\n  if (!children.length) {\n    if (v !== root) {\n      g.setEdge(root, v, {\n        weight: 0,\n        minlen: nodeSep\n      });\n    }\n    return;\n  }\n  var top = util.addBorderNode(g, '_bt');\n  var bottom = util.addBorderNode(g, '_bb');\n  var label = g.node(v);\n  g.setParent(top, v);\n  label.borderTop = top;\n  g.setParent(bottom, v);\n  label.borderBottom = bottom;\n  _.forEach(children, function (child) {\n    dfs(g, root, nodeSep, weight, height, depths, child);\n    var childNode = g.node(child);\n    var childTop = childNode.borderTop ? childNode.borderTop : child;\n    var childBottom = childNode.borderBottom ? childNode.borderBottom : child;\n    var thisWeight = childNode.borderTop ? weight : 2 * weight;\n    var minlen = childTop !== childBottom ? 1 : height - depths[v] + 1;\n    g.setEdge(top, childTop, {\n      weight: thisWeight,\n      minlen: minlen,\n      nestingEdge: true\n    });\n    g.setEdge(childBottom, bottom, {\n      weight: thisWeight,\n      minlen: minlen,\n      nestingEdge: true\n    });\n  });\n  if (!g.parent(v)) {\n    g.setEdge(root, top, {\n      weight: 0,\n      minlen: height + depths[v]\n    });\n  }\n}\nfunction treeDepths(g) {\n  var depths = {};\n  function dfs(v, depth) {\n    var children = g.children(v);\n    if (children && children.length) {\n      _.forEach(children, function (child) {\n        dfs(child, depth + 1);\n      });\n    }\n    depths[v] = depth;\n  }\n  _.forEach(g.children(), function (v) {\n    dfs(v, 1);\n  });\n  return depths;\n}\nfunction sumWeights(g) {\n  return _.reduce(g.edges(), function (acc, e) {\n    return acc + g.edge(e).weight;\n  }, 0);\n}\nfunction cleanup(g) {\n  var graphLabel = g.graph();\n  g.removeNode(graphLabel.nestingRoot);\n  delete graphLabel.nestingRoot;\n  _.forEach(g.edges(), function (e) {\n    var edge = g.edge(e);\n    if (edge.nestingEdge) {\n      g.removeEdge(e);\n    }\n  });\n}","import baseClone from './_baseClone.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n  CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\nexport default cloneDeep;","import * as _ from 'lodash-es';\nimport { Graph } from '../../graphlib/index.js';\nexport { buildLayerGraph };\n\n/*\n * Constructs a graph that can be used to sort a layer of nodes. The graph will\n * contain all base and subgraph nodes from the request layer in their original\n * hierarchy and any edges that are incident on these nodes and are of the type\n * requested by the \"relationship\" parameter.\n *\n * Nodes from the requested rank that do not have parents are assigned a root\n * node in the output graph, which is set in the root graph attribute. This\n * makes it easy to walk the hierarchy of movable nodes during ordering.\n *\n * Pre-conditions:\n *\n *    1. Input graph is a DAG\n *    2. Base nodes in the input graph have a rank attribute\n *    3. Subgraph nodes in the input graph has minRank and maxRank attributes\n *    4. Edges have an assigned weight\n *\n * Post-conditions:\n *\n *    1. Output graph has all nodes in the movable rank with preserved\n *       hierarchy.\n *    2. Root nodes in the movable layer are made children of the node\n *       indicated by the root attribute of the graph.\n *    3. Non-movable nodes incident on movable nodes, selected by the\n *       relationship parameter, are included in the graph (without hierarchy).\n *    4. Edges incident on movable nodes, selected by the relationship\n *       parameter, are added to the output graph.\n *    5. The weights for copied edges are aggregated as need, since the output\n *       graph is not a multi-graph.\n */\nfunction buildLayerGraph(g, rank, relationship) {\n  var root = createRootNode(g),\n    result = new Graph({\n      compound: true\n    }).setGraph({\n      root: root\n    }).setDefaultNodeLabel(function (v) {\n      return g.node(v);\n    });\n  _.forEach(g.nodes(), function (v) {\n    var node = g.node(v),\n      parent = g.parent(v);\n    if (node.rank === rank || node.minRank <= rank && rank <= node.maxRank) {\n      result.setNode(v);\n      result.setParent(v, parent || root);\n\n      // This assumes we have only short edges!\n      _.forEach(g[relationship](v), function (e) {\n        var u = e.v === v ? e.w : e.v,\n          edge = result.edge(u, v),\n          weight = !_.isUndefined(edge) ? edge.weight : 0;\n        result.setEdge(u, v, {\n          weight: g.edge(e).weight + weight\n        });\n      });\n      if (_.has(node, 'minRank')) {\n        result.setNode(v, {\n          borderLeft: node.borderLeft[rank],\n          borderRight: node.borderRight[rank]\n        });\n      }\n    }\n  });\n  return result;\n}\nfunction createRootNode(g) {\n  var v;\n  while (g.hasNode(v = _.uniqueId('_root')));\n  return v;\n}","/**\n * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n *\n * @private\n * @param {Array} props The property identifiers.\n * @param {Array} values The property values.\n * @param {Function} assignFunc The function to assign values.\n * @returns {Object} Returns the new object.\n */\nfunction baseZipObject(props, values, assignFunc) {\n  var index = -1,\n    length = props.length,\n    valsLength = values.length,\n    result = {};\n  while (++index < length) {\n    var value = index < valsLength ? values[index] : undefined;\n    assignFunc(result, props[index], value);\n  }\n  return result;\n}\nexport default baseZipObject;","import assignValue from './_assignValue.js';\nimport baseZipObject from './_baseZipObject.js';\n\n/**\n * This method is like `_.fromPairs` except that it accepts two arrays,\n * one of property identifiers and one of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 0.4.0\n * @category Array\n * @param {Array} [props=[]] The property identifiers.\n * @param {Array} [values=[]] The property values.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.zipObject(['a', 'b'], [1, 2]);\n * // => { 'a': 1, 'b': 2 }\n */\nfunction zipObject(props, values) {\n  return baseZipObject(props || [], values || [], assignValue);\n}\nexport default zipObject;","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\nexport default baseSortBy;","import isSymbol from './isSymbol.js';\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n      valIsNull = value === null,\n      valIsReflexive = value === value,\n      valIsSymbol = isSymbol(value);\n    var othIsDefined = other !== undefined,\n      othIsNull = other === null,\n      othIsReflexive = other === other,\n      othIsSymbol = isSymbol(other);\n    if (!othIsNull && !othIsSymbol && !valIsSymbol && value > other || valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol || valIsNull && othIsDefined && othIsReflexive || !valIsDefined && othIsReflexive || !valIsReflexive) {\n      return 1;\n    }\n    if (!valIsNull && !valIsSymbol && !othIsSymbol && value < other || othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol || othIsNull && valIsDefined && valIsReflexive || !othIsDefined && valIsReflexive || !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\nexport default compareAscending;","import compareAscending from './_compareAscending.js';\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n    objCriteria = object.criteria,\n    othCriteria = other.criteria,\n    length = objCriteria.length,\n    ordersLength = orders.length;\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\nexport default compareMultiple;","import arrayMap from './_arrayMap.js';\nimport baseGet from './_baseGet.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseMap from './_baseMap.js';\nimport baseSortBy from './_baseSortBy.js';\nimport baseUnary from './_baseUnary.js';\nimport compareMultiple from './_compareMultiple.js';\nimport identity from './identity.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  if (iteratees.length) {\n    iteratees = arrayMap(iteratees, function (iteratee) {\n      if (isArray(iteratee)) {\n        return function (value) {\n          return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n        };\n      }\n      return iteratee;\n    });\n  } else {\n    iteratees = [identity];\n  }\n  var index = -1;\n  iteratees = arrayMap(iteratees, baseUnary(baseIteratee));\n  var result = baseMap(collection, function (value, key, collection) {\n    var criteria = arrayMap(iteratees, function (iteratee) {\n      return iteratee(value);\n    });\n    return {\n      'criteria': criteria,\n      'index': ++index,\n      'value': value\n    };\n  });\n  return baseSortBy(result, function (object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\nexport default baseOrderBy;","import baseFlatten from './_baseFlatten.js';\nimport baseOrderBy from './_baseOrderBy.js';\nimport baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 30 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, [function(o) { return o.user; }]);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n */\nvar sortBy = baseRest(function (collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\nexport default sortBy;","import * as _ from 'lodash-es';\nexport { crossCount };\n\n/*\n * A function that takes a layering (an array of layers, each with an array of\n * ordererd nodes) and a graph and returns a weighted crossing count.\n *\n * Pre-conditions:\n *\n *    1. Input graph must be simple (not a multigraph), directed, and include\n *       only simple edges.\n *    2. Edges in the input graph must have assigned weights.\n *\n * Post-conditions:\n *\n *    1. The graph and layering matrix are left unchanged.\n *\n * This algorithm is derived from Barth, et al., \"Bilayer Cross Counting.\"\n */\nfunction crossCount(g, layering) {\n  var cc = 0;\n  for (var i = 1; i < layering.length; ++i) {\n    cc += twoLayerCrossCount(g, layering[i - 1], layering[i]);\n  }\n  return cc;\n}\nfunction twoLayerCrossCount(g, northLayer, southLayer) {\n  // Sort all of the edges between the north and south layers by their position\n  // in the north layer and then the south. Map these edges to the position of\n  // their head in the south layer.\n  var southPos = _.zipObject(southLayer, _.map(southLayer, function (v, i) {\n    return i;\n  }));\n  var southEntries = _.flatten(_.map(northLayer, function (v) {\n    return _.sortBy(_.map(g.outEdges(v), function (e) {\n      return {\n        pos: southPos[e.w],\n        weight: g.edge(e).weight\n      };\n    }), 'pos');\n  }));\n\n  // Build the accumulator tree\n  var firstIndex = 1;\n  while (firstIndex < southLayer.length) firstIndex <<= 1;\n  var treeSize = 2 * firstIndex - 1;\n  firstIndex -= 1;\n  var tree = _.map(new Array(treeSize), function () {\n    return 0;\n  });\n\n  // Calculate the weighted crossings\n  var cc = 0;\n  _.forEach(\n  // @ts-expect-error\n  southEntries.forEach(function (entry) {\n    var index = entry.pos + firstIndex;\n    tree[index] += entry.weight;\n    var weightSum = 0;\n    // @ts-expect-error\n    while (index > 0) {\n      // @ts-expect-error\n      if (index % 2) {\n        weightSum += tree[index + 1];\n      }\n      // @ts-expect-error\n      index = index - 1 >> 1;\n      tree[index] += entry.weight;\n    }\n    cc += entry.weight * weightSum;\n  }));\n  return cc;\n}","import * as _ from 'lodash-es';\nexport { resolveConflicts };\n\n/*\n * Given a list of entries of the form {v, barycenter, weight} and a\n * constraint graph this function will resolve any conflicts between the\n * constraint graph and the barycenters for the entries. If the barycenters for\n * an entry would violate a constraint in the constraint graph then we coalesce\n * the nodes in the conflict into a new node that respects the contraint and\n * aggregates barycenter and weight information.\n *\n * This implementation is based on the description in Forster, \"A Fast and\n * Simple Hueristic for Constrained Two-Level Crossing Reduction,\" thought it\n * differs in some specific details.\n *\n * Pre-conditions:\n *\n *    1. Each entry has the form {v, barycenter, weight}, or if the node has\n *       no barycenter, then {v}.\n *\n * Returns:\n *\n *    A new list of entries of the form {vs, i, barycenter, weight}. The list\n *    `vs` may either be a singleton or it may be an aggregation of nodes\n *    ordered such that they do not violate constraints from the constraint\n *    graph. The property `i` is the lowest original index of any of the\n *    elements in `vs`.\n */\nfunction resolveConflicts(entries, cg) {\n  var mappedEntries = {};\n  _.forEach(entries, function (entry, i) {\n    var tmp = mappedEntries[entry.v] = {\n      indegree: 0,\n      in: [],\n      out: [],\n      vs: [entry.v],\n      i: i\n    };\n    if (!_.isUndefined(entry.barycenter)) {\n      // @ts-expect-error\n      tmp.barycenter = entry.barycenter;\n      // @ts-expect-error\n      tmp.weight = entry.weight;\n    }\n  });\n  _.forEach(cg.edges(), function (e) {\n    var entryV = mappedEntries[e.v];\n    var entryW = mappedEntries[e.w];\n    if (!_.isUndefined(entryV) && !_.isUndefined(entryW)) {\n      entryW.indegree++;\n      entryV.out.push(mappedEntries[e.w]);\n    }\n  });\n  var sourceSet = _.filter(mappedEntries, function (entry) {\n    // @ts-expect-error\n    return !entry.indegree;\n  });\n  return doResolveConflicts(sourceSet);\n}\nfunction doResolveConflicts(sourceSet) {\n  var entries = [];\n  function handleIn(vEntry) {\n    return function (uEntry) {\n      if (uEntry.merged) {\n        return;\n      }\n      if (_.isUndefined(uEntry.barycenter) || _.isUndefined(vEntry.barycenter) || uEntry.barycenter >= vEntry.barycenter) {\n        mergeEntries(vEntry, uEntry);\n      }\n    };\n  }\n  function handleOut(vEntry) {\n    return function (wEntry) {\n      wEntry['in'].push(vEntry);\n      if (--wEntry.indegree === 0) {\n        sourceSet.push(wEntry);\n      }\n    };\n  }\n  while (sourceSet.length) {\n    var entry = sourceSet.pop();\n    entries.push(entry);\n    _.forEach(entry['in'].reverse(), handleIn(entry));\n    _.forEach(entry.out, handleOut(entry));\n  }\n  return _.map(_.filter(entries, function (entry) {\n    return !entry.merged;\n  }), function (entry) {\n    return _.pick(entry, ['vs', 'i', 'barycenter', 'weight']);\n  });\n}\nfunction mergeEntries(target, source) {\n  var sum = 0;\n  var weight = 0;\n  if (target.weight) {\n    sum += target.barycenter * target.weight;\n    weight += target.weight;\n  }\n  if (source.weight) {\n    sum += source.barycenter * source.weight;\n    weight += source.weight;\n  }\n  target.vs = source.vs.concat(target.vs);\n  target.barycenter = sum / weight;\n  target.weight = weight;\n  target.i = Math.min(source.i, target.i);\n  source.merged = true;\n}","import * as _ from 'lodash-es';\nimport * as util from '../util.js';\nexport { sort };\nfunction sort(entries, biasRight) {\n  var parts = util.partition(entries, function (entry) {\n    return _.has(entry, 'barycenter');\n  });\n  var sortable = parts.lhs,\n    unsortable = _.sortBy(parts.rhs, function (entry) {\n      return -entry.i;\n    }),\n    vs = [],\n    sum = 0,\n    weight = 0,\n    vsIndex = 0;\n  sortable.sort(compareWithBias(!!biasRight));\n  vsIndex = consumeUnsortable(vs, unsortable, vsIndex);\n  _.forEach(sortable, function (entry) {\n    vsIndex += entry.vs.length;\n    vs.push(entry.vs);\n    sum += entry.barycenter * entry.weight;\n    weight += entry.weight;\n    vsIndex = consumeUnsortable(vs, unsortable, vsIndex);\n  });\n  var result = {\n    vs: _.flatten(vs)\n  };\n  if (weight) {\n    result.barycenter = sum / weight;\n    result.weight = weight;\n  }\n  return result;\n}\nfunction consumeUnsortable(vs, unsortable, index) {\n  var last;\n  while (unsortable.length && (last = _.last(unsortable)).i <= index) {\n    unsortable.pop();\n    vs.push(last.vs);\n    index++;\n  }\n  return index;\n}\nfunction compareWithBias(bias) {\n  return function (entryV, entryW) {\n    if (entryV.barycenter < entryW.barycenter) {\n      return -1;\n    } else if (entryV.barycenter > entryW.barycenter) {\n      return 1;\n    }\n    return !bias ? entryV.i - entryW.i : entryW.i - entryV.i;\n  };\n}","import * as _ from 'lodash-es';\nimport { barycenter } from './barycenter.js';\nimport { resolveConflicts } from './resolve-conflicts.js';\nimport { sort } from './sort.js';\nexport { sortSubgraph };\nfunction sortSubgraph(g, v, cg, biasRight) {\n  var movable = g.children(v);\n  var node = g.node(v);\n  var bl = node ? node.borderLeft : undefined;\n  var br = node ? node.borderRight : undefined;\n  var subgraphs = {};\n  if (bl) {\n    movable = _.filter(movable, function (w) {\n      return w !== bl && w !== br;\n    });\n  }\n  var barycenters = barycenter(g, movable);\n  _.forEach(barycenters, function (entry) {\n    if (g.children(entry.v).length) {\n      var subgraphResult = sortSubgraph(g, entry.v, cg, biasRight);\n      subgraphs[entry.v] = subgraphResult;\n      if (_.has(subgraphResult, 'barycenter')) {\n        mergeBarycenters(entry, subgraphResult);\n      }\n    }\n  });\n  var entries = resolveConflicts(barycenters, cg);\n  expandSubgraphs(entries, subgraphs);\n  var result = sort(entries, biasRight);\n  if (bl) {\n    result.vs = _.flatten([bl, result.vs, br]);\n    if (g.predecessors(bl).length) {\n      var blPred = g.node(g.predecessors(bl)[0]),\n        brPred = g.node(g.predecessors(br)[0]);\n      if (!_.has(result, 'barycenter')) {\n        result.barycenter = 0;\n        result.weight = 0;\n      }\n      result.barycenter = (result.barycenter * result.weight + blPred.order + brPred.order) / (result.weight + 2);\n      result.weight += 2;\n    }\n  }\n  return result;\n}\nfunction expandSubgraphs(entries, subgraphs) {\n  _.forEach(entries, function (entry) {\n    entry.vs = _.flatten(entry.vs.map(function (v) {\n      if (subgraphs[v]) {\n        return subgraphs[v].vs;\n      }\n      return v;\n    }));\n  });\n}\nfunction mergeBarycenters(target, other) {\n  if (!_.isUndefined(target.barycenter)) {\n    target.barycenter = (target.barycenter * target.weight + other.barycenter * other.weight) / (target.weight + other.weight);\n    target.weight += other.weight;\n  } else {\n    target.barycenter = other.barycenter;\n    target.weight = other.weight;\n  }\n}","import * as _ from 'lodash-es';\nexport { barycenter };\nfunction barycenter(g, movable) {\n  return _.map(movable, function (v) {\n    var inV = g.inEdges(v);\n    if (!inV.length) {\n      return {\n        v: v\n      };\n    } else {\n      var result = _.reduce(inV, function (acc, e) {\n        var edge = g.edge(e),\n          nodeU = g.node(e.v);\n        return {\n          sum: acc.sum + edge.weight * nodeU.order,\n          weight: acc.weight + edge.weight\n        };\n      }, {\n        sum: 0,\n        weight: 0\n      });\n      return {\n        v: v,\n        barycenter: result.sum / result.weight,\n        weight: result.weight\n      };\n    }\n  });\n}","import * as _ from 'lodash-es';\nimport { Graph } from '../../graphlib/index.js';\nimport * as util from '../util.js';\nimport { addSubgraphConstraints } from './add-subgraph-constraints.js';\nimport { buildLayerGraph } from './build-layer-graph.js';\nimport { crossCount } from './cross-count.js';\nimport { initOrder } from './init-order.js';\nimport { sortSubgraph } from './sort-subgraph.js';\nexport { order };\n\n/*\n * Applies heuristics to minimize edge crossings in the graph and sets the best\n * order solution as an order attribute on each node.\n *\n * Pre-conditions:\n *\n *    1. Graph must be DAG\n *    2. Graph nodes must be objects with a \"rank\" attribute\n *    3. Graph edges must have the \"weight\" attribute\n *\n * Post-conditions:\n *\n *    1. Graph nodes will have an \"order\" attribute based on the results of the\n *       algorithm.\n */\nfunction order(g) {\n  var maxRank = util.maxRank(g),\n    downLayerGraphs = buildLayerGraphs(g, _.range(1, maxRank + 1), 'inEdges'),\n    upLayerGraphs = buildLayerGraphs(g, _.range(maxRank - 1, -1, -1), 'outEdges');\n  var layering = initOrder(g);\n  assignOrder(g, layering);\n  var bestCC = Number.POSITIVE_INFINITY,\n    best;\n  for (var i = 0, lastBest = 0; lastBest < 4; ++i, ++lastBest) {\n    sweepLayerGraphs(i % 2 ? downLayerGraphs : upLayerGraphs, i % 4 >= 2);\n    layering = util.buildLayerMatrix(g);\n    var cc = crossCount(g, layering);\n    if (cc < bestCC) {\n      lastBest = 0;\n      best = _.cloneDeep(layering);\n      bestCC = cc;\n    }\n  }\n  assignOrder(g, best);\n}\nfunction buildLayerGraphs(g, ranks, relationship) {\n  return _.map(ranks, function (rank) {\n    return buildLayerGraph(g, rank, relationship);\n  });\n}\nfunction sweepLayerGraphs(layerGraphs, biasRight) {\n  var cg = new Graph();\n  _.forEach(layerGraphs, function (lg) {\n    var root = lg.graph().root;\n    var sorted = sortSubgraph(lg, root, cg, biasRight);\n    _.forEach(sorted.vs, function (v, i) {\n      lg.node(v).order = i;\n    });\n    addSubgraphConstraints(lg, cg, sorted.vs);\n  });\n}\nfunction assignOrder(g, layering) {\n  _.forEach(layering, function (layer) {\n    _.forEach(layer, function (v, i) {\n      g.node(v).order = i;\n    });\n  });\n}","import * as _ from 'lodash-es';\nexport { initOrder };\n\n/*\n * Assigns an initial order value for each node by performing a DFS search\n * starting from nodes in the first rank. Nodes are assigned an order in their\n * rank as they are first visited.\n *\n * This approach comes from Gansner, et al., \"A Technique for Drawing Directed\n * Graphs.\"\n *\n * Returns a layering matrix with an array per layer and each layer sorted by\n * the order of its nodes.\n */\nfunction initOrder(g) {\n  var visited = {};\n  var simpleNodes = _.filter(g.nodes(), function (v) {\n    return !g.children(v).length;\n  });\n  var maxRank = _.max(_.map(simpleNodes, function (v) {\n    return g.node(v).rank;\n  }));\n  var layers = _.map(_.range(maxRank + 1), function () {\n    return [];\n  });\n  function dfs(v) {\n    if (_.has(visited, v)) return;\n    visited[v] = true;\n    var node = g.node(v);\n    layers[node.rank].push(v);\n    _.forEach(g.successors(v), dfs);\n  }\n  var orderedVs = _.sortBy(simpleNodes, function (v) {\n    return g.node(v).rank;\n  });\n  _.forEach(orderedVs, dfs);\n  return layers;\n}","import * as _ from 'lodash-es';\nexport { addSubgraphConstraints };\nfunction addSubgraphConstraints(g, cg, vs) {\n  var prev = {},\n    rootPrev;\n  _.forEach(vs, function (v) {\n    var child = g.parent(v),\n      parent,\n      prevChild;\n    while (child) {\n      parent = g.parent(child);\n      if (parent) {\n        prevChild = prev[parent];\n        prev[parent] = child;\n      } else {\n        prevChild = rootPrev;\n        rootPrev = child;\n      }\n      if (prevChild && prevChild !== child) {\n        cg.setEdge(prevChild, child);\n        return;\n      }\n      child = parent;\n    }\n  });\n\n  /*\n  function dfs(v) {\n    var children = v ? g.children(v) : g.children();\n    if (children.length) {\n      var min = Number.POSITIVE_INFINITY,\n          subgraphs = [];\n      _.each(children, function(child) {\n        var childMin = dfs(child);\n        if (g.children(child).length) {\n          subgraphs.push({ v: child, order: childMin });\n        }\n        min = Math.min(min, childMin);\n      });\n      _.reduce(_.sortBy(subgraphs, \"order\"), function(prev, curr) {\n        cg.setEdge(prev.v, curr.v);\n        return curr;\n      });\n      return min;\n    }\n    return g.node(v).order;\n  }\n  dfs(undefined);\n  */\n}","import * as _ from 'lodash-es';\nexport { parentDummyChains };\nfunction parentDummyChains(g) {\n  var postorderNums = postorder(g);\n  _.forEach(g.graph().dummyChains, function (v) {\n    var node = g.node(v);\n    var edgeObj = node.edgeObj;\n    var pathData = findPath(g, postorderNums, edgeObj.v, edgeObj.w);\n    var path = pathData.path;\n    var lca = pathData.lca;\n    var pathIdx = 0;\n    var pathV = path[pathIdx];\n    var ascending = true;\n    while (v !== edgeObj.w) {\n      node = g.node(v);\n      if (ascending) {\n        while ((pathV = path[pathIdx]) !== lca && g.node(pathV).maxRank < node.rank) {\n          pathIdx++;\n        }\n        if (pathV === lca) {\n          ascending = false;\n        }\n      }\n      if (!ascending) {\n        while (pathIdx < path.length - 1 && g.node(pathV = path[pathIdx + 1]).minRank <= node.rank) {\n          pathIdx++;\n        }\n        pathV = path[pathIdx];\n      }\n      g.setParent(v, pathV);\n      v = g.successors(v)[0];\n    }\n  });\n}\n\n// Find a path from v to w through the lowest common ancestor (LCA). Return the\n// full path and the LCA.\nfunction findPath(g, postorderNums, v, w) {\n  var vPath = [];\n  var wPath = [];\n  var low = Math.min(postorderNums[v].low, postorderNums[w].low);\n  var lim = Math.max(postorderNums[v].lim, postorderNums[w].lim);\n  var parent;\n  var lca;\n\n  // Traverse up from v to find the LCA\n  parent = v;\n  do {\n    parent = g.parent(parent);\n    vPath.push(parent);\n  } while (parent && (postorderNums[parent].low > low || lim > postorderNums[parent].lim));\n  lca = parent;\n\n  // Traverse from w to LCA\n  parent = w;\n  while ((parent = g.parent(parent)) !== lca) {\n    wPath.push(parent);\n  }\n  return {\n    path: vPath.concat(wPath.reverse()),\n    lca: lca\n  };\n}\nfunction postorder(g) {\n  var result = {};\n  var lim = 0;\n  function dfs(v) {\n    var low = lim;\n    _.forEach(g.children(v), dfs);\n    result[v] = {\n      low: low,\n      lim: lim++\n    };\n  }\n  _.forEach(g.children(), dfs);\n  return result;\n}","import baseForOwn from './_baseForOwn.js';\nimport castFunction from './_castFunction.js';\n\n/**\n * Iterates over own enumerable string keyed properties of an object and\n * invokes `iteratee` for each property. The iteratee is invoked with three\n * arguments: (value, key, object). Iteratee functions may exit iteration\n * early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 0.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns `object`.\n * @see _.forOwnRight\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.forOwn(new Foo, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forOwn(object, iteratee) {\n  return object && baseForOwn(object, castFunction(iteratee));\n}\nexport default forOwn;","import baseFor from './_baseFor.js';\nimport castFunction from './_castFunction.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Iterates over own and inherited enumerable string keyed properties of an\n * object and invokes `iteratee` for each property. The iteratee is invoked\n * with three arguments: (value, key, object). Iteratee functions may exit\n * iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 0.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns `object`.\n * @see _.forInRight\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.forIn(new Foo, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n */\nfunction forIn(object, iteratee) {\n  return object == null ? object : baseFor(object, castFunction(iteratee), keysIn);\n}\nexport default forIn;","import * as _ from 'lodash-es';\nimport { Graph } from '../../graphlib/index.js';\nimport * as util from '../util.js';\n\n/*\n * This module provides coordinate assignment based on Brandes and Köpf, \"Fast\n * and Simple Horizontal Coordinate Assignment.\"\n */\n\nexport { positionX, findType1Conflicts, findType2Conflicts, addConflict, hasConflict, verticalAlignment, horizontalCompaction, alignCoordinates, findSmallestWidthAlignment, balance };\n\n/*\n * Marks all edges in the graph with a type-1 conflict with the \"type1Conflict\"\n * property. A type-1 conflict is one where a non-inner segment crosses an\n * inner segment. An inner segment is an edge with both incident nodes marked\n * with the \"dummy\" property.\n *\n * This algorithm scans layer by layer, starting with the second, for type-1\n * conflicts between the current layer and the previous layer. For each layer\n * it scans the nodes from left to right until it reaches one that is incident\n * on an inner segment. It then scans predecessors to determine if they have\n * edges that cross that inner segment. At the end a final scan is done for all\n * nodes on the current rank to see if they cross the last visited inner\n * segment.\n *\n * This algorithm (safely) assumes that a dummy node will only be incident on a\n * single node in the layers being scanned.\n */\nfunction findType1Conflicts(g, layering) {\n  var conflicts = {};\n  function visitLayer(prevLayer, layer) {\n    var\n      // last visited node in the previous layer that is incident on an inner\n      // segment.\n      k0 = 0,\n      // Tracks the last node in this layer scanned for crossings with a type-1\n      // segment.\n      scanPos = 0,\n      prevLayerLength = prevLayer.length,\n      lastNode = _.last(layer);\n    _.forEach(layer, function (v, i) {\n      var w = findOtherInnerSegmentNode(g, v),\n        k1 = w ? g.node(w).order : prevLayerLength;\n      if (w || v === lastNode) {\n        _.forEach(layer.slice(scanPos, i + 1), function (scanNode) {\n          _.forEach(g.predecessors(scanNode), function (u) {\n            var uLabel = g.node(u),\n              uPos = uLabel.order;\n            if ((uPos < k0 || k1 < uPos) && !(uLabel.dummy && g.node(scanNode).dummy)) {\n              addConflict(conflicts, u, scanNode);\n            }\n          });\n        });\n        // @ts-expect-error\n        scanPos = i + 1;\n        k0 = k1;\n      }\n    });\n    return layer;\n  }\n  _.reduce(layering, visitLayer);\n  return conflicts;\n}\nfunction findType2Conflicts(g, layering) {\n  var conflicts = {};\n  function scan(south, southPos, southEnd, prevNorthBorder, nextNorthBorder) {\n    var v;\n    _.forEach(_.range(southPos, southEnd), function (i) {\n      v = south[i];\n      if (g.node(v).dummy) {\n        _.forEach(g.predecessors(v), function (u) {\n          var uNode = g.node(u);\n          if (uNode.dummy && (uNode.order < prevNorthBorder || uNode.order > nextNorthBorder)) {\n            addConflict(conflicts, u, v);\n          }\n        });\n      }\n    });\n  }\n  function visitLayer(north, south) {\n    var prevNorthPos = -1,\n      nextNorthPos,\n      southPos = 0;\n    _.forEach(south, function (v, southLookahead) {\n      if (g.node(v).dummy === 'border') {\n        var predecessors = g.predecessors(v);\n        if (predecessors.length) {\n          nextNorthPos = g.node(predecessors[0]).order;\n          scan(south, southPos, southLookahead, prevNorthPos, nextNorthPos);\n          // @ts-expect-error\n          southPos = southLookahead;\n          prevNorthPos = nextNorthPos;\n        }\n      }\n      scan(south, southPos, south.length, nextNorthPos, north.length);\n    });\n    return south;\n  }\n  _.reduce(layering, visitLayer);\n  return conflicts;\n}\nfunction findOtherInnerSegmentNode(g, v) {\n  if (g.node(v).dummy) {\n    return _.find(g.predecessors(v), function (u) {\n      return g.node(u).dummy;\n    });\n  }\n}\nfunction addConflict(conflicts, v, w) {\n  if (v > w) {\n    var tmp = v;\n    v = w;\n    w = tmp;\n  }\n  var conflictsV = conflicts[v];\n  if (!conflictsV) {\n    conflicts[v] = conflictsV = {};\n  }\n  conflictsV[w] = true;\n}\nfunction hasConflict(conflicts, v, w) {\n  if (v > w) {\n    var tmp = v;\n    v = w;\n    w = tmp;\n  }\n  return _.has(conflicts[v], w);\n}\n\n/*\n * Try to align nodes into vertical \"blocks\" where possible. This algorithm\n * attempts to align a node with one of its median neighbors. If the edge\n * connecting a neighbor is a type-1 conflict then we ignore that possibility.\n * If a previous node has already formed a block with a node after the node\n * we're trying to form a block with, we also ignore that possibility - our\n * blocks would be split in that scenario.\n */\nfunction verticalAlignment(g, layering, conflicts, neighborFn) {\n  var root = {},\n    align = {},\n    pos = {};\n\n  // We cache the position here based on the layering because the graph and\n  // layering may be out of sync. The layering matrix is manipulated to\n  // generate different extreme alignments.\n  _.forEach(layering, function (layer) {\n    _.forEach(layer, function (v, order) {\n      root[v] = v;\n      align[v] = v;\n      pos[v] = order;\n    });\n  });\n  _.forEach(layering, function (layer) {\n    var prevIdx = -1;\n    _.forEach(layer, function (v) {\n      var ws = neighborFn(v);\n      if (ws.length) {\n        ws = _.sortBy(ws, function (w) {\n          return pos[w];\n        });\n        var mp = (ws.length - 1) / 2;\n        for (var i = Math.floor(mp), il = Math.ceil(mp); i <= il; ++i) {\n          var w = ws[i];\n          if (align[v] === v && prevIdx < pos[w] && !hasConflict(conflicts, v, w)) {\n            align[w] = v;\n            align[v] = root[v] = root[w];\n            prevIdx = pos[w];\n          }\n        }\n      }\n    });\n  });\n  return {\n    root: root,\n    align: align\n  };\n}\nfunction horizontalCompaction(g, layering, root, align, reverseSep) {\n  // This portion of the algorithm differs from BK due to a number of problems.\n  // Instead of their algorithm we construct a new block graph and do two\n  // sweeps. The first sweep places blocks with the smallest possible\n  // coordinates. The second sweep removes unused space by moving blocks to the\n  // greatest coordinates without violating separation.\n  var xs = {},\n    blockG = buildBlockGraph(g, layering, root, reverseSep),\n    borderType = reverseSep ? 'borderLeft' : 'borderRight';\n  function iterate(setXsFunc, nextNodesFunc) {\n    var stack = blockG.nodes();\n    var elem = stack.pop();\n    var visited = {};\n    while (elem) {\n      if (visited[elem]) {\n        setXsFunc(elem);\n      } else {\n        visited[elem] = true;\n        stack.push(elem);\n        stack = stack.concat(nextNodesFunc(elem));\n      }\n      elem = stack.pop();\n    }\n  }\n\n  // First pass, assign smallest coordinates\n  function pass1(elem) {\n    xs[elem] = blockG.inEdges(elem).reduce(function (acc, e) {\n      return Math.max(acc, xs[e.v] + blockG.edge(e));\n    }, 0);\n  }\n\n  // Second pass, assign greatest coordinates\n  function pass2(elem) {\n    var min = blockG.outEdges(elem).reduce(function (acc, e) {\n      return Math.min(acc, xs[e.w] - blockG.edge(e));\n    }, Number.POSITIVE_INFINITY);\n    var node = g.node(elem);\n    if (min !== Number.POSITIVE_INFINITY && node.borderType !== borderType) {\n      xs[elem] = Math.max(xs[elem], min);\n    }\n  }\n  iterate(pass1, blockG.predecessors.bind(blockG));\n  iterate(pass2, blockG.successors.bind(blockG));\n\n  // Assign x coordinates to all nodes\n  _.forEach(align, function (v) {\n    xs[v] = xs[root[v]];\n  });\n  return xs;\n}\nfunction buildBlockGraph(g, layering, root, reverseSep) {\n  var blockGraph = new Graph(),\n    graphLabel = g.graph(),\n    sepFn = sep(graphLabel.nodesep, graphLabel.edgesep, reverseSep);\n  _.forEach(layering, function (layer) {\n    var u;\n    _.forEach(layer, function (v) {\n      var vRoot = root[v];\n      blockGraph.setNode(vRoot);\n      if (u) {\n        var uRoot = root[u],\n          prevMax = blockGraph.edge(uRoot, vRoot);\n        blockGraph.setEdge(uRoot, vRoot, Math.max(sepFn(g, v, u), prevMax || 0));\n      }\n      u = v;\n    });\n  });\n  return blockGraph;\n}\n\n/*\n * Returns the alignment that has the smallest width of the given alignments.\n */\nfunction findSmallestWidthAlignment(g, xss) {\n  return _.minBy(_.values(xss), function (xs) {\n    var max = Number.NEGATIVE_INFINITY;\n    var min = Number.POSITIVE_INFINITY;\n    _.forIn(xs, function (x, v) {\n      var halfWidth = width(g, v) / 2;\n      max = Math.max(x + halfWidth, max);\n      min = Math.min(x - halfWidth, min);\n    });\n    return max - min;\n  });\n}\n\n/*\n * Align the coordinates of each of the layout alignments such that\n * left-biased alignments have their minimum coordinate at the same point as\n * the minimum coordinate of the smallest width alignment and right-biased\n * alignments have their maximum coordinate at the same point as the maximum\n * coordinate of the smallest width alignment.\n */\nfunction alignCoordinates(xss, alignTo) {\n  var alignToVals = _.values(alignTo),\n    alignToMin = _.min(alignToVals),\n    alignToMax = _.max(alignToVals);\n  _.forEach(['u', 'd'], function (vert) {\n    _.forEach(['l', 'r'], function (horiz) {\n      var alignment = vert + horiz,\n        xs = xss[alignment],\n        delta;\n      if (xs === alignTo) return;\n      var xsVals = _.values(xs);\n      delta = horiz === 'l' ? alignToMin - _.min(xsVals) : alignToMax - _.max(xsVals);\n      if (delta) {\n        xss[alignment] = _.mapValues(xs, function (x) {\n          return x + delta;\n        });\n      }\n    });\n  });\n}\nfunction balance(xss, align) {\n  return _.mapValues(xss.ul, function (ignore, v) {\n    if (align) {\n      return xss[align.toLowerCase()][v];\n    } else {\n      var xs = _.sortBy(_.map(xss, v));\n      return (xs[1] + xs[2]) / 2;\n    }\n  });\n}\nfunction positionX(g) {\n  var layering = util.buildLayerMatrix(g);\n  var conflicts = _.merge(findType1Conflicts(g, layering), findType2Conflicts(g, layering));\n  var xss = {};\n  var adjustedLayering;\n  _.forEach(['u', 'd'], function (vert) {\n    adjustedLayering = vert === 'u' ? layering : _.values(layering).reverse();\n    _.forEach(['l', 'r'], function (horiz) {\n      if (horiz === 'r') {\n        adjustedLayering = _.map(adjustedLayering, function (inner) {\n          return _.values(inner).reverse();\n        });\n      }\n      var neighborFn = (vert === 'u' ? g.predecessors : g.successors).bind(g);\n      var align = verticalAlignment(g, adjustedLayering, conflicts, neighborFn);\n      var xs = horizontalCompaction(g, adjustedLayering, align.root, align.align, horiz === 'r');\n      if (horiz === 'r') {\n        xs = _.mapValues(xs, function (x) {\n          return -x;\n        });\n      }\n      xss[vert + horiz] = xs;\n    });\n  });\n  var smallestWidth = findSmallestWidthAlignment(g, xss);\n  alignCoordinates(xss, smallestWidth);\n  return balance(xss, g.graph().align);\n}\nfunction sep(nodeSep, edgeSep, reverseSep) {\n  return function (g, v, w) {\n    var vLabel = g.node(v);\n    var wLabel = g.node(w);\n    var sum = 0;\n    var delta;\n    sum += vLabel.width / 2;\n    if (_.has(vLabel, 'labelpos')) {\n      switch (vLabel.labelpos.toLowerCase()) {\n        case 'l':\n          delta = -vLabel.width / 2;\n          break;\n        case 'r':\n          delta = vLabel.width / 2;\n          break;\n      }\n    }\n    if (delta) {\n      sum += reverseSep ? delta : -delta;\n    }\n    delta = 0;\n    sum += (vLabel.dummy ? edgeSep : nodeSep) / 2;\n    sum += (wLabel.dummy ? edgeSep : nodeSep) / 2;\n    sum += wLabel.width / 2;\n    if (_.has(wLabel, 'labelpos')) {\n      switch (wLabel.labelpos.toLowerCase()) {\n        case 'l':\n          delta = wLabel.width / 2;\n          break;\n        case 'r':\n          delta = -wLabel.width / 2;\n          break;\n      }\n    }\n    if (delta) {\n      sum += reverseSep ? delta : -delta;\n    }\n    delta = 0;\n    return sum;\n  };\n}\nfunction width(g, v) {\n  return g.node(v).width;\n}","import * as _ from 'lodash-es';\nimport * as util from '../util.js';\nimport { positionX } from './bk.js';\nexport { position };\nfunction position(g) {\n  g = util.asNonCompoundGraph(g);\n  positionY(g);\n  _.forOwn(positionX(g), function (x, v) {\n    g.node(v).x = x;\n  });\n}\nfunction positionY(g) {\n  var layering = util.buildLayerMatrix(g);\n  var rankSep = g.graph().ranksep;\n  var prevY = 0;\n  _.forEach(layering, function (layer) {\n    var maxHeight = _.max(_.map(layer, function (v) {\n      return g.node(v).height;\n    }));\n    _.forEach(layer, function (v) {\n      g.node(v).y = prevY + maxHeight / 2;\n    });\n    prevY += maxHeight + rankSep;\n  });\n}","import * as _ from 'lodash-es';\nimport { Graph } from '../graphlib/index.js';\nimport { addBorderSegments } from './add-border-segments.js';\nimport * as coordinateSystem from './coordinate-system.js';\nimport * as acyclic from './acyclic.js';\nimport * as normalize from './normalize.js';\nimport { rank } from './rank/index.js';\nimport * as nestingGraph from './nesting-graph.js';\nimport { order } from './order/index.js';\nimport { parentDummyChains } from './parent-dummy-chains.js';\nimport { position } from './position/index.js';\nimport * as util from './util.js';\nexport { layout };\nfunction layout(g, opts) {\n  var time = opts && opts.debugTiming ? util.time : util.notime;\n  time('layout', function () {\n    var layoutGraph = time('  buildLayoutGraph', function () {\n      return buildLayoutGraph(g);\n    });\n    time('  runLayout', function () {\n      runLayout(layoutGraph, time);\n    });\n    time('  updateInputGraph', function () {\n      updateInputGraph(g, layoutGraph);\n    });\n  });\n}\nfunction runLayout(g, time) {\n  time('    makeSpaceForEdgeLabels', function () {\n    makeSpaceForEdgeLabels(g);\n  });\n  time('    removeSelfEdges', function () {\n    removeSelfEdges(g);\n  });\n  time('    acyclic', function () {\n    acyclic.run(g);\n  });\n  time('    nestingGraph.run', function () {\n    nestingGraph.run(g);\n  });\n  time('    rank', function () {\n    rank(util.asNonCompoundGraph(g));\n  });\n  time('    injectEdgeLabelProxies', function () {\n    injectEdgeLabelProxies(g);\n  });\n  time('    removeEmptyRanks', function () {\n    util.removeEmptyRanks(g);\n  });\n  time('    nestingGraph.cleanup', function () {\n    nestingGraph.cleanup(g);\n  });\n  time('    normalizeRanks', function () {\n    util.normalizeRanks(g);\n  });\n  time('    assignRankMinMax', function () {\n    assignRankMinMax(g);\n  });\n  time('    removeEdgeLabelProxies', function () {\n    removeEdgeLabelProxies(g);\n  });\n  time('    normalize.run', function () {\n    normalize.run(g);\n  });\n  time('    parentDummyChains', function () {\n    parentDummyChains(g);\n  });\n  time('    addBorderSegments', function () {\n    addBorderSegments(g);\n  });\n  time('    order', function () {\n    order(g);\n  });\n  time('    insertSelfEdges', function () {\n    insertSelfEdges(g);\n  });\n  time('    adjustCoordinateSystem', function () {\n    coordinateSystem.adjust(g);\n  });\n  time('    position', function () {\n    position(g);\n  });\n  time('    positionSelfEdges', function () {\n    positionSelfEdges(g);\n  });\n  time('    removeBorderNodes', function () {\n    removeBorderNodes(g);\n  });\n  time('    normalize.undo', function () {\n    normalize.undo(g);\n  });\n  time('    fixupEdgeLabelCoords', function () {\n    fixupEdgeLabelCoords(g);\n  });\n  time('    undoCoordinateSystem', function () {\n    coordinateSystem.undo(g);\n  });\n  time('    translateGraph', function () {\n    translateGraph(g);\n  });\n  time('    assignNodeIntersects', function () {\n    assignNodeIntersects(g);\n  });\n  time('    reversePoints', function () {\n    reversePointsForReversedEdges(g);\n  });\n  time('    acyclic.undo', function () {\n    acyclic.undo(g);\n  });\n}\n\n/*\n * Copies final layout information from the layout graph back to the input\n * graph. This process only copies whitelisted attributes from the layout graph\n * to the input graph, so it serves as a good place to determine what\n * attributes can influence layout.\n */\nfunction updateInputGraph(inputGraph, layoutGraph) {\n  _.forEach(inputGraph.nodes(), function (v) {\n    var inputLabel = inputGraph.node(v);\n    var layoutLabel = layoutGraph.node(v);\n    if (inputLabel) {\n      inputLabel.x = layoutLabel.x;\n      inputLabel.y = layoutLabel.y;\n      if (layoutGraph.children(v).length) {\n        inputLabel.width = layoutLabel.width;\n        inputLabel.height = layoutLabel.height;\n      }\n    }\n  });\n  _.forEach(inputGraph.edges(), function (e) {\n    var inputLabel = inputGraph.edge(e);\n    var layoutLabel = layoutGraph.edge(e);\n    inputLabel.points = layoutLabel.points;\n    if (_.has(layoutLabel, 'x')) {\n      inputLabel.x = layoutLabel.x;\n      inputLabel.y = layoutLabel.y;\n    }\n  });\n  inputGraph.graph().width = layoutGraph.graph().width;\n  inputGraph.graph().height = layoutGraph.graph().height;\n}\nvar graphNumAttrs = ['nodesep', 'edgesep', 'ranksep', 'marginx', 'marginy'];\nvar graphDefaults = {\n  ranksep: 50,\n  edgesep: 20,\n  nodesep: 50,\n  rankdir: 'tb'\n};\nvar graphAttrs = ['acyclicer', 'ranker', 'rankdir', 'align'];\nvar nodeNumAttrs = ['width', 'height'];\nvar nodeDefaults = {\n  width: 0,\n  height: 0\n};\nvar edgeNumAttrs = ['minlen', 'weight', 'width', 'height', 'labeloffset'];\nvar edgeDefaults = {\n  minlen: 1,\n  weight: 1,\n  width: 0,\n  height: 0,\n  labeloffset: 10,\n  labelpos: 'r'\n};\nvar edgeAttrs = ['labelpos'];\n\n/*\n * Constructs a new graph from the input graph, which can be used for layout.\n * This process copies only whitelisted attributes from the input graph to the\n * layout graph. Thus this function serves as a good place to determine what\n * attributes can influence layout.\n */\nfunction buildLayoutGraph(inputGraph) {\n  var g = new Graph({\n    multigraph: true,\n    compound: true\n  });\n  var graph = canonicalize(inputGraph.graph());\n  g.setGraph(_.merge({}, graphDefaults, selectNumberAttrs(graph, graphNumAttrs), _.pick(graph, graphAttrs)));\n  _.forEach(inputGraph.nodes(), function (v) {\n    var node = canonicalize(inputGraph.node(v));\n    g.setNode(v, _.defaults(selectNumberAttrs(node, nodeNumAttrs), nodeDefaults));\n    g.setParent(v, inputGraph.parent(v));\n  });\n  _.forEach(inputGraph.edges(), function (e) {\n    var edge = canonicalize(inputGraph.edge(e));\n    g.setEdge(e, _.merge({}, edgeDefaults, selectNumberAttrs(edge, edgeNumAttrs), _.pick(edge, edgeAttrs)));\n  });\n  return g;\n}\n\n/*\n * This idea comes from the Gansner paper: to account for edge labels in our\n * layout we split each rank in half by doubling minlen and halving ranksep.\n * Then we can place labels at these mid-points between nodes.\n *\n * We also add some minimal padding to the width to push the label for the edge\n * away from the edge itself a bit.\n */\nfunction makeSpaceForEdgeLabels(g) {\n  var graph = g.graph();\n  graph.ranksep /= 2;\n  _.forEach(g.edges(), function (e) {\n    var edge = g.edge(e);\n    edge.minlen *= 2;\n    if (edge.labelpos.toLowerCase() !== 'c') {\n      if (graph.rankdir === 'TB' || graph.rankdir === 'BT') {\n        edge.width += edge.labeloffset;\n      } else {\n        edge.height += edge.labeloffset;\n      }\n    }\n  });\n}\n\n/*\n * Creates temporary dummy nodes that capture the rank in which each edge's\n * label is going to, if it has one of non-zero width and height. We do this\n * so that we can safely remove empty ranks while preserving balance for the\n * label's position.\n */\nfunction injectEdgeLabelProxies(g) {\n  _.forEach(g.edges(), function (e) {\n    var edge = g.edge(e);\n    if (edge.width && edge.height) {\n      var v = g.node(e.v);\n      var w = g.node(e.w);\n      var label = {\n        rank: (w.rank - v.rank) / 2 + v.rank,\n        e: e\n      };\n      util.addDummyNode(g, 'edge-proxy', label, '_ep');\n    }\n  });\n}\nfunction assignRankMinMax(g) {\n  var maxRank = 0;\n  _.forEach(g.nodes(), function (v) {\n    var node = g.node(v);\n    if (node.borderTop) {\n      node.minRank = g.node(node.borderTop).rank;\n      node.maxRank = g.node(node.borderBottom).rank;\n      // @ts-expect-error\n      maxRank = _.max(maxRank, node.maxRank);\n    }\n  });\n  g.graph().maxRank = maxRank;\n}\nfunction removeEdgeLabelProxies(g) {\n  _.forEach(g.nodes(), function (v) {\n    var node = g.node(v);\n    if (node.dummy === 'edge-proxy') {\n      g.edge(node.e).labelRank = node.rank;\n      g.removeNode(v);\n    }\n  });\n}\nfunction translateGraph(g) {\n  var minX = Number.POSITIVE_INFINITY;\n  var maxX = 0;\n  var minY = Number.POSITIVE_INFINITY;\n  var maxY = 0;\n  var graphLabel = g.graph();\n  var marginX = graphLabel.marginx || 0;\n  var marginY = graphLabel.marginy || 0;\n  function getExtremes(attrs) {\n    var x = attrs.x;\n    var y = attrs.y;\n    var w = attrs.width;\n    var h = attrs.height;\n    minX = Math.min(minX, x - w / 2);\n    maxX = Math.max(maxX, x + w / 2);\n    minY = Math.min(minY, y - h / 2);\n    maxY = Math.max(maxY, y + h / 2);\n  }\n  _.forEach(g.nodes(), function (v) {\n    getExtremes(g.node(v));\n  });\n  _.forEach(g.edges(), function (e) {\n    var edge = g.edge(e);\n    if (_.has(edge, 'x')) {\n      getExtremes(edge);\n    }\n  });\n  minX -= marginX;\n  minY -= marginY;\n  _.forEach(g.nodes(), function (v) {\n    var node = g.node(v);\n    node.x -= minX;\n    node.y -= minY;\n  });\n  _.forEach(g.edges(), function (e) {\n    var edge = g.edge(e);\n    _.forEach(edge.points, function (p) {\n      p.x -= minX;\n      p.y -= minY;\n    });\n    if (_.has(edge, 'x')) {\n      edge.x -= minX;\n    }\n    if (_.has(edge, 'y')) {\n      edge.y -= minY;\n    }\n  });\n  graphLabel.width = maxX - minX + marginX;\n  graphLabel.height = maxY - minY + marginY;\n}\nfunction assignNodeIntersects(g) {\n  _.forEach(g.edges(), function (e) {\n    var edge = g.edge(e);\n    var nodeV = g.node(e.v);\n    var nodeW = g.node(e.w);\n    var p1, p2;\n    if (!edge.points) {\n      edge.points = [];\n      p1 = nodeW;\n      p2 = nodeV;\n    } else {\n      p1 = edge.points[0];\n      p2 = edge.points[edge.points.length - 1];\n    }\n    edge.points.unshift(util.intersectRect(nodeV, p1));\n    edge.points.push(util.intersectRect(nodeW, p2));\n  });\n}\nfunction fixupEdgeLabelCoords(g) {\n  _.forEach(g.edges(), function (e) {\n    var edge = g.edge(e);\n    if (_.has(edge, 'x')) {\n      if (edge.labelpos === 'l' || edge.labelpos === 'r') {\n        edge.width -= edge.labeloffset;\n      }\n      switch (edge.labelpos) {\n        case 'l':\n          edge.x -= edge.width / 2 + edge.labeloffset;\n          break;\n        case 'r':\n          edge.x += edge.width / 2 + edge.labeloffset;\n          break;\n      }\n    }\n  });\n}\nfunction reversePointsForReversedEdges(g) {\n  _.forEach(g.edges(), function (e) {\n    var edge = g.edge(e);\n    if (edge.reversed) {\n      edge.points.reverse();\n    }\n  });\n}\nfunction removeBorderNodes(g) {\n  _.forEach(g.nodes(), function (v) {\n    if (g.children(v).length) {\n      var node = g.node(v);\n      var t = g.node(node.borderTop);\n      var b = g.node(node.borderBottom);\n      var l = g.node(_.last(node.borderLeft));\n      var r = g.node(_.last(node.borderRight));\n      node.width = Math.abs(r.x - l.x);\n      node.height = Math.abs(b.y - t.y);\n      node.x = l.x + node.width / 2;\n      node.y = t.y + node.height / 2;\n    }\n  });\n  _.forEach(g.nodes(), function (v) {\n    if (g.node(v).dummy === 'border') {\n      g.removeNode(v);\n    }\n  });\n}\nfunction removeSelfEdges(g) {\n  _.forEach(g.edges(), function (e) {\n    if (e.v === e.w) {\n      var node = g.node(e.v);\n      if (!node.selfEdges) {\n        node.selfEdges = [];\n      }\n      node.selfEdges.push({\n        e: e,\n        label: g.edge(e)\n      });\n      g.removeEdge(e);\n    }\n  });\n}\nfunction insertSelfEdges(g) {\n  var layers = util.buildLayerMatrix(g);\n  _.forEach(layers, function (layer) {\n    var orderShift = 0;\n    _.forEach(layer, function (v, i) {\n      var node = g.node(v);\n      node.order = i + orderShift;\n      _.forEach(node.selfEdges, function (selfEdge) {\n        util.addDummyNode(g, 'selfedge', {\n          width: selfEdge.label.width,\n          height: selfEdge.label.height,\n          rank: node.rank,\n          order: i + ++orderShift,\n          e: selfEdge.e,\n          label: selfEdge.label\n        }, '_se');\n      });\n      delete node.selfEdges;\n    });\n  });\n}\nfunction positionSelfEdges(g) {\n  _.forEach(g.nodes(), function (v) {\n    var node = g.node(v);\n    if (node.dummy === 'selfedge') {\n      var selfNode = g.node(node.e.v);\n      var x = selfNode.x + selfNode.width / 2;\n      var y = selfNode.y;\n      var dx = node.x - x;\n      var dy = selfNode.height / 2;\n      g.setEdge(node.e, node.label);\n      g.removeNode(v);\n      node.label.points = [{\n        x: x + 2 * dx / 3,\n        y: y - dy\n      }, {\n        x: x + 5 * dx / 6,\n        y: y - dy\n      }, {\n        x: x + dx,\n        y: y\n      }, {\n        x: x + 5 * dx / 6,\n        y: y + dy\n      }, {\n        x: x + 2 * dx / 3,\n        y: y + dy\n      }];\n      node.label.x = node.x;\n      node.label.y = node.y;\n    }\n  });\n}\nfunction selectNumberAttrs(obj, attrs) {\n  return _.mapValues(_.pick(obj, attrs), Number);\n}\nfunction canonicalize(attrs) {\n  var newAttrs = {};\n  _.forEach(attrs, function (v, k) {\n    newAttrs[k.toLowerCase()] = v;\n  });\n  return newAttrs;\n}","import memoize from './memoize.js';\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function (key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n  var cache = result.cache;\n  return result;\n}\nexport default memoizeCapped;","import memoizeCapped from './_memoizeCapped.js';\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function (string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function (match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : number || match);\n  });\n  return result;\n});\nexport default stringToPath;","import isArray from './isArray.js';\nimport isKey from './_isKey.js';\nimport stringToPath from './_stringToPath.js';\nimport toString from './toString.js';\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\nexport default castPath;","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function (object) {\n    return object == null ? undefined : object[key];\n  };\n}\nexport default baseProperty;","/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\nexport default isUndefined;","// based on https://github.com/WICG/focus-visible/blob/v4.1.5/src/focus-visible.js\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nvar hadKeyboardEvent = true;\nvar hadFocusVisibleRecently = false;\nvar hadFocusVisibleRecentlyTimeout = null;\nvar inputTypesWhitelist = {\n  text: true,\n  search: true,\n  url: true,\n  tel: true,\n  email: true,\n  password: true,\n  number: true,\n  date: true,\n  month: true,\n  week: true,\n  time: true,\n  datetime: true,\n  'datetime-local': true\n};\n/**\n * Computes whether the given element should automatically trigger the\n * `focus-visible` class being added, i.e. whether it should always match\n * `:focus-visible` when focused.\n * @param {Element} node\n * @return {boolean}\n */\n\nfunction focusTriggersKeyboardModality(node) {\n  var type = node.type,\n    tagName = node.tagName;\n  if (tagName === 'INPUT' && inputTypesWhitelist[type] && !node.readOnly) {\n    return true;\n  }\n  if (tagName === 'TEXTAREA' && !node.readOnly) {\n    return true;\n  }\n  if (node.isContentEditable) {\n    return true;\n  }\n  return false;\n}\n/**\n * Keep track of our keyboard modality state with `hadKeyboardEvent`.\n * If the most recent user interaction was via the keyboard;\n * and the key press did not include a meta, alt/option, or control key;\n * then the modality is keyboard. Otherwise, the modality is not keyboard.\n * @param {KeyboardEvent} event\n */\n\nfunction handleKeyDown(event) {\n  if (event.metaKey || event.altKey || event.ctrlKey) {\n    return;\n  }\n  hadKeyboardEvent = true;\n}\n/**\n * If at any point a user clicks with a pointing device, ensure that we change\n * the modality away from keyboard.\n * This avoids the situation where a user presses a key on an already focused\n * element, and then clicks on a different element, focusing it with a\n * pointing device, while we still think we're in keyboard modality.\n */\n\nfunction handlePointerDown() {\n  hadKeyboardEvent = false;\n}\nfunction handleVisibilityChange() {\n  if (this.visibilityState === 'hidden') {\n    // If the tab becomes active again, the browser will handle calling focus\n    // on the element (Safari actually calls it twice).\n    // If this tab change caused a blur on an element with focus-visible,\n    // re-apply the class when the user switches back to the tab.\n    if (hadFocusVisibleRecently) {\n      hadKeyboardEvent = true;\n    }\n  }\n}\nfunction prepare(doc) {\n  doc.addEventListener('keydown', handleKeyDown, true);\n  doc.addEventListener('mousedown', handlePointerDown, true);\n  doc.addEventListener('pointerdown', handlePointerDown, true);\n  doc.addEventListener('touchstart', handlePointerDown, true);\n  doc.addEventListener('visibilitychange', handleVisibilityChange, true);\n}\nexport function teardown(doc) {\n  doc.removeEventListener('keydown', handleKeyDown, true);\n  doc.removeEventListener('mousedown', handlePointerDown, true);\n  doc.removeEventListener('pointerdown', handlePointerDown, true);\n  doc.removeEventListener('touchstart', handlePointerDown, true);\n  doc.removeEventListener('visibilitychange', handleVisibilityChange, true);\n}\nfunction isFocusVisible(event) {\n  var target = event.target;\n  try {\n    return target.matches(':focus-visible');\n  } catch (error) {} // browsers not implementing :focus-visible will throw a SyntaxError\n  // we use our own heuristic for those browsers\n  // rethrow might be better if it's not the expected error but do we really\n  // want to crash if focus-visible malfunctioned?\n  // no need for validFocusTarget check. the user does that by attaching it to\n  // focusable events only\n\n  return hadKeyboardEvent || focusTriggersKeyboardModality(target);\n}\n/**\n * Should be called if a blur event is fired on a focus-visible element\n */\n\nfunction handleBlurVisible() {\n  // To detect a tab/window switch, we look for a blur event followed\n  // rapidly by a visibility change.\n  // If we don't see a visibility change within 100ms, it's probably a\n  // regular focus change.\n  hadFocusVisibleRecently = true;\n  window.clearTimeout(hadFocusVisibleRecentlyTimeout);\n  hadFocusVisibleRecentlyTimeout = window.setTimeout(function () {\n    hadFocusVisibleRecently = false;\n  }, 100);\n}\nexport default function useIsFocusVisible() {\n  var ref = React.useCallback(function (instance) {\n    var node = ReactDOM.findDOMNode(instance);\n    if (node != null) {\n      prepare(node.ownerDocument);\n    }\n  }, []);\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useDebugValue(isFocusVisible);\n  }\n  return {\n    isFocusVisible: isFocusVisible,\n    onBlurVisible: handleBlurVisible,\n    ref: ref\n  };\n}","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\nexport default getAllKeys;","import { useStaticQuery, graphql } from 'gatsby';\nimport { FluidObject } from 'gatsby-image';\n\nexport type LogoProps = {\n  childImageSharp: {\n    fluid: FluidObject;\n  };\n};\n\ntype LogoQueryType = {\n  logo: LogoProps;\n};\n\nexport const useLogoQuery = (): LogoQueryType => {\n  const logoData = useStaticQuery(\n    graphql`\n      query LogoData {\n        logo: file(relativePath: { eq: \"logo.png\" }) {\n          childImageSharp {\n            fluid(srcSetBreakpoints: [50, 80, 100, 150]) {\n              ...GatsbyImageSharpFluid\n            }\n          }\n        }\n      }\n    `,\n  );\n\n  return logoData;\n};\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\nexport default baseHas;","import baseHas from './_baseHas.js';\nimport hasPath from './_hasPath.js';\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\nexport default has;","import copyObject from './_copyObject.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\nexport default baseAssign;","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\nexport default baseAssignIn;","import copyObject from './_copyObject.js';\nimport getSymbols from './_getSymbols.js';\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\nexport default copySymbols;","import arrayPush from './_arrayPush.js';\nimport getPrototype from './_getPrototype.js';\nimport getSymbols from './_getSymbols.js';\nimport stubArray from './stubArray.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function (object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\nexport default getSymbolsIn;","import copyObject from './_copyObject.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\nexport default copySymbolsIn;","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\nexport default getAllKeysIn;","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n    result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\nexport default initCloneArray;","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\nexport default cloneDataView;","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\nexport default cloneRegExp;","import Symbol from './_Symbol.js';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n  symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\nexport default cloneSymbol;","import cloneArrayBuffer from './_cloneArrayBuffer.js';\nimport cloneDataView from './_cloneDataView.js';\nimport cloneRegExp from './_cloneRegExp.js';\nimport cloneSymbol from './_cloneSymbol.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n  dateTag = '[object Date]',\n  mapTag = '[object Map]',\n  numberTag = '[object Number]',\n  regexpTag = '[object RegExp]',\n  setTag = '[object Set]',\n  stringTag = '[object String]',\n  symbolTag = '[object Symbol]';\nvar arrayBufferTag = '[object ArrayBuffer]',\n  dataViewTag = '[object DataView]',\n  float32Tag = '[object Float32Array]',\n  float64Tag = '[object Float64Array]',\n  int8Tag = '[object Int8Array]',\n  int16Tag = '[object Int16Array]',\n  int32Tag = '[object Int32Array]',\n  uint8Tag = '[object Uint8Array]',\n  uint8ClampedTag = '[object Uint8ClampedArray]',\n  uint16Tag = '[object Uint16Array]',\n  uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n    case float32Tag:\n    case float64Tag:\n    case int8Tag:\n    case int16Tag:\n    case int32Tag:\n    case uint8Tag:\n    case uint8ClampedTag:\n    case uint16Tag:\n    case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n    case mapTag:\n      return new Ctor();\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n    case regexpTag:\n      return cloneRegExp(object);\n    case setTag:\n      return new Ctor();\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\nexport default initCloneByTag;","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\nexport default baseIsMap;","import baseIsMap from './_baseIsMap.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\nexport default isMap;","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\nexport default baseIsSet;","import baseIsSet from './_baseIsSet.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\nexport default isSet;","import Stack from './_Stack.js';\nimport arrayEach from './_arrayEach.js';\nimport assignValue from './_assignValue.js';\nimport baseAssign from './_baseAssign.js';\nimport baseAssignIn from './_baseAssignIn.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport copyArray from './_copyArray.js';\nimport copySymbols from './_copySymbols.js';\nimport copySymbolsIn from './_copySymbolsIn.js';\nimport getAllKeys from './_getAllKeys.js';\nimport getAllKeysIn from './_getAllKeysIn.js';\nimport getTag from './_getTag.js';\nimport initCloneArray from './_initCloneArray.js';\nimport initCloneByTag from './_initCloneByTag.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isMap from './isMap.js';\nimport isObject from './isObject.js';\nimport isSet from './isSet.js';\nimport keys from './keys.js';\nimport keysIn from './keysIn.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n  CLONE_FLAT_FLAG = 2,\n  CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n  arrayTag = '[object Array]',\n  boolTag = '[object Boolean]',\n  dateTag = '[object Date]',\n  errorTag = '[object Error]',\n  funcTag = '[object Function]',\n  genTag = '[object GeneratorFunction]',\n  mapTag = '[object Map]',\n  numberTag = '[object Number]',\n  objectTag = '[object Object]',\n  regexpTag = '[object RegExp]',\n  setTag = '[object Set]',\n  stringTag = '[object String]',\n  symbolTag = '[object Symbol]',\n  weakMapTag = '[object WeakMap]';\nvar arrayBufferTag = '[object ArrayBuffer]',\n  dataViewTag = '[object DataView]',\n  float32Tag = '[object Float32Array]',\n  float64Tag = '[object Float64Array]',\n  int8Tag = '[object Int8Array]',\n  int16Tag = '[object Int16Array]',\n  int32Tag = '[object Int32Array]',\n  uint8Tag = '[object Uint8Array]',\n  uint8ClampedTag = '[object Uint8ClampedArray]',\n  uint16Tag = '[object Uint16Array]',\n  uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] = cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] = cloneableTags[boolTag] = cloneableTags[dateTag] = cloneableTags[float32Tag] = cloneableTags[float64Tag] = cloneableTags[int8Tag] = cloneableTags[int16Tag] = cloneableTags[int32Tag] = cloneableTags[mapTag] = cloneableTags[numberTag] = cloneableTags[objectTag] = cloneableTags[regexpTag] = cloneableTags[setTag] = cloneableTags[stringTag] = cloneableTags[symbolTag] = cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] = cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] = cloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n    isDeep = bitmask & CLONE_DEEP_FLAG,\n    isFlat = bitmask & CLONE_FLAT_FLAG,\n    isFull = bitmask & CLONE_SYMBOLS_FLAG;\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n      isFunc = tag == funcTag || tag == genTag;\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || isFunc && !object) {\n      result = isFlat || isFunc ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat ? copySymbolsIn(value, baseAssignIn(result, value)) : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack());\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n  if (isSet(value)) {\n    value.forEach(function (subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function (subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n  var keysFunc = isFull ? isFlat ? getAllKeysIn : getAllKeys : isFlat ? keysIn : keys;\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function (subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\nexport default baseClone;","import * as _ from 'lodash-es';\nimport { Graph } from './graph.js';\nexport { write, read };\nfunction write(g) {\n  var json = {\n    options: {\n      directed: g.isDirected(),\n      multigraph: g.isMultigraph(),\n      compound: g.isCompound()\n    },\n    nodes: writeNodes(g),\n    edges: writeEdges(g)\n  };\n  if (!_.isUndefined(g.graph())) {\n    json.value = _.clone(g.graph());\n  }\n  return json;\n}\nfunction writeNodes(g) {\n  return _.map(g.nodes(), function (v) {\n    var nodeValue = g.node(v);\n    var parent = g.parent(v);\n    var node = {\n      v: v\n    };\n    if (!_.isUndefined(nodeValue)) {\n      node.value = nodeValue;\n    }\n    if (!_.isUndefined(parent)) {\n      node.parent = parent;\n    }\n    return node;\n  });\n}\nfunction writeEdges(g) {\n  return _.map(g.edges(), function (e) {\n    var edgeValue = g.edge(e);\n    var edge = {\n      v: e.v,\n      w: e.w\n    };\n    if (!_.isUndefined(e.name)) {\n      edge.name = e.name;\n    }\n    if (!_.isUndefined(edgeValue)) {\n      edge.value = edgeValue;\n    }\n    return edge;\n  });\n}\nfunction read(json) {\n  var g = new Graph(json.options).setGraph(json.value);\n  _.each(json.nodes, function (entry) {\n    g.setNode(entry.v, entry.value);\n    if (entry.parent) {\n      g.setParent(entry.v, entry.parent);\n    }\n  });\n  _.each(json.edges, function (entry) {\n    g.setEdge({\n      v: entry.v,\n      w: entry.w,\n      name: entry.name\n    }, entry.value);\n  });\n  return g;\n}","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nexport { _createClass as default };","import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\nexport default baseGetAllKeys;","import { formatMuiErrorMessage as _formatMuiErrorMessage } from \"@material-ui/utils\";\n// It should to be noted that this function isn't equivalent to `text-transform: capitalize`.\n//\n// A strict capitalization should uppercase the first letter of each word a the sentence.\n// We only handle the first word.\nexport default function capitalize(string) {\n  if (typeof string !== 'string') {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? \"Material-UI: capitalize(string) expects a string argument.\" : _formatMuiErrorMessage(7));\n  }\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n    length = array == null ? 0 : array.length;\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\nexport default arrayReduce;","/**\n * The base implementation of `_.reduce` and `_.reduceRight`, without support\n * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} accumulator The initial value.\n * @param {boolean} initAccum Specify using the first or last element of\n *  `collection` as the initial value.\n * @param {Function} eachFunc The function to iterate over `collection`.\n * @returns {*} Returns the accumulated value.\n */\nfunction baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n  eachFunc(collection, function (value, index, collection) {\n    accumulator = initAccum ? (initAccum = false, value) : iteratee(accumulator, value, index, collection);\n  });\n  return accumulator;\n}\nexport default baseReduce;","import arrayReduce from './_arrayReduce.js';\nimport baseEach from './_baseEach.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseReduce from './_baseReduce.js';\nimport isArray from './isArray.js';\n\n/**\n * Reduces `collection` to a value which is the accumulated result of running\n * each element in `collection` thru `iteratee`, where each successive\n * invocation is supplied the return value of the previous. If `accumulator`\n * is not given, the first element of `collection` is used as the initial\n * value. The iteratee is invoked with four arguments:\n * (accumulator, value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.reduce`, `_.reduceRight`, and `_.transform`.\n *\n * The guarded methods are:\n * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n * and `sortBy`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @returns {*} Returns the accumulated value.\n * @see _.reduceRight\n * @example\n *\n * _.reduce([1, 2], function(sum, n) {\n *   return sum + n;\n * }, 0);\n * // => 3\n *\n * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n *   return result;\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n */\nfunction reduce(collection, iteratee, accumulator) {\n  var func = isArray(collection) ? arrayReduce : baseReduce,\n    initAccum = arguments.length < 3;\n  return func(collection, baseIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n}\nexport default reduce;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport { alpha } from '../styles/colorManipulator';\nimport ButtonBase from '../ButtonBase';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      textAlign: 'center',\n      flex: '0 0 auto',\n      fontSize: theme.typography.pxToRem(24),\n      padding: 12,\n      borderRadius: '50%',\n      overflow: 'visible',\n      // Explicitly set the default value to solve a bug on IE 11.\n      color: theme.palette.action.active,\n      transition: theme.transitions.create('background-color', {\n        duration: theme.transitions.duration.shortest\n      }),\n      '&:hover': {\n        backgroundColor: alpha(theme.palette.action.active, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      },\n      '&$disabled': {\n        backgroundColor: 'transparent',\n        color: theme.palette.action.disabled\n      }\n    },\n    /* Styles applied to the root element if `edge=\"start\"`. */\n    edgeStart: {\n      marginLeft: -12,\n      '$sizeSmall&': {\n        marginLeft: -3\n      }\n    },\n    /* Styles applied to the root element if `edge=\"end\"`. */\n    edgeEnd: {\n      marginRight: -12,\n      '$sizeSmall&': {\n        marginRight: -3\n      }\n    },\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main,\n      '&:hover': {\n        backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      color: theme.palette.secondary.main,\n      '&:hover': {\n        backgroundColor: alpha(theme.palette.secondary.main, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {\n      padding: 3,\n      fontSize: theme.typography.pxToRem(18)\n    },\n    /* Styles applied to the children container element. */\n    label: {\n      width: '100%',\n      display: 'flex',\n      alignItems: 'inherit',\n      justifyContent: 'inherit'\n    }\n  };\n};\n/**\n * Refer to the [Icons](/components/icons/) section of the documentation\n * regarding the available icon options.\n */\n\nvar IconButton = /*#__PURE__*/React.forwardRef(function IconButton(props, ref) {\n  var _props$edge = props.edge,\n    edge = _props$edge === void 0 ? false : _props$edge,\n    children = props.children,\n    classes = props.classes,\n    className = props.className,\n    _props$color = props.color,\n    color = _props$color === void 0 ? 'default' : _props$color,\n    _props$disabled = props.disabled,\n    disabled = _props$disabled === void 0 ? false : _props$disabled,\n    _props$disableFocusRi = props.disableFocusRipple,\n    disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n    _props$size = props.size,\n    size = _props$size === void 0 ? 'medium' : _props$size,\n    other = _objectWithoutProperties(props, [\"edge\", \"children\", \"classes\", \"className\", \"color\", \"disabled\", \"disableFocusRipple\", \"size\"]);\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    className: clsx(classes.root, className, color !== 'default' && classes[\"color\".concat(capitalize(color))], disabled && classes.disabled, size === \"small\" && classes[\"size\".concat(capitalize(size))], {\n      'start': classes.edgeStart,\n      'end': classes.edgeEnd\n    }[edge]),\n    centerRipple: true,\n    focusRipple: !disableFocusRipple,\n    disabled: disabled,\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.label\n  }, children));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiIconButton'\n})(IconButton);","import ownerDocument from './ownerDocument';\nexport default function ownerWindow(node) {\n  var doc = ownerDocument(node);\n  return doc.defaultView || window;\n}","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n  nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n    length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n    result = Array(length);\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\nexport default baseRange;","import baseRange from './_baseRange.js';\nimport isIterateeCall from './_isIterateeCall.js';\nimport toFinite from './toFinite.js';\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function (start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? start < end ? 1 : -1 : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\nexport default createRange;","import createRange from './_createRange.js';\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\nexport default range;","import baseClone from './_baseClone.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, CLONE_SYMBOLS_FLAG);\n}\nexport default clone;","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n    length = array == null ? 0 : array.length,\n    resIndex = 0,\n    result = [];\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\nexport default arrayFilter;","import * as React from 'react';\nexport default function isMuiElement(element, muiNames) {\n  return /*#__PURE__*/React.isValidElement(element) && muiNames.indexOf(element.type.muiName) !== -1;\n}","import { navigate } from '@reach/router';\nimport { useSelector, shallowEqual } from 'react-redux';\nimport store, {\n  setNavigatorShape,\n  setNavigatorPosition,\n  ReduxState,\n} from '../state/store';\n\nexport function moveNavData(): MoveNavAsideState {\n  return useSelector<ReduxState, MoveNavAsideState>(\n    state => ({\n      navigatorShape: state.navigatorShape,\n      navigatorPosition: state.navigatorPosition,\n      isWideScreen: state.isWideScreen,\n    }),\n    shallowEqual,\n  );\n}\n\nexport function moveNavFeature(e: React.MouseEvent): void {\n  e.preventDefault();\n  const state = store.getState();\n\n  if (state.navigatorPosition === 'is-aside') {\n    if (state.isWideScreen) {\n      store.dispatch(setNavigatorPosition('moving-featured'));\n\n      setTimeout(() => {\n        store.dispatch(setNavigatorPosition('resizing-featured'));\n        store.dispatch(setNavigatorPosition('is-featured'));\n        store.dispatch(setNavigatorShape('open'));\n      }, 500);\n    } else {\n      setTimeout(() => {\n        store.dispatch(setNavigatorPosition('is-featured'));\n      }, 0);\n    }\n  }\n  setTimeout(() => {\n    navigate('/');\n  }, 500);\n}\n\nexport type MoveNavAsideState = {\n  navigatorPosition: string;\n  navigatorShape: string;\n  isWideScreen: boolean;\n};\n\nexport function moveNavAside(): void {\n  const state = store.getState();\n  if (state.navigatorPosition === 'is-featured') {\n    if (state.isWideScreen) {\n      store.dispatch(setNavigatorPosition('moving-aside'));\n\n      setTimeout(() => {\n        store.dispatch(setNavigatorPosition('resizing-aside'));\n        setTimeout(() => {\n          store.dispatch(setNavigatorPosition('is-aside'));\n        });\n      }, 500);\n    } else {\n      store.dispatch(setNavigatorPosition('is-aside'));\n    }\n  }\n}\n"],"names":["array","predicate","fromIndex","fromRight","length","index","object","value","_typeof","_getRequireWildcardCache","e","WeakMap","r","t","module","exports","__esModule","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","values","offset","useForkRef","refA","refB","refValue","collection","iteratee","cache","key","symbolProto","prototype","undefined","symbolToString","toString","baseToString","isArray","isSymbol","result","comparator","createSet","includes","isCommon","seen","outer","computed","seenIndex","push","arrays","isArrayLikeObject","GRAPH_NODE","Graph","constructor","opts","arguments","this","_isDirected","directed","_isMultigraph","multigraph","_isCompound","compound","_label","_defaultNodeLabelFn","_defaultEdgeLabelFn","_nodes","_parent","_children","_in","_preds","_out","_sucs","_edgeObjs","_edgeLabels","isDirected","isMultigraph","isCompound","setGraph","label","graph","setDefaultNodeLabel","newDefault","nodeCount","_nodeCount","nodes","sources","self","v","sinks","setNodes","vs","args","setNode","node","hasNode","removeNode","removeEdge","_removeFromParentsChildList","children","child","setParent","parent","Error","ancestor","predecessors","predsV","successors","sucsV","neighbors","preds","isLeaf","filterNodes","filter","copy","w","setEdge","edge","parents","findParent","setDefaultEdgeLabel","edgeCount","_edgeCount","edges","setPath","name","valueSpecified","arg0","edgeArgsToId","edgeObj","v_","w_","tmp","edgeArgsToObj","freeze","incrementOrInitEntry","edgeObjToId","hasEdge","decrementOrRemoveEntry","inEdges","inV","outEdges","outV","nodeEdges","concat","map","k","defaultTheme","objectProto","defaults","guard","source","props","propsIndex","propsLength","enumerable","_utils","createSvgIcon","ownerDocument","document","path","spreadableSymbol","isConcatSpreadable","isArguments","baseFlatten","depth","isStrict","emptyOptions","one","includeImageAlt","includeHtml","Boolean","type","alt","Array","join","splice","list","start","remove","items","end","parameters","chunkStart","from","unshift","slice","syntaxExtension","all","extension","hook","left","right","code","constructs","existing","before","add","asciiAlpha","regexCheck","asciiAlphanumeric","asciiAtext","asciiControl","asciiDigit","asciiHexDigit","asciiPunctuation","markdownLineEnding","markdownLineEndingOrSpace","markdownSpace","unicodePunctuation","unicodeWhitespace","regex","test","String","fromCharCode","factorySpace","effects","ok","max","limit","Number","POSITIVE_INFINITY","size","enter","prefix","consume","exit","content","tokenize","contentStart","attempt","parser","contentInitial","lineStart","previous","token","contentType","next","data","stack","childFlow","childToken","lineStartOffset","continued","item","containerState","continuation","documentContinue","checkNewContainers","_closeFlow","closeFlow","indexBeforeExits","events","point","indexBeforeFlow","exitContainers","assign","documentContinued","currentConstruct","concrete","flowStart","interrupt","_gfmTableDynamicInterruptHack","check","containerConstruct","thereIsANewContainer","thereIsNoNewContainer","lazy","now","line","containerContinue","flow","_tokenizer","flowContinue","writeToChild","eof","stream","sliceStream","defineSkip","write","entry","nok","disable","null","blankLine","after","partial","subtokenize","jumps","event","lineIndex","otherIndex","otherEvent","subevents","more","_isInFirstContentOfListItem","subcontent","_container","eventIndex","context","startPosition","startPositions","tokenizer","childEvents","gaps","current","adjust","breaks","_gfmTasklistFirstContentOfListItem","pop","chunkInside","contentEnd","continuationConstruct","contentContinue","resolve","prefixed","tail","sliceSerialize","initial","flowInitial","afterConstruct","resolver","resolveAll","createResolver","string","initializeFactory","field","text","notText","atBreak","resolveAllLineSuffixes","extraResolver","chunks","tabs","bufferIndex","chunk","charCodeAt","column","_index","_bufferIndex","called","createTokenizer","initialize","columnStart","resolveAllConstructs","consumed","accountForPotentialSkip","fields","constructFactory","construct","info","addResult","onsuccessfulcheck","expandTabs","atTab","serializeChunks","main","expectedCode","state","startIndex","startBufferIndex","endIndex","endBufferIndex","view","head","shift","sliceChunks","chunkIndex","go","_","restore","onreturn","returnState","bogusState","listOfConstructs","constructIndex","handleListOfConstructs","def","handleMapOfConstructs","handleConstruct","startPoint","startPrevious","startCurrentConstruct","startEventsIndex","startStack","store","create","resolveTo","thematicBreak","marker","sequence","initialSize","kind","atMarker","inside","onBlank","listItemPrefixWhitespaceConstruct","endOfPrefix","otherPrefix","initialBlankLine","furtherBlankLines","notInCurrentItem","indentConstruct","blockQuote","open","contBefore","factoryDestination","literalType","literalMarkerType","rawType","stringType","balance","enclosedBefore","raw","enclosed","enclosedEscape","rawEscape","factoryLabel","markerType","labelInside","labelEscape","factoryTitle","begin","escape","factoryWhitespace","normalizeIdentifier","replace","toLowerCase","toUpperCase","definition","identifier","labelAfter","markerAfter","destinationBefore","destinationAfter","titleBefore","afterWhitespace","defined","beforeMarker","titleAfter","titleAfterOptionalWhitespace","codeIndented","afterPrefix","furtherStart","headingAtx","sequenceOpen","sequenceFurther","setextUnderline","paragraph","heading","htmlBlockNames","htmlRawNames","htmlFlow","closingTag","buffer","markerB","declarationOpen","tagCloseStart","continuationDeclarationInside","tagName","commentOpenInside","cdataOpenInside","slash","basicSelfClosing","completeClosingTagAfter","completeAttributeNameBefore","completeEnd","completeAttributeName","completeAttributeNameAfter","completeAttributeValueBefore","completeAttributeValueQuoted","completeAttributeValueUnquoted","completeAttributeValueQuotedAfter","completeAfter","continuationCommentInside","continuationRawTagOpen","continuationClose","continuationCdataInside","continuationStart","blankLineBefore","continuationAfter","nonLazyContinuationStart","continuationStartNonLazy","continuationBefore","continuationRawEndTag","nonLazyContinuation","codeFenced","closeStart","startBefore","beforeSequenceClose","sequenceClose","sizeOpen","sequenceCloseAfter","initialPrefix","beforeSequenceOpen","infoBefore","atNonLazyBreak","metaBefore","meta","contentBefore","beforeContentChunk","contentChunk","createElement","decodeNamedCharacterReference","characterReference","innerHTML","char","textContent","numeric","characterEscape","lineEnding","labelEnd","labelStart","_balanced","_inactive","labelEndNok","resourceConstruct","labelEndOk","referenceFullConstruct","referenceNotFull","referenceCollapsedConstruct","close","media","group","insideSpan","resourceBefore","resourceOpen","resourceEnd","resourceDestinationAfter","resourceDestinationMissing","resourceBetween","resourceTitleAfter","referenceFullAfter","referenceFullMissing","referenceCollapsedOpen","labelStartImage","classifyCharacter","attention","attentionMarkers","_open","_close","openingSequence","closingSequence","use","nextEvents","movePoint","autolink","schemeOrEmailAtext","emailAtext","schemeInsideOrEmailAtext","urlInside","emailAtSignOrDot","emailLabel","emailValue","htmlText","instruction","tagOpen","declaration","commentEnd","comment","commentClose","lineEndingBefore","cdata","cdataClose","cdataEnd","instructionClose","tagClose","tagCloseBetween","tagOpenBetween","tagOpenAttributeName","tagOpenAttributeNameAfter","tagOpenAttributeValueBefore","tagOpenAttributeValueQuoted","tagOpenAttributeValueUnquoted","tagOpenAttributeValueQuotedAfter","lineEndingAfter","lineEndingAfterPrefix","labelStartLink","hardBreakEscape","codeText","between","tailExitIndex","headEnterIndex","parse","options","extensions","combineExtensions","search","decodeNumericCharacterReference","base","parseInt","characterEscapeOrReference","decode","$0","$1","$2","hex","stringifyPosition","position","pos","own","fromMarkdown","encoding","config","transforms","canContainEols","opener","link","autolinkProtocol","onenterdata","autolinkEmail","atxHeading","codeFlow","codeFencedFenceInfo","codeFencedFenceMeta","codeTextData","codeFlowValue","definitionDestinationString","definitionLabelString","definitionTitleString","emphasis","hardBreak","hardBreakTrailing","html","htmlFlowData","htmlTextData","image","listItem","listItemValue","onenterlistitemvalue","listOrdered","onenterlistordered","listUnordered","reference","onenterreference","referenceString","resourceDestinationString","resourceTitleString","setextHeading","strong","closer","atxHeadingSequence","onexitatxheadingsequence","onexitautolinkemail","onexitautolinkprotocol","characterEscapeValue","onexitdata","characterReferenceMarkerHexadecimal","onexitcharacterreferencemarker","characterReferenceMarkerNumeric","characterReferenceValue","onexitcharacterreferencevalue","onexitcodefenced","codeFencedFence","onexitcodefencedfence","onexitcodefencedfenceinfo","onexitcodefencedfencemeta","onexitcodeindented","onexitcodetext","onexitdefinitiondestinationstring","onexitdefinitionlabelstring","onexitdefinitiontitlestring","onexithardbreak","onexithtmlflow","onexithtmltext","onexitimage","onexitlabel","labelText","onexitlabeltext","onexitlineending","onexitlink","onexitreferencestring","onexitresourcedestinationstring","onexitresourcetitlestring","resource","onexitresource","onexitsetextheading","setextHeadingLineSequence","onexitsetextheadinglinesequence","setextHeadingText","onexitsetextheadingtext","configure","mdastExtensions","compile","tree","tokenStack","resume","setData","getData","listStack","prepareList","handler","defaultOnError","firstBlankLineIndex","containerBalance","listSpread","tailIndex","tailEvent","_spread","and","errorHandler","onExitError","settings","lang","title","url","referenceType","decodeString","fragment","ordered","spread","checked","compiler","postprocess","atCarriageReturn","match","endPosition","lastIndex","exec","Math","ceil","preprocess","d","combined","markdownToLines","markdown","preprocessedMarkdown","withoutMultipleNewlines","preprocessMarkdown","lines","currentLine","processNode","parentType","split","forEach","textLine","word","contentNode","treeNode","splitWordToFitWidth","checkFit","splitWordToFitWidthRecursion","Intl","Segmenter","segment","s","usedChars","remainingChars","nextChar","rest","newWord","splitLineToFitWidth","some","_ref","splitLineToFitWidthRecursion","words","newLine","joiner","nextWord","lineWithNextWord","createTspan","textElement","lineHeight","append","attr","computeWidthOfText","parentNode","testElement","testSpan","updateTextContentAndStyles","textLength","getComputedTextLength","computeDimensionOfText","_a","textDimension","getBoundingClientRect","tspan","wrappedLine","innerTspan","createText","el","style","isTitle","classes","useHtmlLabels","isNode","width","addSvgBackground","l","output","markdownToHTML","vertexNode","element","addBackground","fo","div","labelClass","dom","styleFn","labelStyle","bbox","height","addHtmlSpan","svgLabel","g","structuredText","labelGroup","bkg","insert","checkWidth","line2","linesUnderWidth","preparedLine","getBBox","padding","createFormattedText","reIsDeepProp","reIsPlainProp","getThemeProps","params","theme","propName","defaultProps","useEnhancedEffect","window","useEventCallback","fn","ref","apply","getChildMapping","mapFn","Children","c","isValidElement","mapper","getProp","prop","getNextChildMapping","nextProps","prevChildMapping","onExited","nextChildMapping","prev","getValueForKey","nextKeysPending","pendingKeys","prevKey","childMapping","nextKey","pendingNextKey","mergeChildMappings","keys","hasPrev","hasNext","prevChild","isLeaving","in","cloneElement","bind","obj","TransitionGroup","_React$Component","_this","handleExited","contextValue","isMounting","firstRender","_proto","componentDidMount","mounted","setState","componentWillUnmount","getDerivedStateFromProps","appear","currentChildMapping","render","_this$props","Component","component","childFactory","TransitionGroupContext","Provider","_props$pulsate","pulsate","rippleX","rippleY","rippleSize","inProp","_props$onExited","timeout","_React$useState","leaving","setLeaving","rippleClassName","ripple","rippleVisible","ripplePulsate","rippleStyles","top","childClassName","childLeaving","childPulsate","timeoutId","setTimeout","clearTimeout","className","TouchRipple","_props$center","center","centerProp","other","ripples","setRipples","rippleCallback","ignoringMouseDown","startTimer","startTimerCommit","container","startCommit","cb","oldRipples","_options$pulsate","_options$center","_options$fakeElement","fakeElement","rect","clientX","clientY","touches","round","sqrt","pow","sizeX","abs","clientWidth","sizeY","clientHeight","stop","persist","root","withStyles","overflow","pointerEvents","zIndex","bottom","borderRadius","opacity","transform","animation","transitions","easing","easeInOut","animationDuration","duration","shorter","display","backgroundColor","flip","ButtonBase","action","buttonRefProp","buttonRef","_props$centerRipple","centerRipple","_props$component","_props$disabled","disabled","_props$disableRipple","disableRipple","_props$disableTouchRi","disableTouchRipple","_props$focusRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","_props$tabIndex","tabIndex","TouchRippleProps","_props$type","rippleRef","focusVisible","setFocusVisible","_useIsFocusVisible","useIsFocusVisible","isFocusVisible","onBlurVisible","focusVisibleRef","useRippleHandler","rippleAction","eventCallback","skipRippleAction","focus","handleMouseDown","handleDragLeave","handleMouseUp","handleMouseLeave","preventDefault","handleTouchStart","handleTouchEnd","handleTouchMove","handleBlur","handleFocus","currentTarget","isNonNativeButton","button","href","keydownRef","handleKeyDown","target","handleKeyUp","defaultPrevented","ComponentProp","buttonProps","role","handleUserRef","handleOwnRef","handleRef","_React$useState2","mountedState","setMountedState","enableTouchRipple","alignItems","justifyContent","WebkitTapHighlightColor","outline","border","margin","cursor","userSelect","verticalAlign","textDecoration","color","borderStyle","colorAdjust","hasFunc","deprecatedPropType","validator","reason","requirePropFactory","componentNameInError","unsupportedProp","componentName","location","propFullName","useId","idOverride","defaultId","setDefaultId","id","random","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","getSymbols","symbol","mergeClasses","baseClasses","newClasses","nextClasses","idCounter","reduxUseSelector","shallowEqual","eachFunc","isArrayLike","iterable","Symbol","iterator","nodeType","plainObjectConstrurctor","cloneStyle","newStyle","createRule","decl","jss","declCopy","rule","plugins","onCreateRule","by","toCssValue","cssValue","getWhitespaceSymbols","format","linebreak","space","indentStr","str","indent","toCss","selector","_options$indent","fallbacks","Infinity","_getWhitespaceSymbols","fallback","_prop","_value","_prop2","_value2","allowEmpty","escapeRegex","nativeEscape","CSS","BaseStyleRule","isProcessed","sheet","Renderer","renderer","force","newValue","process","onChangeValue","isEmpty","isDefined","renderable","removeProperty","setProperty","attached","StyleRule","_BaseStyleRule","scoped","generateId","selectorText","_proto2","applyTo","json","toJSON","setSelector","replaceRule","pluginStyleRule","defaultToStringOptions","atRegExp","ConditionalRule","styles","atMatch","at","query","rules","RuleList","getRule","indexOf","addRule","onProcessRule","newRule","keyRegExp","pluginConditionalRule","defaultToStringOptions$1","nameRegExp","KeyframesRule","frames","nameMatch","keyRegExp$1","refRegExp","findReferencedKeyframe","val","keyframes","replaceRef","refKeyframe","pluginKeyframesRule","onProcessStyle","KeyframeRule","pluginKeyframeRule","FontFaceRule","keyRegExp$2","pluginFontFaceRule","ViewportRule","pluginViewportRule","SimpleRule","keysMap","pluginSimpleRule","defaultUpdateOptions","forceUpdateOptions","counter","ruleOptions","_this$options","register","oldRule","oldIndex","nameOrSelector","unregister","update","updateOne","_this$options2","onUpdate","nextValue","_nextValue","_prevValue","css","StyleSheet","deployed","attach","deploy","detach","queue","insertRule","deleteRule","addRules","added","_this$rules","PluginsRegistry","internal","external","registry","onProcessSheet","processedValue","newPlugin","reduce","plugin","SheetsRegistry","reset","_temp","sheets","globalThis$1","globalThis","Function","ns","moduleId","createGenerateId","ruleCounter","jssId","classNamePrefix","minify","memoize","getPropertyValue","cssRule","attributeStyleMap","err","indexOfImportantFlag","cssValueWithoutImportantFlag","substr","delete","getHead","querySelector","findPrevNode","insertionPoint","findHigherSheet","findHighestSheet","nextSibling","childNodes","nodeValue","trim","findCommentNode","getNonce","getAttribute","_insertRule","appendRule","cssRules","getValidRuleInsertionIndex","maxIndex","DomRenderer","hasInsertedRules","createStyle","setAttribute","nonce","nextNode","insertBefore","insertionPointElement","appendChild","insertStyle","removeChild","insertRules","nativeParent","latestNativeParent","_insertionIndex","refCssRule","ruleStr","insertionIndex","nativeRule","getRules","instanceCounter","Jss","version","setup","createStyleSheet","removeStyleSheet","_len","_key","createJss","hasCSSTOMSupport","getDynamicStyles","to","extracted","multiKeyStore","key1","key2","subCache","Map","pseudoClasses","Date","fnValuesNs","fnRuleNs","fnValues","styleRule","fnRule","atPrefix","GlobalContainerRule","GlobalPrefixedRule","separatorRegExp","addScope","scope","parts","handleNestedGlobalContainerRule","handlePrefixedGlobalRule","parentRegExp","getReplaceRef","replaceParentRefs","nestedProp","parentProp","parentSelectors","nestedSelectors","j","nested","getOptions","prevOptions","nestingLevel","isNested","isNestedConditional","uppercasePattern","msPattern","toHyphenLower","hName","convertCase","converted","hyphenatedProp","px","ms","percent","addCamelCasedVersion","regExp","newObj","units","inset","motion","perspective","gap","grid","iterate","innerProp","_innerProp","isNaN","unit","camelCasedOptions","js","vendor","browser","isTouch","documentElement","jsCssMap","Moz","O","Webkit","appearence","noPrefill","supportedProperty","toUpper","camelize","pascalize","mask","longhand","textOrientation","transition","writingMode","breakPropsOld","inlineLogicalOld","newProp","unprefixed","pascalized","scrollSnap","substring","overscrollBehavior","propMap","order","flex2012","propMap$1","flex","propKeys","prefixCss","p","flex2009","multiple","propertyDetectors","getComputedStyle","key$1","x","el$1","cache$1","transitionProperties","transPropsRegExp","prefixTransitionCallback","p1","p2","prefixedValue","supportedValue","property","cacheKey","prefixStyle","changeProp","supportedProp","changeValue","supportedValue$1","atRule","supportedKeyframes","sort","prop0","prop1","generateClassName","_options$disableGloba","disableGlobal","_options$productionPr","productionPrefix","_options$seed","seed","seedPrefix","getNextCounterId","styleSheet","createGenerateClassName","defaultOptions","disableGeneration","sheetsCache","sheetsManager","sheetsRegistry","StylesContext","indexCounter","_ref2","stylesOptions","stylesCreator","sheetManager","refs","staticSheet","dynamicStyles","direction","serverGenerateClassName","dynamicSheet","makeStyles","stylesOrCreator","classNamePrefixOption","_options$defaultTheme","stylesOptions2","themingEnabled","overrides","stylesWithOverrides","deepmerge","getStylesCreator","useTheme","instance","shouldUpdate","func","currentKey","useSynchronousEffect","_ref4","_ref3","cacheClasses","lastProp","lastJSS","generate","getClasses","_options$withTheme","withTheme","useStyles","displayName","WithStyles","innerRef","f","clsx","setRef","bitmask","customizer","equalFunc","isPartial","arrLength","othLength","arrStacked","othStacked","arrValue","othValue","compared","othIndex","symbolValueOf","valueOf","tag","byteLength","byteOffset","eq","message","convert","stacked","objProps","objLength","objStacked","skipCtor","objValue","objCtor","othCtor","argsTag","arrayTag","objectTag","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","isBuffer","isTypedArray","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","baseIsEqual","isObjectLike","matchData","noCustomizer","srcValue","isObject","defaultValue","hasIn","identity","markers","elem","trace","composition","aggregation","dependency","lollipop","circle","cross","barb","insertMarkers$1","markerArray","markerName","createLabel$1","_vertexText","vertexText","flowchart","htmlLabels","debug","createElementNS","addHtmlLabel","rows","row","setAttributeNS","labelHelper","async","_classes","shapeSvg","domId","textNode","labelType","wrappingWidth","halfPadding","dv","images","getElementsByTagName","noImgText","Promise","img","res","setupImage","flexDirection","bodyFontSize","fontSize","body","enlargingFactor","minWidth","maxWidth","complete","addEventListener","centerLabel","updateNodeBounds","insertPolygonShape","h","points","y","intersectEllipse","rx","ry","point2","cx","cy","py","det","dx","dy","intersectLine","q1","q2","a1","a2","b1","b2","c1","c2","r1","r2","r3","r4","denom","num","sameSign","intersectRect$1","sx","sy","intersect","ellipse","polygon","polyPoints","x1","y1","intersections","minX","minY","min","intersect2","q","pdx","pdy","distp","qdx","qdy","distq","getArrowPoints","duplicatedDirections","directions","uniqueDirections","Set","expandAndDeduplicateDirections","midpoint","formatClass","getClassesFromNode","otherClasses","class","question","questionElem","warn","applyNodePropertyBorders","rect2","borders","totalWidth","totalHeight","strokeDashArray","addBorder","skipBorder","forkJoin","dir","shape","shapes","rhombus","composite","positioned","propKey","labelRect","rectWithTitle","innerLine","text2","flat","textRows","titleBox","descr","choice","circle2","doublecircle","circleGroup","outerCircle","innerCircle","stadium","hexagon","m","block_arrow","blockArrow","rect_left_inv_arrow","lean_right","lean_left","trapezoid","inv_trapezoid","rect_right_inv_arrow","cylinder","note","subroutine","fork","class_box","topLine","bottomLine","maxHeight","labelContainer","verticalPos","hasInterface","classData","annotations","interfaceLabelText","interfaceLabel","interfaceBBox","classTitleString","classTitleLabel","classTitleBBox","classAttributes","members","member","parsedInfo","getDisplayDetails","parsedText","displayText","lbl","cssStyle","classMethods","methods","diffX2","diffX","memberBBox","nodeElems","insertNode","newEl","securityLevel","linkTarget","tooltip","haveCallback","setNodeElem","clear$1","positionNode","diff","clusterNode","getSubGraphTitleMargins","_b","subGraphTitleTopMargin","subGraphTitleMargin","subGraphTitleBottomMargin","subGraphTitleTotalMargin","markerOffsets","arrow_point","calculateDeltaAndAngle","point1","angle","deltaX","deltaY","pointTransformer","x2","y2","atan","getLineFunctionsWithOffset","hasOwn","arrowTypeStart","cos","arrowTypeEnd","sin","addEdgeMarkers","svgPath","diagramType","addEdgeMarker","arrowTypesMap","arrow_cross","arrow_barb","arrow_circle","arrowType","endMarkerType","suffix","edgeLabels","terminalLabels","clear","insertEdgeLabel","labelElement","edgeLabel","startLabelLeft","startLabelElement","startEdgeLabelLeft","inner","slBox","startLeft","setTerminalWidth","startLabelRight","startEdgeLabelRight","startRight","endLabelLeft","endLabelElement","endEdgeLabelLeft","endLeft","endLabelRight","endEdgeLabelRight","endRight","positionEdgeLabel","paths","updatedPath","originalPath","siteConfig","calcLabelPosition","calcTerminalLabelPosition","cutPathAtIntersect","_points","boundaryNode","lastPointOutside","isInside","outsideNode","inter","outsidePoint","insidePoint","JSON","stringify","Q","R","_x","_y","intersection","pointPresent","insertEdge","clusterDb","pointsHasChanged","toCluster","fromCluster","reverse","lineData","curve","lineFunction","strokeClasses","thickness","pattern","arrowMarkerAbsolute","protocol","host","pathname","__data__","SetCache","flatten","siteTitle","shortSiteTitle","siteDescription","siteUrl","pathPrefix","siteImage","siteLanguage","authorName","infoTitle","infoTitleNote","infoText","manifestName","manifestShortName","manifestDescription","manifestStartUrl","manifestBackgroundColor","manifestThemeColor","manifestDisplay","manifestCrossOrigin","manifestLang","contactEmail","googleSiteVerification","debounce","wait","debounced","that","o","SvgIcon","_props$color","_props$fontSize","htmlColor","titleAccess","_props$viewBox","viewBox","capitalize","focusable","muiName","fill","flexShrink","typography","pxToRem","colorPrimary","palette","primary","colorSecondary","secondary","colorAction","active","colorError","error","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeLarge","reWhitespace","charAt","reTrimStart","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","isBinary","INFINITY","descendants","isDescendant","ancestorId","clusterId","newGraph","rootId","data2","edgeInCluster","extractDescendants","findNonClusterChild","_id","getAnchorId","externalConnections","extractor","hasChildren","rankdir","clusterData","clusterGraph","nodesep","ranksep","marginx","marginy","sorter","sorted","rectBox","roundedWithTitle","innerRect","noteGroup","divider","clusterElems","recursiveRender","_elem","parentCluster","clusters","edgePaths","sortNodesByHierarchy","insertCluster","nonClusterChild","specialId","edge1","structuredClone","edge2","adjustClustersAndEdges","useControlled","controlled","defaultProp","default","isControlled","valueState","setValue","createChainedFunction","funcs","acc","_len2","_key2","List","sentinel","_next","_prev","_sentinel","dequeue","unlink","enqueue","strs","curr","filterOutLinks","DEFAULT_WEIGHT_FN","greedyFAS","weightFn","fasGraph","maxIn","maxOut","out","prevWeight","weight","edgeWeight","buckets","zeroIdx","assignBucket","buildState","results","doGreedyFAS","collectPredecessors","uEntry","wEntry","run","fas","acyclicer","visited","dfs","dfsFAS","forwardName","reversed","addDummyNode","attrs","dummy","asNonCompoundGraph","simplified","intersectRect","buildLayerMatrix","layering","rank","addBorderNode","console","log","notime","sg","sgNode","borderType","rankDir","reverseYOne","reverseY","swapXYOne","swapXY","swapWidthHeight","swapWidthHeightOne","dummyChains","vRank","wRank","labelRank","labelpos","normalizeEdge","longestPath","minlen","slack","feasibleTree","delta","tightTree","findMinSlackEdge","shiftRanks","edgeV","findIndexFunc","toFinite","remainder","nativeMax","RegExp","rsAstral","rsCombo","rsFitz","rsNonAstral","rsRegional","rsSurrPair","reOptMod","rsOptVar","rsSeq","rsSymbol","navigation","doDfs","postorder","networkSimplex","simpleLabel","simplify","initLowLimValues","initCutValues","leaveEdge","exchangeEdges","enterEdge","childLab","cutvalue","calcCutValue","assignCutValue","childIsTail","graphEdge","cutValue","isOutEdge","pointsToHead","otherWeight","otherCutValue","dfsAssignLowLim","nextLim","low","lim","vLabel","wLabel","tailLabel","candidates","flipped","updateRanks","rootLabel","ranker","networkSimplexRanker","tightTreeRanker","longestPathRanker","depths","treeDepths","nodeSep","nestingRoot","sumWeights","nodeRankFactor","borderTop","borderBottom","childNode","childTop","childBottom","thisWeight","nestingEdge","CLONE_DEEP_FLAG","buildLayerGraph","relationship","createRootNode","minRank","maxRank","borderLeft","borderRight","assignFunc","valsLength","comparer","valIsDefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","orders","objCriteria","criteria","othCriteria","ordersLength","iteratees","crossCount","cc","twoLayerCrossCount","northLayer","southLayer","southPos","southEntries","firstIndex","treeSize","weightSum","resolveConflicts","entries","cg","mappedEntries","indegree","barycenter","entryV","entryW","sourceSet","handleIn","vEntry","merged","sum","mergeEntries","handleOut","doResolveConflicts","biasRight","bias","lhs","rhs","sortable","unsortable","vsIndex","consumeUnsortable","last","sortSubgraph","movable","bl","br","subgraphs","barycenters","nodeU","subgraphResult","expandSubgraphs","blPred","brPred","downLayerGraphs","buildLayerGraphs","upLayerGraphs","simpleNodes","layers","orderedVs","initOrder","assignOrder","best","bestCC","lastBest","sweepLayerGraphs","ranks","layerGraphs","lg","rootPrev","addSubgraphConstraints","layer","parentDummyChains","postorderNums","pathData","lca","vPath","wPath","findPath","pathIdx","pathV","ascending","keysIn","findType1Conflicts","conflicts","prevLayer","k0","scanPos","prevLayerLength","lastNode","findOtherInnerSegmentNode","k1","scanNode","uLabel","uPos","addConflict","conflictsV","hasConflict","horizontalCompaction","align","reverseSep","xs","blockG","blockGraph","graphLabel","sepFn","edgeSep","sep","edgesep","vRoot","uRoot","prevMax","buildBlockGraph","setXsFunc","nextNodesFunc","positionX","adjustedLayering","scan","south","southEnd","prevNorthBorder","nextNorthBorder","uNode","north","nextNorthPos","prevNorthPos","southLookahead","findType2Conflicts","xss","vert","horiz","neighborFn","prevIdx","ws","mp","floor","il","verticalAlignment","smallestWidth","NEGATIVE_INFINITY","halfWidth","findSmallestWidthAlignment","alignTo","alignToVals","alignToMin","alignToMax","alignment","xsVals","alignCoordinates","ul","ignore","rankSep","prevY","positionY","layout","time","debugTiming","layoutGraph","inputGraph","canonicalize","graphDefaults","selectNumberAttrs","graphNumAttrs","graphAttrs","nodeNumAttrs","nodeDefaults","edgeDefaults","edgeNumAttrs","edgeAttrs","buildLayoutGraph","labeloffset","makeSpaceForEdgeLabels","selfEdges","removeSelfEdges","injectEdgeLabelProxies","assignRankMinMax","removeEdgeLabelProxies","addBorderSegments","orderShift","selfEdge","insertSelfEdges","selfNode","positionSelfEdges","b","removeBorderNodes","origLabel","fixupEdgeLabelCoords","maxX","maxY","marginX","marginY","getExtremes","translateGraph","nodeV","nodeW","assignNodeIntersects","reversePointsForReversedEdges","runLayout","inputLabel","layoutLabel","updateInputGraph","newAttrs","rePropName","reEscapeChar","number","quote","subString","hadKeyboardEvent","hadFocusVisibleRecently","hadFocusVisibleRecentlyTimeout","inputTypesWhitelist","tel","email","password","date","month","week","datetime","metaKey","altKey","ctrlKey","handlePointerDown","handleVisibilityChange","visibilityState","matches","readOnly","isContentEditable","handleBlurVisible","doc","useLogoQuery","useStaticQuery","stubArray","input","dataView","isDeep","reFlags","regexp","Ctor","nodeIsMap","isMap","nodeIsSet","isSet","funcTag","cloneableTags","baseClone","isFlat","isFull","isArr","isFunc","subValue","keysFunc","writeNodes","writeEdges","edgeValue","_defineProperties","configurable","writable","_createClass","symbolsFunc","accumulator","initAccum","IconButton","_props$edge","_props$disableFocusRi","disableFocusRipple","_props$size","edgeStart","edgeEnd","textAlign","shortest","hoverOpacity","marginLeft","marginRight","colorInherit","sizeSmall","ownerWindow","defaultView","nativeCeil","step","resIndex","isMuiElement","muiNames","moveNavFeature","getState","navigatorPosition","isWideScreen","dispatch","setNavigatorPosition","setNavigatorShape","navigate","moveNavAside"],"sourceRoot":""}