{"version":3,"file":"731-a1103eaaddfe27837ef0.js","mappings":"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","sources":["webpack://bradkim06/./node_modules/mermaid/dist/classDiagram-v2-72bddc41.js"],"sourcesContent":["import _defineProperty from \"/Users/bradkim06/blog/myBlog/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { p as parser, d as db, s as styles } from \"./styles-16907e1b.js\";\nimport { select, curveLinear } from \"d3\";\nimport * as graphlib from \"dagre-d3-es/src/graphlib/index.js\";\nimport { l as log, g as getConfig, e as common } from \"./commonDb-573409be.js\";\nimport { r as render } from \"./index-5219d011.js\";\nimport { u as utils, s as setupGraphViewbox, o as interpolateToCurve, n as getStylesFromArray } from \"./utils-d622194a.js\";\nimport \"./mermaidAPI-3ae0f2f0.js\";\nimport \"stylis\";\nimport \"dompurify\";\nimport \"lodash-es/isEmpty.js\";\nimport \"dayjs\";\nimport \"khroma\";\nimport \"dagre-d3-es/src/dagre/index.js\";\nimport \"dagre-d3-es/src/graphlib/json.js\";\nimport \"./edges-2e77835f.js\";\nimport \"./createText-1f5f8f92.js\";\nimport \"@khanacademy/simple-markdown\";\nimport \"./svgDraw-2526cba0.js\";\nimport \"@braintree/sanitize-url\";\nimport \"lodash-es/memoize.js\";\n\nvar sanitizeText = function sanitizeText(txt) {\n  return common.sanitizeText(txt, getConfig());\n};\n\nvar conf = {\n  dividerMargin: 10,\n  padding: 5,\n  textHeight: 10,\n  curve: void 0\n};\n\nvar addClasses = function addClasses(classes, g, _id, diagObj) {\n  var keys = Object.keys(classes);\n  log.info(\"keys:\", keys);\n  log.info(classes);\n  keys.forEach(function (id) {\n    var _vertex$label, _ref;\n\n    var _a, _b;\n\n    var vertex = classes[id];\n    var cssClassStr = \"\";\n\n    if (vertex.cssClasses.length > 0) {\n      cssClassStr = cssClassStr + \" \" + vertex.cssClasses.join(\" \");\n    }\n\n    var styles2 = {\n      labelStyle: \"\",\n      style: \"\"\n    };\n    var vertexText = (_vertex$label = vertex.label) !== null && _vertex$label !== void 0 ? _vertex$label : vertex.id;\n    var radius = 0;\n    var shape = \"class_box\";\n    var node = {\n      labelStyle: styles2.labelStyle,\n      shape: shape,\n      labelText: sanitizeText(vertexText),\n      classData: vertex,\n      rx: radius,\n      ry: radius,\n      class: cssClassStr,\n      style: styles2.style,\n      id: vertex.id,\n      domId: vertex.domId,\n      tooltip: diagObj.db.getTooltip(vertex.id) || \"\",\n      haveCallback: vertex.haveCallback,\n      link: vertex.link,\n      width: vertex.type === \"group\" ? 500 : void 0,\n      type: vertex.type,\n      // TODO V10: Flowchart ? Keeping flowchart for backwards compatibility. Remove in next major release\n      padding: (_ref = (_a = getConfig().flowchart) == null ? void 0 : _a.padding) !== null && _ref !== void 0 ? _ref : (_b = getConfig().class) == null ? void 0 : _b.padding\n    };\n    g.setNode(vertex.id, node);\n    log.info(\"setNode\", node);\n  });\n};\n\nvar addNotes = function addNotes(notes, g, startEdgeId, classes) {\n  log.info(notes);\n  notes.forEach(function (note, i) {\n    var _ref2;\n\n    var _a, _b;\n\n    var vertex = note;\n    var cssNoteStr = \"\";\n    var styles2 = {\n      labelStyle: \"\",\n      style: \"\"\n    };\n    var vertexText = vertex.text;\n    var radius = 0;\n    var shape = \"note\";\n    var node = {\n      labelStyle: styles2.labelStyle,\n      shape: shape,\n      labelText: sanitizeText(vertexText),\n      noteData: vertex,\n      rx: radius,\n      ry: radius,\n      class: cssNoteStr,\n      style: styles2.style,\n      id: vertex.id,\n      domId: vertex.id,\n      tooltip: \"\",\n      type: \"note\",\n      // TODO V10: Flowchart ? Keeping flowchart for backwards compatibility. Remove in next major release\n      padding: (_ref2 = (_a = getConfig().flowchart) == null ? void 0 : _a.padding) !== null && _ref2 !== void 0 ? _ref2 : (_b = getConfig().class) == null ? void 0 : _b.padding\n    };\n    g.setNode(vertex.id, node);\n    log.info(\"setNode\", node);\n\n    if (!vertex.class || !(vertex.class in classes)) {\n      return;\n    }\n\n    var edgeId = startEdgeId + i;\n    var edgeData = {\n      id: \"edgeNote\".concat(edgeId),\n      //Set relationship style and line type\n      classes: \"relation\",\n      pattern: \"dotted\",\n      // Set link type for rendering\n      arrowhead: \"none\",\n      //Set edge extra labels\n      startLabelRight: \"\",\n      endLabelLeft: \"\",\n      //Set relation arrow types\n      arrowTypeStart: \"none\",\n      arrowTypeEnd: \"none\",\n      style: \"fill:none\",\n      labelStyle: \"\",\n      curve: interpolateToCurve(conf.curve, curveLinear)\n    };\n    g.setEdge(vertex.id, vertex.class, edgeData, edgeId);\n  });\n};\n\nvar addRelations = function addRelations(relations, g) {\n  var conf2 = getConfig().flowchart;\n  var cnt = 0;\n  relations.forEach(function (edge) {\n    var _a;\n\n    cnt++;\n    var edgeData = {\n      //Set relationship style and line type\n      classes: \"relation\",\n      pattern: edge.relation.lineType == 1 ? \"dashed\" : \"solid\",\n      id: \"id\" + cnt,\n      // Set link type for rendering\n      arrowhead: edge.type === \"arrow_open\" ? \"none\" : \"normal\",\n      //Set edge extra labels\n      startLabelRight: edge.relationTitle1 === \"none\" ? \"\" : edge.relationTitle1,\n      endLabelLeft: edge.relationTitle2 === \"none\" ? \"\" : edge.relationTitle2,\n      //Set relation arrow types\n      arrowTypeStart: getArrowMarker(edge.relation.type1),\n      arrowTypeEnd: getArrowMarker(edge.relation.type2),\n      style: \"fill:none\",\n      labelStyle: \"\",\n      curve: interpolateToCurve(conf2 == null ? void 0 : conf2.curve, curveLinear)\n    };\n    log.info(edgeData, edge);\n\n    if (edge.style !== void 0) {\n      var styles2 = getStylesFromArray(edge.style);\n      edgeData.style = styles2.style;\n      edgeData.labelStyle = styles2.labelStyle;\n    }\n\n    edge.text = edge.title;\n\n    if (edge.text === void 0) {\n      if (edge.style !== void 0) {\n        edgeData.arrowheadStyle = \"fill: #333\";\n      }\n    } else {\n      var _ref3;\n\n      edgeData.arrowheadStyle = \"fill: #333\";\n      edgeData.labelpos = \"c\";\n\n      if ((_ref3 = (_a = getConfig().flowchart) == null ? void 0 : _a.htmlLabels) !== null && _ref3 !== void 0 ? _ref3 : getConfig().htmlLabels) {\n        edgeData.labelType = \"html\";\n        edgeData.label = '<span class=\"edgeLabel\">' + edge.text + \"</span>\";\n      } else {\n        edgeData.labelType = \"text\";\n        edgeData.label = edge.text.replace(common.lineBreakRegex, \"\\n\");\n\n        if (edge.style === void 0) {\n          edgeData.style = edgeData.style || \"stroke: #333; stroke-width: 1.5px;fill:none\";\n        }\n\n        edgeData.labelStyle = edgeData.labelStyle.replace(\"color:\", \"fill:\");\n      }\n    }\n\n    g.setEdge(edge.id1, edge.id2, edgeData, cnt);\n  });\n};\n\nvar setConf = function setConf(cnf) {\n  conf = _objectSpread(_objectSpread({}, conf), cnf);\n};\n\nvar draw = function draw(text, id, _version, diagObj) {\n  var _getConfig$flowchart, _ref4, _ref5, _ref6;\n\n  log.info(\"Drawing class - \", id);\n  var conf2 = (_getConfig$flowchart = getConfig().flowchart) !== null && _getConfig$flowchart !== void 0 ? _getConfig$flowchart : getConfig().class;\n  var securityLevel = getConfig().securityLevel;\n  log.info(\"config:\", conf2);\n  var nodeSpacing = (_ref4 = conf2 == null ? void 0 : conf2.nodeSpacing) !== null && _ref4 !== void 0 ? _ref4 : 50;\n  var rankSpacing = (_ref5 = conf2 == null ? void 0 : conf2.rankSpacing) !== null && _ref5 !== void 0 ? _ref5 : 50;\n  var g = new graphlib.Graph({\n    multigraph: true,\n    compound: true\n  }).setGraph({\n    rankdir: diagObj.db.getDirection(),\n    nodesep: nodeSpacing,\n    ranksep: rankSpacing,\n    marginx: 8,\n    marginy: 8\n  }).setDefaultEdgeLabel(function () {\n    return {};\n  });\n  var classes = diagObj.db.getClasses();\n  var relations = diagObj.db.getRelations();\n  var notes = diagObj.db.getNotes();\n  log.info(relations);\n  addClasses(classes, g, id, diagObj);\n  addRelations(relations, g);\n  addNotes(notes, g, relations.length + 1, classes);\n  var sandboxElement;\n\n  if (securityLevel === \"sandbox\") {\n    sandboxElement = select(\"#i\" + id);\n  }\n\n  var root = securityLevel === \"sandbox\" ? // @ts-ignore Ignore type error for now\n  select(sandboxElement.nodes()[0].contentDocument.body) : select(\"body\");\n  var svg = root.select(\"[id=\\\"\".concat(id, \"\\\"]\"));\n  var element = root.select(\"#\" + id + \" g\");\n  render(element, g, [\"aggregation\", \"extension\", \"composition\", \"dependency\", \"lollipop\"], \"classDiagram\", id);\n  utils.insertTitle(svg, \"classTitleText\", (_ref6 = conf2 == null ? void 0 : conf2.titleTopMargin) !== null && _ref6 !== void 0 ? _ref6 : 5, diagObj.db.getDiagramTitle());\n  setupGraphViewbox(g, svg, conf2 == null ? void 0 : conf2.diagramPadding, conf2 == null ? void 0 : conf2.useMaxWidth);\n\n  if (!(conf2 == null ? void 0 : conf2.htmlLabels)) {\n    var doc = securityLevel === \"sandbox\" ? sandboxElement.nodes()[0].contentDocument : document;\n    var labels = doc.querySelectorAll('[id=\"' + id + '\"] .edgeLabel .label');\n\n    var _iterator = _createForOfIteratorHelper(labels),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var label = _step.value;\n        var dim = label.getBBox();\n        var rect = doc.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n        rect.setAttribute(\"rx\", 0);\n        rect.setAttribute(\"ry\", 0);\n        rect.setAttribute(\"width\", dim.width);\n        rect.setAttribute(\"height\", dim.height);\n        label.insertBefore(rect, label.firstChild);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n};\n\nfunction getArrowMarker(type) {\n  var marker;\n\n  switch (type) {\n    case 0:\n      marker = \"aggregation\";\n      break;\n\n    case 1:\n      marker = \"extension\";\n      break;\n\n    case 2:\n      marker = \"composition\";\n      break;\n\n    case 3:\n      marker = \"dependency\";\n      break;\n\n    case 4:\n      marker = \"lollipop\";\n      break;\n\n    default:\n      marker = \"none\";\n  }\n\n  return marker;\n}\n\nvar renderer = {\n  setConf: setConf,\n  draw: draw\n};\nvar diagram = {\n  parser: parser,\n  db: db,\n  renderer: renderer,\n  styles: styles,\n  init: function init(cnf) {\n    if (!cnf.class) {\n      cnf.class = {};\n    }\n\n    cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n    db.clear();\n  }\n};\nexport { diagram };"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","from","test","_unsupportedIterableToArray","length","i","F","s","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","arguments","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","sanitizeText","txt","g","conf","dividerMargin","padding","textHeight","curve","getArrowMarker","type","marker","renderer","setConf","cnf","draw","text","id","_version","diagObj","_getConfig$flowchart","_ref4","_ref5","_ref6","l","conf2","flowchart","class","securityLevel","sandboxElement","nodeSpacing","rankSpacing","multigraph","compound","setGraph","rankdir","db","getDirection","nodesep","ranksep","marginx","marginy","setDefaultEdgeLabel","classes","getClasses","relations","getRelations","notes","getNotes","_id","_vertex$label","_ref","_a","_b","vertex","cssClassStr","cssClasses","join","styles2","vertexText","label","node","labelStyle","shape","labelText","classData","rx","ry","style","domId","tooltip","getTooltip","haveCallback","link","width","setNode","addClasses","cnt","edge","_ref3","edgeData","pattern","relation","lineType","arrowhead","startLabelRight","relationTitle1","endLabelLeft","relationTitle2","arrowTypeStart","type1","arrowTypeEnd","type2","title","arrowheadStyle","labelpos","htmlLabels","labelType","replace","setEdge","id1","id2","addRelations","startEdgeId","note","_ref2","noteData","edgeId","concat","addNotes","root","nodes","contentDocument","body","svg","select","element","r","u","titleTopMargin","getDiagramTitle","diagramPadding","useMaxWidth","_step","doc","document","_iterator","querySelectorAll","dim","getBBox","rect","createElementNS","setAttribute","height","insertBefore","firstChild","diagram","parser","p","d","styles","init","arrowMarkerAbsolute"],"sourceRoot":""}